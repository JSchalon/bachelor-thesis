(function(){var e={155:function(e){"use strict";e.exports=JSON.parse('{"catName":"Wide Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":2,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":3,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":4,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":5,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":6,"resizable":true,"beatHeight":1}]}')},160:function(e,t,i){"use strict";e.exports=i.p+"img/blank.d9c4eaea.svg"},247:function(e,t,i){"use strict";e.exports=i.p+"img/cancel-back.f4862e4c.svg"},335:function(e,t,i){"use strict";e.exports=i.p+"img/direction-inner-pin.bee27411.svg"},387:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641);const a={class:"option-item"};function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("li",a,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.btn),{onExportFailure:o.exportFail,onExportSuccess:o.exportSuccess},null,40,["onExportFailure","onExportSuccess"]))])}var r={name:"CloudExportButton",props:{btn:String},methods:{exportFail(){this.$store.dispatch("setCloudAlert","export-failure"),setTimeout(function(){this.$store.dispatch("setCloudAlert","")}.bind(this),5e3)},exportSuccess(){this.$store.dispatch("setCloudAlert","export-success"),setTimeout(function(){this.$store.dispatch("setCloudAlert","")}.bind(this),5e3)}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},400:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("OnOffOption"),c=(0,n.g2)("RadioOption"),g=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"turn-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"]),(0,n.bF)(l,{optionText:"Hold",initState:i.signData.holding,active:!0,onSwitchState:r.changeHolding},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{options:s.definitionTypes,initState:i.signData.definition?s.definitionTypes.findIndex((e=>e.text==i.signData.definition.baseType)):0,optionText:"Definition",active:!0,onSwitchState:r.changeDefinition},null,8,["options","initState","onSwitchState"]),(0,n.bF)(c,{options:s.definitions,initState:i.signData.definition?s.definitions.findIndex((e=>e.text==i.signData.definition.signType)):0,optionText:"Angle level",active:i.signData.definition&&"Pin"==i.signData.definition.baseType,onSwitchState:r.changeDefinitionPin},null,8,["options","initState","active","onSwitchState"]),i.signData.definition&&"SpaceMeasurementSign"!=i.signData.definition.baseType?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(o,{key:0,optionText:"Angle",category:"pins-low",parentY:i.y,active:!(!i.signData.definition||"SpaceMeasurementSign"==i.signData.definition.baseType),onUpdateSignData:r.changeType},null,8,["parentY","active","onUpdateSignData"])),i.signData.definition&&"Low"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:1,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.definition&&"Middle"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:2,optionText:"Angle",category:"pins-middle",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.definition&&"High"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:3,optionText:"Angle",category:"pins-high",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionPinAngle},null,8,["parentY","active","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(o,{optionText:"Space Measurement Sign",category:"space-measurement-signs",parentY:i.y,active:i.signData.definition&&"SpaceMeasurementSign"==i.signData.definition.baseType,onUpdateSignData:r.changeDefinitionSpace},null,8,["parentY","active","onUpdateSignData"]),i.signData.definition&&"Pin"!=i.signData.definition.baseType&&"Unfolding"!=i.signData.definition.signType&&"NeitherOr"!=i.signData.definition.signType?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(o,{key:4,optionText:"Degree",category:"wide-signs",parentY:i.y,active:!1,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])),i.signData.definition&&"Narrow"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:5,optionText:"Degree",category:"narrow-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),i.signData.definition&&"Wide"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:6,optionText:"Degree",category:"wide-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),i.signData.definition&&"Joining"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:7,optionText:"Degree",category:"joining-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),i.signData.definition&&"Spreading"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:8,optionText:"Degree",category:"spreading-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),i.signData.definition&&"Folding"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:9,optionText:"Degree",category:"folding-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeDefinitionSpaceDegree},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(g,{mIndex:0,onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"TurnSignContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{definitions:[{text:"Low",img:"/pin-low-forward.svg"},{text:"Middle",img:"/pin-middle.svg"},{text:"High",img:"/pin-high.svg"}],definitionTypes:[{text:"---",img:!1},{text:"Pin",img:"/pin-low-forward.svg"},{text:"SpaceMeasurementSign",img:"/space-measurement-sign.svg"}]}},methods:{changeType(e){this.newSignData({signType:e.text})},changeHolding(e){this.newSignData({holding:e})},changeDefinition(e){"---"!=this.definitionTypes[e].text?"Pin"==this.definitionTypes[e].text?this.newSignData({definition:{baseType:"Pin",signType:"Low",degree:0,bgVisible:!0}}):this.newSignData({definition:{baseType:"SpaceMeasurementSign",signType:"Narrow",degree:1}}):this.newSignData({definition:!1})},changeDefinitionPin(e){let t=JSON.parse(JSON.stringify(this.signData.definition))||{baseType:"Pin",signType:"Low",degree:0,bgVisible:!1};t.signType=this.definitions[e].text,this.newSignData({definition:t})},changeDefinitionPinAngle(e){if(this.isActive){let t=e.degree,i=JSON.parse(JSON.stringify(this.signData.definition))||{baseType:"Pin",signType:"Low",degree:0,bgVisible:!1};i.degree=t,this.newSignData({definition:i})}},changeDefinitionSpace(e){this.newSignData({definition:e})},changeDefinitionSpaceDegree(e){if(this.isActive){let t=e.degree,i=JSON.parse(JSON.stringify(this.signData.definition));i.degree=t,this.newSignData({definition:i})}},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},411:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s=["cx","stroke-width","signID"],r=["points","transform","stroke-width","signID","fill"],o=["cx","cy","signID"],l=["transform"];function c(e,t,i,c,g,h){const d=(0,n.g2)("Pin");return(0,n.uX)(),(0,n.CE)("g",null,[i.signData.holding?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:h.signWidth/2,cy:5,r:"5",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,signID:i.id},null,10,s)):(0,n.Q3)("",!0),(0,n.Lk)("polygon",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),points:h.baseSigns[h.variation.base].points,transform:h.transform,stroke:"black","stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,signID:i.id,fill:"Middle"!=i.signData.dimension?h.getFill():"white"},null,10,r),"Middle"!=i.signData.dimension||i.signData.definition&&"Middle"==i.signData.definition.signType?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("circle",{key:1,cx:h.signWidth/2,cy:i.height/2,r:"4",fill:"black",signID:i.id},null,8,o)),i.signData.definition?((0,n.uX)(),(0,n.Wv)(d,{key:2,isSelected:i.isSelected,id:i.id,signData:i.signData.definition,height:i.height,inverted:"Low"==i.signData.dimension},null,8,["isSelected","id","signData","height","inverted"])):(0,n.Q3)("",!0),(0,n.Lk)("g",{transform:"translate("+h.getPositionTransform()+",0)"},[i.signData.position&&"---"!=i.signData.position?((0,n.uX)(),(0,n.Wv)(d,{key:0,isSelected:i.isSelected,id:i.id,signData:"Infront"==i.signData.position?{signType:"Low",degree:0}:{signType:"Low",degree:180},height:i.height},null,8,["isSelected","id","signData","height"])):(0,n.Q3)("",!0)],8,l)])}i(8111),i(116);var g={name:"DirectionSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth","barHeight"],data(){return{variations:[{name:"left-forward",base:1,transform:[]},{name:"forward left",base:0,transform:[]},{name:"forward right",base:0,transform:["mirror-y"]},{name:"right-forward",base:1,transform:["mirror-y"]},{name:"left",base:2,transform:[]},{name:"place",base:3,transform:[]},{name:"right",base:2,transform:["mirror-y"]},{name:"left-backward",base:1,transform:["mirror-x"]},{name:"backward left",base:0,transform:["mirror-x"]},{name:"backward right",base:0,transform:["mirror-x","mirror-y"]},{name:"right-backward",base:1,transform:["mirror-x","mirror-y"]}]}},computed:{baseSigns(){let e=[{name:"straight",points:""},{name:"diagonal",points:""},{name:"sideways",points:""},{name:"place",points:""}],t=0;this.signData.holding&&(t=10);let i="0,"+this.beatHeight/2+" "+this.signWidth/2+","+this.beatHeight/2+" "+this.signWidth/2+","+t+" "+this.signWidth+","+t+" "+this.signWidth+","+this.height+" 0,"+this.height;e[0].points=i;let n="0,"+t+" "+this.signWidth+","+this.beatHeight/3+" "+this.signWidth+","+this.height+" 0,"+this.height;e[1].points=n;let a=this.signWidth+","+t+" 0,"+this.height/2+" "+this.signWidth+","+this.height;e[2].points=a;let s="0,"+t+" "+this.signWidth+","+t+" "+this.signWidth+","+this.height+" 0,"+this.height;return e[3].points=s,e},beatHeight(){return this.barHeight()/this.$store.state["beatsPerBar"]},transform(){let e="",t=[1,1],i=[0,0];for(let n=0;n<this.variation.transform.length;n++)"mirror-x"==this.variation.transform[n]?(t[1]=-1,i[1]=this.height,this.signData.holding&&(i[1]=i[1]+10)):"mirror-y"==this.variation.transform[n]&&(t[0]=-1,i[0]=this.signWidth),e="translate("+i[0]+", "+i[1]+") scale("+t[0]+", "+t[1]+")";return e},variation(){let e={};return e="backward"==this.signData.signType||"forward"==this.signData.signType?this.variations.find((e=>e.name===this.signData.signType+" "+this.signData.side)):this.variations.find((e=>e.name===this.signData.signType)),e}},methods:{getFill(){return"Low"==this.signData.dimension?"black":"High"==this.signData.dimension?"backward"==this.signData.signType||"forward"==this.signData.signType?"url(#direction-high-"+this.signData.side+")":this.signData.signType.includes("right")?"url(#direction-high-left)":this.signData.signType.includes("left")?"url(#direction-high-right)":"url(#direction-high-left)":"white"},getPositionTransform(){return"left"==this.signData.side?10-this.signWidth:this.signWidth-10}}},h=i(6262);const d=(0,h.A)(g,[["render",c]]);var u=d},545:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:l.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"NarrowSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],computed:{path(){let e="M 0,0 L 40,40 M 0,40 L 40,0";return this.degree>3&&(e="M 0,5 L 35,40 M 5,0 L 40,35 M 0,35 L 35,0 M 5,40 L 40,5"),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},582:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["x","y","data-y","data-x","transform","signID"];function r(e,t,i,r,o,l){const c=(0,n.g2)("ResizeHandle");return(0,n.uX)(),(0,n.CE)("g",{class:(0,a.C4)(["sign-container",["RelationshipBow"==i.signData.baseType?"bow":"normal","RoomDirectionSign"==i.signData.baseType?"room-direction":"","PathSign"==i.signData.baseType?"path":"","BodyPartSign"==i.signData.baseType?"body-part":"","PropSign"==i.signData.baseType?"body-part":"","PathSign"!=i.signData.baseType&&"RoomDirectionSign"!=i.signData.baseType&&"BodyPartSign"!=i.signData.baseType&&"PropSign"!=i.signData.baseType?"bound-inner":""]]),x:l.x,y:l.y,"data-y":l.y,"data-x":l.x,transform:"translate("+l.x+","+l.y+")",ref:"sign",signID:i.id},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.signData.baseType),{id:i.id,isSelected:i.signData.isSelected,height:l.height,width:l.width,signData:i.signData},null,8,["id","isSelected","height","width","signData"])),(0,n.bF)(c,{pos:"RelationshipBow"==i.signData.baseType?"left":"top",isActive:i.signData.isSelected&&l.canResize&&i.signData.resizable,signHeight:l.height,width:"RelationshipBow"==i.signData.baseType?l.width:l.signWidth,signID:i.id},null,8,["pos","isActive","signHeight","width","signID"]),(0,n.bF)(c,{pos:"RelationshipBow"==i.signData.baseType?"right":"bottom",isActive:i.signData.isSelected&&l.canResize&&i.signData.resizable,signHeight:l.height,width:"RelationshipBow"==i.signData.baseType?l.width:l.signWidth,signID:i.id},null,8,["pos","isActive","signHeight","width","signID"])],10,s)}var o={name:"SignContainer",emits:["requestListeners"],props:{id:Number,signData:Object,localData:Object},inject:["signWidth","barHeight"],mounted(){let e=this.$refs.sign;this.$emit("requestListeners",e)},computed:{beats(){return this.$store.state["beatsPerBar"]},height(){let e=this.barHeight()/this.beats;return void 0!=this.localData&&(e=this.localData.height),e},width(){let e=this.signWidth;return void 0!=this.localData&&(e=this.localData.width),e},x(){let e=0;return void 0!=this.localData&&(e=this.localData.x),e},y(){let e=0;return void 0!=this.localData&&(e=this.localData.y),e},canResize(){let e=!1;return void 0!=this.localData&&(e=this.localData.canResize),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},667:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":4},"introData":[{"title":"Direction Signs","text":"To describe a movement in a specific direction, direction signs are used. They come in 9 variations which define the horizontal direction.<br><br>The vertical direction is defined by the inner pattern. To indicate a downwards direction, the sign is filled black. To indicate a purely horizontal direction, a dot is placed in the middle. An upwards direction is defined by diagonal lines.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"direction-sign-variations.svg","highlightID":"library-direction-signs","highlightElem":"signLibrary"},{"title":"Direction Signs","text":"To further specify the direction, a relationship pin can be placed in the middle of the sign. These pins shift the direction 30° into the direction of their pinhead.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"direction-inner-pin.svg","highlightID":"library-direction-signs","highlightElem":"signLibrary"},{"title":"Direction Signs","text":"To specify the relative position of the acting body part after the movement, another relationship pin can be placed left or right of the sign. <br><br>An upwards pin signifies that the body part ends up in front of the other sign, while a downwards pin signifies that it ends up behind.<br><br>An example would be a side-step, where this is used to note which foot is placed in front of the other.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"direction-outer-pin.svg","highlightID":"library-direction-signs","highlightElem":"signLibrary"},{"title":"Direction Signs","text":"Space measurement signs can be placed below direction signs. This changes the amount of flexion or extension of the body part during the movement. For example a “wide” sign below an upwards movement of the arm would mean that the arm is fully extended.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-direction-signs","highlightElem":"signLibrary"}]}')},687:function(e,t,i){"use strict";e.exports=i.p+"img/pin-middle.b05b33b2.svg"},836:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return W}});var n=i(641),a=i.p+"img/blank-file.bfa8bca2.svg",s=i.p+"img/upload-local.f5d9ee23.svg",r=i.p+"img/download-cloud.ed6577ac.svg",o=i(2808),l=i(160),c=i.p+"img/download-local.2c6bed67.svg";const g={class:"option-nested menu-option",tabIndex:"0",role:"button"},h={class:"option-box"},d={class:"menu-option-container"},u={class:"option-item"},p={class:"menu-option-container has-sub-menu"},b={class:"option-nested sub-menu",tabIndex:"0",role:"button"},m={class:"option-box sub-menu"},f={class:"option-item"},S={class:"menu-option-container has-sub-menu"},y={class:"option-nested sub-menu",tabIndex:"0",role:"button"},v={class:"option-box sub-menu"},x={class:"menu-option-container"},D={key:0,class:"shortcut"},T={class:"option-item"},k={class:"menu-option-container has-sub-menu"},w={class:"option-nested sub-menu",tabIndex:"0",role:"button"},L={class:"option-box sub-menu"},C={class:"menu-option-container"},I={key:0,class:"shortcut"};function M(e,t,i,M,B,H){const E=(0,n.g2)("CloudImportButton"),W=(0,n.g2)("CloudExportButton");return(0,n.uX)(),(0,n.CE)("ul",g,[t[25]||(t[25]=(0,n.Lk)("li",{class:"option-dropdown-top"},[(0,n.Lk)("p",null,"File")],-1)),(0,n.Lk)("div",h,[(0,n.Lk)("li",{class:"option-item",onClick:t[0]||(t[0]=e=>H.requestNewScore())},t[6]||(t[6]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:a,class:"option-img"}),(0,n.Lk)("p",null,"New Score")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[2]||(t[2]=e=>H.openFileUpload())},[(0,n.Lk)("div",d,[(0,n.Lk)("input",{id:"xml-file",type:"file",onChange:t[1]||(t[1]=e=>H.uploadScoreFromString("xml-file")),class:"input-hidden"},null,32),t[7]||(t[7]=(0,n.Lk)("img",{src:s,class:"option-img"},null,-1)),t[8]||(t[8]=(0,n.Lk)("p",null,"Import from local Files",-1))])]),(0,n.Lk)("li",u,[(0,n.Lk)("div",p,[t[9]||(t[9]=(0,n.Lk)("img",{src:r,class:"option-img"},null,-1)),t[10]||(t[10]=(0,n.Lk)("p",null,"Import from Cloud",-1)),t[11]||(t[11]=(0,n.Lk)("img",{src:o,class:"option-img dropdown"},null,-1)),(0,n.Lk)("ul",b,[(0,n.Lk)("div",m,[(0,n.bF)(E,{btn:"DropBoxImport",onUploadScore:H.uploadScore},null,8,["onUploadScore"])])])])]),t[23]||(t[23]=(0,n.Lk)("li",{class:"option-item spacer"},null,-1)),(0,n.Lk)("li",f,[(0,n.Lk)("div",S,[t[14]||(t[14]=(0,n.Lk)("img",{src:l,class:"option-img"},null,-1)),t[15]||(t[15]=(0,n.Lk)("p",null,"Save XML",-1)),t[16]||(t[16]=(0,n.Lk)("img",{src:o,class:"option-img dropdown"},null,-1)),(0,n.Lk)("ul",y,[(0,n.Lk)("div",v,[(0,n.Lk)("li",{class:"option-item",onClick:t[3]||(t[3]=e=>H.exportXMLLocal())},[(0,n.Lk)("div",x,[t[12]||(t[12]=(0,n.Lk)("img",{src:c,class:"option-img"},null,-1)),t[13]||(t[13]=(0,n.Lk)("p",null,"To local Files",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",D,"Ctrl+S")):(0,n.Q3)("",!0)])]),(0,n.bF)(W,{btn:"DropboxXMLExport"})])])])]),(0,n.Lk)("li",T,[(0,n.Lk)("div",k,[t[19]||(t[19]=(0,n.Lk)("img",{src:l,class:"option-img"},null,-1)),t[20]||(t[20]=(0,n.Lk)("p",null,"Save SVG",-1)),t[21]||(t[21]=(0,n.Lk)("img",{src:o,class:"option-img dropdown"},null,-1)),(0,n.Lk)("ul",w,[(0,n.Lk)("div",L,[(0,n.Lk)("li",{class:"option-item",onClick:t[4]||(t[4]=e=>H.exportSVGLocal())},[(0,n.Lk)("div",C,[t[17]||(t[17]=(0,n.Lk)("img",{src:c,class:"option-img"},null,-1)),t[18]||(t[18]=(0,n.Lk)("p",null,"To local Files",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",I,"Ctrl+P")):(0,n.Q3)("",!0)])]),(0,n.bF)(W,{btn:"DropboxSVGExport"})])])])]),t[24]||(t[24]=(0,n.Lk)("li",{class:"option-item spacer"},null,-1)),(0,n.Lk)("li",{class:"option-item",onClick:t[5]||(t[5]=e=>H.requestScoreDetails())},t[22]||(t[22]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:l,class:"option-img"}),(0,n.Lk)("p",null,"Edit Score Parameters")],-1)]))])])}var B={name:"FileMenu",emits:["requestNewScore","requestUpload","requestScoreDetails"],props:{showShortCuts:Boolean},methods:{requestNewScore(){this.$emit("requestNewScore")},openFileUpload(){document.getElementById("xml-file").click()},uploadScoreFromString(e){const t=document.getElementById(e);if("files"in t){const e=t.files[0];this.uploadScore(e)}},uploadScore(e){if(e.type.includes("xml")){const t=new FileReader;t.onload=function(){const e=t.result,i=new DOMParser,n=i.parseFromString(e,"text/xml");"laban:score"==n.documentElement.nodeName&&!n.getElementsByTagName("parsererror").length>0?this.$emit("requestUpload",e):this.$emit("requestUpload","error")}.bind(this),t.readAsText(e)}},makeSVGFile(){const e=new XMLSerializer,t=e.serializeToString(document.getElementById("canvas"));return t},exportSVGLocal(){const e=this.makeSVGFile();let t=this.$store.state["title"];t.includes(".svg")||(t+=".svg");const i=document.createElement("a"),n=new Blob([e],{type:"application/xml"});i.setAttribute("href",window.URL.createObjectURL(n)),i.setAttribute("download",t),i.dataset.downloadurl=["application/xml",i.download,i.href].join(":"),i.draggable=!0,i.classList.add("dragout"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},makeXMLFile(){const e=new XMLSerializer,t=e.serializeToString(this.$store.state["signsXML"]);return t},exportXMLLocal(){const e=this.makeXMLFile();let t=this.$store.state["title"];t.includes(".xml")||(t+=".xml");const i=document.createElement("a"),n=new Blob([e],{type:"application/xml"});i.setAttribute("href",window.URL.createObjectURL(n)),i.setAttribute("download",t),i.dataset.downloadurl=["application/xml",i.download,i.href].join(":"),i.draggable=!0,i.classList.add("dragout"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},requestScoreDetails(){this.$emit("requestScoreDetails")}}},H=i(6262);const E=(0,H.A)(B,[["render",M]]);var W=E},846:function(e){"use strict";e.exports=JSON.parse('{"catName":"Spreading Signs","names":[{"name":"Spreading","signType":"Spreading"}]}')},862:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s=["x","y","signID"],r=["stroke","stroke-width","d","transform","signID"],o=["stroke","fill","cx","cy","signID","stroke-width"],l=["stroke","d","transform","signID","stroke-width"];function c(e,t,i,c,g,h){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{x:h.signWidth/2-12,y:this.height/2-18,width:24,height:30,opacity:"0",signID:i.id},null,8,s),(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:i.inverted?"white":"black","stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,d:h.calculateStick.path,transform:h.calculateStick.transform,signID:i.id},null,10,r),"Middle"!=i.signData.signType?((0,n.uX)(),(0,n.CE)("circle",{key:0,stroke:i.inverted?"white":"black",class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),fill:h.getCircleFill(),cx:h.signWidth/2,cy:i.height/2,r:"5",signID:i.id,"stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth},null,10,o)):((0,n.uX)(),(0,n.CE)("path",{key:1,class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:i.inverted?"white":"black",d:h.calculateHorizontal,transform:h.calculateStick.transform,signID:i.id,"stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth},null,10,l))])}var g={name:"RelationshipPin",props:{isSelected:Boolean,id:Number,signData:Object,height:Number,inverted:{type:Boolean,default:!1}},inject:["signWidth","borderWidth"],computed:{beatHeight(){return this.barHeight()/this.$store.state["beatsPerBar"]},calculateStick(){let e=this.signData.degree,t={path:"",transform:""},i="M "+this.signWidth/2+","+this.height/2+" V "+(this.height/2-15);return t.transform="rotate("+e%360+","+this.signWidth/2+","+this.height/2+")",e<0&&(i="Middle"!=this.signData.signType?"M "+(this.signWidth/2-10)+","+this.height/2+" H "+(this.signWidth/2+10):"M "+this.signWidth/2+","+(this.height/2-5)+" V "+(this.height/2+5)+"M "+(this.signWidth/2-10)+","+this.height/2+" H "+(this.signWidth/2+10),t.transform=""),t.path=i,t},calculateHorizontal(){let e="M "+(this.signWidth/2-8)+","+this.height/2+" H "+(this.signWidth/2+8);return e}},methods:{getCircleFill(){let e=!1;return this.inverted&&(e=!0),"High"==this.signData.signType&&(e=!e),e?"white":"black"}}},h=i(6262);const d=(0,h.A)(g,[["render",c]]);var u=d},869:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=i(641),a=i(33);const s=["x","width","height","stroke-width","signID"],r=["x","width","height","stroke-width","signID"],o=["cx","cy"];function l(e,t,i,l,c,g){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:g.signWidth/6,y:4,width:g.signWidth/1.5,height:i.height-8,"stroke-width":g.borderWidth,signID:i.id},null,10,s),(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:g.signWidth/6+5,y:8,width:g.signWidth/1.5-10,height:i.height-18,"stroke-width":g.borderWidth,signID:i.id},null,10,r),(0,n.Lk)("circle",{cx:this.signWidth/2,cy:this.height-7,r:"1.5",fill:"black",stroke:"black",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}])},null,10,o)])}var c={name:"SmartPhoneProp",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"]},g=i(6262);const h=(0,g.A)(c,[["render",l]]);var d=h},907:function(e){"use strict";e.exports=JSON.parse('{"catName":"Middle Pins","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"Pin","degree":315,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":0,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":45,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":270,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":-1,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":90,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":225,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":180,"signType":"Middle","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":135,"signType":"Middle","resizable":false,"beatHeight":1}]}')},1003:function(e,t,i){var n={"./editor-explain-eng.json":1664};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=1003},1090:function(e,t,i){"use strict";i.r(t),t["default"]='<?xml version="1.0" encoding="UTF-8"?><laban:score xmlns:laban="http://www.example.org/labanotation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/labanotation labanotation.xsd ">\r\n\t<laban:version>0.4</laban:version>\r\n\t<laban:author>Bashar Altakrouri</laban:author>\r\n\t<laban:title>Device Shake</laban:title>\r\n\t<laban:description>This score describes a shaking motion of a smartphone device.\r\n\r\nThe legs start in a neutral position. The right arm is held straight forward. The right hand is grasping a smartphone.\r\n\r\nFor the next two measures, the hand is being shook down and up. with a short break inbetween.</laban:description>\r\n\t<laban:staff>\r\n\t\t<laban:measures>2</laban:measures>\r\n\t\t<laban:timing>\r\n\t\t\t<laban:timeUnit>Second</laban:timeUnit>\r\n\t\t\t<laban:measure>\r\n\t\t\t\t<laban:index>0</laban:index>\r\n\t\t\t\t<laban:beatDuration>1</laban:beatDuration>\r\n\t\t\t\t<laban:beats>4</laban:beats>\r\n\t\t\t</laban:measure>\r\n\t\t</laban:timing>\r\n\t\t<laban:columns>\r\n\t\t\t\x3c!-- 5th column on the right side of the staff defaults to hand --\x3e\r\n\t\t\t\r\n\t\t\t\x3c!-- 6th column = cell-phone --\x3e\r\n\t\t\t\r\n\t\t<laban:columnDefinition><laban:index>4</laban:index><laban:preSign><laban:bodyPart><laban:joint><laban:joint>hand</laban:joint></laban:joint><laban:side>right</laban:side></laban:bodyPart></laban:preSign></laban:columnDefinition><laban:columnDefinition><laban:index>5</laban:index><laban:preSign><laban:prop><laban:name>SmartPhone</laban:name></laban:prop></laban:preSign></laban:columnDefinition></laban:columns>\r\n\t\t<laban:movements>\r\n\t\t\t\x3c!-- standard support, no change until the end of the score --\x3e\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t\r\n\r\n\t\t\t\x3c!-- Right hand shakes up and down strong for two beats/seconds --\x3e\r\n\t\t\t<laban:movement><laban:column>-1</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>true</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement>\r\n\t\t\t\x3c!-- Right hand shakes gently for two beats --\x3e\r\n\t\t\t\r\n\t\t<laban:movement><laban:column>0</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>true</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>3</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>forward</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>4</laban:column><laban:measure>1</laban:measure><laban:beat>0.0</laban:beat><laban:duration>3.0</laban:duration><laban:hold>false</laban:hold><laban:vibration><laban:displacement><laban:vertical>high</laban:vertical><laban:horizontal>-1</laban:horizontal></laban:displacement><laban:displacement><laban:vertical>low</laban:vertical><laban:horizontal>-1</laban:horizontal></laban:displacement></laban:vibration></laban:movement><laban:movement><laban:column>4</laban:column><laban:measure>2</laban:measure><laban:beat>0.0</laban:beat><laban:duration>3.0</laban:duration><laban:hold>false</laban:hold><laban:vibration><laban:displacement><laban:vertical>high</laban:vertical><laban:horizontal>-1</laban:horizontal></laban:displacement><laban:displacement><laban:vertical>low</laban:vertical><laban:horizontal>-1</laban:horizontal></laban:displacement></laban:vibration></laban:movement><laban:relationship><laban:type>support</laban:type><laban:grasping>true</laban:grasping><laban:passing>false</laban:passing><laban:hold>false</laban:hold><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:endPoints><laban:left><laban:column>4</laban:column><laban:active>false</laban:active></laban:left><laban:right><laban:column>5</laban:column><laban:active>false</laban:active></laban:right></laban:endPoints></laban:relationship></laban:movements>\r\n\t</laban:staff>\r\n</laban:score>'},1097:function(e){"use strict";e.exports=JSON.parse('{"catName":"Relationship Bows","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":true,"height":50,"width":160,"x":0,"y":0}],"signData":[{"baseType":"RelationshipBow","signType":"touch","passing":false,"grasping":false,"resizable":true,"holding":false,"beatHeight":1},{"baseType":"RelationshipBow","signType":"address","passing":false,"grasping":false,"resizable":true,"addressing":"right","holding":false,"beatHeight":1},{"baseType":"RelationshipBow","signType":"near","passing":false,"grasping":false,"resizable":true,"holding":false,"beatHeight":1},{"baseType":"RelationshipBow","signType":"support","passing":false,"grasping":false,"resizable":true,"holding":false,"beatHeight":1}]}')},1136:function(e,t,i){"use strict";e.exports=i.p+"img/upload-cloud.0a2e8da8.svg"},1149:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641),a=i(1136);function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("div",{class:"menu-option-container",onClick:t[0]||(t[0]=(...e)=>o.exportSVG&&o.exportSVG(...e))},t[1]||(t[1]=[(0,n.Lk)("img",{src:a,class:"option-img"},null,-1),(0,n.Lk)("p",null,"To Dropbox",-1)]))}var r={name:"DropboxSVGExport",emits:["exportSuccess","exportFailure"],props:{svg:String},computed:{score(){return document.getElementById("canvas")}},methods:{makeSVGFile(){const e=new XMLSerializer,t=e.serializeToString(this.score);return t},exportSVG(){const e=this.makeSVGFile();let t=this.$store.state["title"];t.includes(".svg")||(t+=".svg");let i={files:[{url:"data:text/html,"+encodeURIComponent(e),filename:t}],success:function(){this.$emit("exportSuccess")}.bind(this),cancel:function(){this.$emit("exportFailure")}.bind(this)};Dropbox.save(i)}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},1191:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=i(641),a=i(33);const s={class:"center-vertically"},r={class:"context-item-text"},o={class:"center-vertically context-item-interact-box"};function l(e,t,i,l,c,g){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["context-menu-item",{unusable:!i.active}]),ref:"container"},[(0,n.Lk)("div",s,[(0,n.Lk)("p",r,(0,a.v_)(i.optionText),1)]),(0,n.Lk)("div",o,[(0,n.Lk)("div",{class:(0,a.C4)(["outer-on-off",i.initState?"on":"off"]),onClick:t[0]||(t[0]=(...e)=>g.changeState&&g.changeState(...e))},[(0,n.Lk)("div",{class:(0,a.C4)(["inner-on-off",i.initState?"on":"off"])},null,2)],2)]),i.active?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"blocker",style:(0,a.Tr)("height: "+c.itemHeight+"px")},null,4))],2)}var c={name:"OnOffOption",inject:["contextItemHeight"],props:{optionText:String,initState:Boolean,active:Boolean},emits:["switchState"],data(){return{itemHeight:0}},methods:{changeState(){this.$emit("switchState",!this.initState),this.itemHeight=this.$refs.container.getBoundingClientRect().height}}},g=i(6262);const h=(0,g.A)(c,[["render",l],["__scopeId","data-v-3a33c3dc"]]);var d=h},1214:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["cx","cy","r","display","stroke-width"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("circle",{cx:l.getPos.x,cy:l.getPos.y,r:l.handleDiam,class:(0,a.C4)(["resize-handle",l.getClass]),display:i.isActive?"block":"none","stroke-width":l.borderWidth+1},null,10,s)}var o={name:"ResizeHandle",props:{pos:String,isActive:Boolean,signHeight:Number,width:Number},inject:["handleDiam","borderWidth"],computed:{getPos(){return"top"==this.pos?{x:this.width/2,y:0}:"bottom"==this.pos?{x:this.width/2,y:this.signHeight}:"left"==this.pos?{x:0,y:this.signHeight/2}:{x:this.width,y:this.signHeight/2}},getClass(){return"top"==this.pos||"left"==this.pos?"handle-first":"handle-second"}}},l=i(6262);const c=(0,l.A)(o,[["render",r],["__scopeId","data-v-5f3c11d6"]]);var g=c},1307:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var n=i(641),a=i(33);const s=["id"],r=["onClick"],o=["height","cat-index","index"],l=["transform"],c=["transform"];function g(e,t,i,g,h,d){return i.active?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"library-item-container",id:"lib-item"+i.catIndex},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.signs,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"library-item",key:t,onClick:e=>d.selectSign(t)},[((0,n.uX)(),(0,n.CE)("svg",{width:"100%",height:"beatHeight"in e.signData?e.signData.beatHeight*d.minHeight+2:h.height+2,fill:"white",class:(0,a.C4)(i.inLibrary?"library-sign-svg":""),"cat-index":i.catIndex,index:t},[(0,n.Lk)("g",{transform:"translate("+i.offset+",1)"},[(0,n.Lk)("g",{transform:"RelationshipBow"==e.signData.baseType?"translate(-60,0)":""},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.signData.baseType),{isSelected:t==i.selected,height:"beatHeight"in e.signData?e.signData.beatHeight*d.minHeight:e.height,signData:e.signData},null,8,["isSelected","height","signData"]))],8,c)],8,l)],10,o))],8,r)))),128))],8,s)):(0,n.Q3)("",!0)}i(4114),i(8111),i(116);var h={name:"LibraryItem",inject:["barHeight"],emits:["expand","emitSigns","selectSign"],props:{active:Boolean,category:String,catIndex:Number,selected:Number,offset:Number,inLibrary:{Boolean:Boolean,default:!0}},data(){return{signs:[],height:0,baseHeight:0}},computed:{langStrings(){let e=this.$store.state["language"],t=i(1660)("./"+this.category+"-"+e+".json"),n=JSON.parse(JSON.stringify(t));return n},minHeight(){return this.barHeight()/this.$store.state["beatsPerBar"]}},watch:{active(e){e&&setTimeout(function(){for(let e of document.getElementById("lib-item"+this.catIndex).getElementsByClassName("library-sign-svg"))["touchstart","touchmove","touchend"].forEach((t=>e.addEventListener(t,this.ignoreTouch)))}.bind(this),10)}},mounted(){let e=i(1660)("./"+this.category+".json"),t=JSON.parse(JSON.stringify(e));this.height=t.catHeight,this.baseHeight=t.baseHeight;let n={};for(let[i,a]of Object.entries(t.general[0]))n[i]=a;for(let i=0;i<t.signData.length;i++){let e={};e=Object.assign(e,n),e.signData={};for(let[n,a]of Object.entries(t.signData[i]))e.signData[n]=a;this.signs.push(e)}this.$emit("emitSigns",{catIndex:this.catIndex,signs:this.signs})},methods:{selectSign(e){let t=this.langStrings.names.find((t=>this.signs[e].signData.signType==t.signType));this.$emit("selectSign",{catIndex:this.catIndex,name:t.name,index:e,height:this.baseHeight,signData:this.signs[e].signData,updateSign:!1})},ignoreTouch(e){e.cancelable?e.preventDefault():(console.warn("The following event couldn't be canceled:"),console.dir(e))}}},d=i(6262);const u=(0,d.A)(h,[["render",g],["__scopeId","data-v-188253fc"]]);var p=u},1448:function(e,t,i){"use strict";e.exports=i.p+"img/vertical-surface-outer.e2bddb79.svg"},1481:function(e){"use strict";e.exports=JSON.parse('{"catName":"Body Part Signs","names":[{"name":"Ankle","signType":"Ankle"},{"name":"Chest","signType":"Chest"},{"name":"Elbow","signType":"Elbow"},{"name":"Fingers","signType":"Fingers"},{"name":"Foot","signType":"Foot"},{"name":"Hand","signType":"Hand"},{"name":"Head","signType":"Head"},{"name":"Hip","signType":"Hip"},{"name":"Knee","signType":"Knee"},{"name":"Pelvis","signType":"Pelvis"},{"name":"Shoulder","signType":"Shoulder"},{"name":"Toes","signType":"Toes"},{"name":"Torso","signType":"Torso"},{"name":"Waist","signType":"Waist"},{"name":"Wrist","signType":"Wrist"}]}')},1486:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":4},"introData":[{"title":"Body Part Signs","text":"Labanotation has body part signs for different joints (1), limbs (2), surfaces (3), digits (4) and areas (5). Limb signs are usually defined by adding a vertical line to a respective joint sign. Digits (fingers and toes) can be defined with the finger and toe signs respectively.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"body-part-types.svg","highlightID":"library-body-part-signs","highlightElem":"signLibrary"},{"title":"Body Part Signs","text":"Finger and toe signs can further be defined with dots, where one dot at the base of the digit means the first joint, two dots mean the second joint, etc. When all joints are represented the sign is referring to the whole finger. When only the last dot is visible, the sign is representing the finger tip.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"digit-types.svg","highlightID":"library-body-part-signs","highlightElem":"signLibrary"},{"title":"Body Part Signs","text":"Surfaces can be defined by adding certain parts to limb signs. A white dot between the vertical lines defines the vertical inner surface, a black dot to the outer surface. A small horizontal line at the side refers to that side of the bodys little finger side, while a longer horizontal line refers to the thumb side. Surfaces can also be combined.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"surface-types.svg","highlightID":"library-body-part-signs","highlightElem":"signLibrary"},{"title":"Body Part Signs","text":"Body parts can be used in two ways. When they are placed below the score, they specify that all movements in that column apply to that body part. Alternatively a body part sign can be placed before another sign to specify that only that movement applies to it.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-body-part-signs","highlightElem":"signLibrary"}]}')},1539:function(e){"use strict";e.exports=JSON.parse('{"catName":"Path Signs","catHeight":70,"baseHeight":100,"general":[{"isSelected":false,"canResize":false,"height":70,"x":0,"y":0}],"signData":[{"baseType":"PathSign","signType":"straight","resizable":true,"beatHeight":2},{"baseType":"PathSign","signType":"circularLeft","direction":"left","resizable":true,"beatHeight":2},{"baseType":"PathSign","signType":"circularRight","direction":"right","resizable":true,"beatHeight":2},{"baseType":"PathSign","signType":"any","resizable":true,"beatHeight":2}]}')},1575:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["x","y","width","height","stroke-width","signID"],r=["cx","cy","stroke-width","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:c.signWidth/6,y:c.signWidth/6,width:c.signWidth/1.5,height:c.signWidth/1.5,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),(0,n.Lk)("circle",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",fill:"black",cx:c.signWidth/2,cy:c.signWidth/2,r:"8","stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,r)])}var l={name:"PelvisSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],data(){return{textWidth:0,textHeight:0}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},1582:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641);const a={id:"options-menu"},s={class:"options-menu-list",ref:"optionsList"};function r(e,t,i,r,o,l){const c=(0,n.g2)("FileMenu"),g=(0,n.g2)("EditMenu"),h=(0,n.g2)("ViewMenu"),d=(0,n.g2)("HelpMenu");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("ul",s,[(0,n.bF)(c,{showShortCuts:!l.isTabletOrPhone,onMouseleave:t[0]||(t[0]=e=>l.blurFocus()),onRequestNewScore:l.requestNewScore,onRequestUpload:l.requestUpload,onRequestScoreDetails:l.requestScoreDetails},null,8,["showShortCuts","onRequestNewScore","onRequestUpload","onRequestScoreDetails"]),(0,n.bF)(g,{showShortCuts:!l.isTabletOrPhone,onMouseleave:t[1]||(t[1]=e=>l.blurFocus())},null,8,["showShortCuts"]),(0,n.bF)(h,{showShortCuts:!l.isTabletOrPhone,onMouseleave:t[2]||(t[2]=e=>l.blurFocus())},null,8,["showShortCuts"]),(0,n.bF)(d,{showShortCuts:!l.isTabletOrPhone,onMouseleave:t[3]||(t[3]=e=>l.blurFocus()),onStartIntroduction:l.startIntroduction},null,8,["showShortCuts","onStartIntroduction"])],512)])}var o={name:"OptionsMenu",emits:["requestNewScore","requestUpload","requestScoreDetails","startIntroduction"],computed:{isTabletOrPhone(){return this.$store.state["isPhone"]||this.$store.state["isTablet"]}},methods:{blurFocus(){document.activeElement.blur()},requestNewScore(){this.$emit("requestNewScore")},requestUpload(e){this.$emit("requestUpload",e)},requestScoreDetails(){this.$emit("requestScoreDetails")},startIntroduction(e){this.$emit("startIntroduction",e)}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},1600:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:22.5,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"AnkleSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 15,10 L 25,10 M 15,30 L 25,30 M 15,20 L 25,20 M 25,0 V 40";return this.signData.limb&&(e="M 7.5,10 L 17.5,10 M 7.5,30 L 17.5,30 M 7.5,20 L 17.5,20 M 17.5,0 V 40 M 27.5,0 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 27.5,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 27.5,20 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},1660:function(e,t,i){var n={"./body-part-signs-eng.json":1481,"./body-part-signs.json":3760,"./direction-signs-eng.json":2262,"./direction-signs.json":2427,"./finger-digits-eng.json":6998,"./finger-digits.json":9931,"./finger-joints-eng.json":9601,"./finger-joints.json":3656,"./folding-signs-eng.json":3106,"./folding-signs.json":8519,"./joining-signs-eng.json":9959,"./joining-signs.json":7670,"./misc-signs-eng.json":4653,"./misc-signs.json":3812,"./narrow-signs-eng.json":7198,"./narrow-signs.json":9027,"./path-signs-eng.json":4030,"./path-signs.json":1539,"./pins-high-eng.json":3403,"./pins-high.json":2922,"./pins-low-eng.json":9805,"./pins-low.json":6004,"./pins-middle-eng.json":8006,"./pins-middle.json":907,"./relationship-bows-eng.json":6964,"./relationship-bows.json":1097,"./space-measurement-signs-eng.json":2776,"./space-measurement-signs.json":6653,"./spreading-signs-eng.json":846,"./spreading-signs.json":8899,"./toe-digits-eng.json":6407,"./toe-digits.json":6838,"./toe-joints-eng.json":3092,"./toe-joints.json":7289,"./turn-signs-eng.json":6322,"./turn-signs.json":5991,"./wide-signs-eng.json":4758,"./wide-signs.json":155};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=1660},1664:function(e){"use strict";e.exports=JSON.parse('{"introData":[{"title":"Welcome to the Interaction Editor","text":"The Interaction Editor is used to create standardized, machine readable documentation of movements and gestures using Labanotation.<br><br><strong>What is Labanotation?</strong><br> Labanotation is a universal movement description notation, meaning that it can be used to note almost any movement. Because of this it could, with a suitable interface, be used to create end-user documentation, as well as to calibrate gesture recognition software."},{"title":"Introductions are available","text":"There is a general introduction to Labanotation available. We recommend doing it if you have no, or little, prior experience using Labanotation.<br><br> Additionally, there is also an introduction to the editor and its controls, which we recommend if you are not very familiar with the controls of graphics editors."},{"title":"Welcome to the Interaction Editor","text":"The introductions are also available at the <strong>“Help”</strong> section of the <strong>options menu</strong>, if you want to do them at a future time."}]}')},1748:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:l.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"JoiningSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],computed:{path(){let e="M 10,13.333333333333332 L 0,26.666666666666665 L 40,26.666666666666665 L 30,13.333333333333332";return this.degree>3&&(e="M 10,13.333333333333332 L 0,26.666666666666665 L 40,26.666666666666665 L 30,13.333333333333332 M 3,21.666666666666665 L 37,21.666666666666665"),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},1794:function(e,t,i){"use strict";e.exports=i.p+"img/space-measure-degrees.2e9f0b4f.svg"},1798:function(e,t,i){"use strict";e.exports=i.p+"img/addressing-left.b5002d62.svg"},1912:function(e,t,i){"use strict";e.exports=i.p+"img/multi-select-inactive.925e6a3b.svg"},1914:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var n=i(641),a=i(33);const s={class:"center-vertically"},r={class:"context-item-text"},o={class:"context-item-interact-box center-vertically"},l=["onClick"],c=["src","alt"];function g(e,t,g,h,d,u){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["context-menu-item",{unusable:!g.active}]),ref:"container"},[(0,n.Lk)("div",s,[(0,n.Lk)("p",r,(0,a.v_)(g.optionText),1)]),(0,n.Lk)("div",o,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.options,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"center-vertically small",key:t,onClick:e=>u.changeSelect(t)},[e.img?((0,n.uX)(),(0,n.CE)("img",{key:0,class:(0,a.C4)(["context-item-interact-img radio-option",{active:t==d.selectedID}]),src:i(7469)("./context-images"+e.img),alt:e.color},null,10,c)):((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,a.C4)(["context-item-interact-img radio-option flex",{active:t==d.selectedID}])},null,2))],8,l)))),128))]),g.active?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"blocker",style:(0,a.Tr)("height: "+d.itemHeight+"px")},null,4))],2)}var h={name:"RadioOption",props:{options:Array,optionText:String,initState:Number,active:Boolean},emits:["switchState"],data(){return{selectedID:1,itemHeight:0}},mounted(){this.itemHeight=this.$refs.container.getBoundingClientRect().height,this.$nextTick((()=>{this.selectedID=this.initState,-1==this.selectedID&&(this.selectedID=0)}))},methods:{changeSelect(e){this.selectedID=e,this.$emit("switchState",e)}},computed:{selectedText(){return this.options[this.selectedID]}}},d=i(6262);const u=(0,d.A)(h,[["render",g],["__scopeId","data-v-6993a242"]]);var p=u},1920:function(e,t,i){"use strict";e.exports=i.p+"img/space-measure-degrees.2e9f0b4f.svg"},1989:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return S}});var n=i(641),a=i(33);const s={ref:"view",class:"is-clipped"},r={id:"interactionBox"},o=["width","height"],l={transform:"translate(1.5,1.5)"},c={key:1,class:"is-justify-content-center is-flex alert-box-container"},g={key:0,class:"box has-background-primary-light has-text-primary-dark"},h={key:1,class:"box has-background-danger-light has-text-danger-dark"},d={key:2,class:"box has-background-primary-light has-text-primary-dark"},u={key:3,class:"box has-background-danger-light has-text-danger-dark"};function p(e,t,i,p,b,m){const f=(0,n.g2)("OptionsMenu"),S=(0,n.g2)("SignLibrary"),y=(0,n.g2)("InteractionMenu"),v=(0,n.g2)("Score"),x=(0,n.g2)("ScoreEditModal"),D=(0,n.g2)("ConfirmationModal"),T=(0,n.g2)("EditorExplainModal"),k=(0,n.g2)("IntroductionModal");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(f,{class:(0,a.C4)({highlighted:"optionsMenu"==b.tutHighlight}),onRequestNewScore:m.openNewScoreDialog,onRequestUpload:m.uploadScore,onRequestScoreDetails:m.openScoreDetails,onStartIntroduction:m.openIntroduction},null,8,["class","onRequestNewScore","onRequestUpload","onRequestScoreDetails","onStartIntroduction"]),(0,n.bF)(S,{class:(0,a.C4)({highlighted:"signLibrary"==b.tutHighlight}),onSelectSignDrag:m.selectSignDrag},null,8,["class","onSelectSignDrag"]),(0,n.Lk)("div",r,[(0,n.bF)(y,{class:(0,a.C4)({highlighted:"interactionMenu"==b.tutHighlight})},null,8,["class"]),(0,n.bF)(v,{class:(0,a.C4)({highlighted:"score"==b.tutHighlight})},null,8,["class"])]),m.ghostActive?((0,n.uX)(),(0,n.CE)("svg",{key:0,width:"RelationshipBow"==b.ghostSignData.baseType?2*this.columnWidth:m.signWidth+3,height:b.ghostSignData.beatHeight*m.minHeight+3,fill:"white",class:"ghost-svg",ref:"ghost",style:(0,a.Tr)(m.ghostTransform)},[(0,n.Lk)("g",l,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(b.ghostSignData.baseType),{isSelected:!1,height:b.ghostSignData.beatHeight*m.minHeight,signData:b.ghostSignData,class:(0,a.C4)(m.ghostOverCanvas?"over-canvas":"")},null,8,["height","signData","class"]))])],12,o)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,a.C4)(["highlight-overlay",{active:""!=b.tutHighlight}])},null,2),""!=m.showCloudAlert?((0,n.uX)(),(0,n.CE)("div",c,["import-success"==m.showCloudAlert?((0,n.uX)(),(0,n.CE)("div",g,"Successfully imported score from cloud service.")):(0,n.Q3)("",!0),"import-failure"==m.showCloudAlert?((0,n.uX)(),(0,n.CE)("div",h,"Could not import score from cloud service, please try again.")):(0,n.Q3)("",!0),"export-success"==m.showCloudAlert?((0,n.uX)(),(0,n.CE)("div",d,"Successfully exported file to cloud service.")):(0,n.Q3)("",!0),"export-failure"==m.showCloudAlert?((0,n.uX)(),(0,n.CE)("div",u,"Could not export file to cloud service, please try again.")):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.bF)(x,{modalActive:b.modalActive,newScore:b.newScore,beatsPerBarDisabled:b.beatsPerBarDisabled,onDisableModal:t[0]||(t[0]=e=>{b.modalActive=!1,b.newScore=!1}),onCheckBeatsPerBar:m.changeBeatsPerBarDisabled,onFormSubmit:m.updateScore},null,8,["modalActive","newScore","beatsPerBarDisabled","onCheckBeatsPerBar","onFormSubmit"]),(0,n.bF)(D,{modalActive:b.newScoreConfirm,onDisableModal:t[1]||(t[1]=e=>{b.newScoreConfirm=!1,b.newScore=!1}),onConfirm:m.makeNewScore},null,8,["modalActive","onConfirm"]),(0,n.bF)(D,{modalActive:b.uploadConfirm,onDisableModal:t[2]||(t[2]=e=>{b.uploadConfirm=!1,this.curFile=null}),onConfirm:m.confirmUploadScore},{title:(0,n.k6)((()=>t[12]||(t[12]=[(0,n.eW)("Confirm importing Score")]))),text:(0,n.k6)((()=>t[13]||(t[13]=[(0,n.eW)("Importing a score will delete the current score, including any unsaved changes. This action is currently not reversible.")]))),_:1},8,["modalActive","onConfirm"]),(0,n.bF)(D,{modalActive:e.$store.state["isPhone"],cancel:!1,onConfirm:t[3]||(t[3]=e=>m.phoneDone())},{title:(0,n.k6)((()=>t[14]||(t[14]=[(0,n.eW)("Small screen detected")]))),text:(0,n.k6)((()=>t[15]||(t[15]=[(0,n.eW)("We recommend using a Tablet or PC to use this editor. Using a smaller screen like a smartphone is possible, but not advised.")]))),_:1},8,["modalActive"]),(0,n.bF)(D,{modalActive:b.introDoneNext&&"laban"==b.firstIntroChoice,onDisableModal:t[4]||(t[4]=e=>{b.introDoneNext=!1,b.firstIntroChoice=!1}),onConfirm:t[5]||(t[5]=e=>{b.introDoneNext=!1,b.firstIntroChoice=!1,m.openIntroduction("intro/editor-intro")})},{title:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)("Editor Introduction available")]))),text:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)('There is also an introduction to the editor and how to operate it available. Would you like to visit it? Alternatively, both introductions, as well as further Labanotation sign introductions, are also available in the "Help" menu.')]))),confirm:(0,n.k6)((()=>t[18]||(t[18]=[(0,n.eW)("Visit introduction")]))),deny:(0,n.k6)((()=>t[19]||(t[19]=[(0,n.eW)("No thanks")]))),_:1},8,["modalActive"]),(0,n.bF)(D,{modalActive:b.introDoneNext&&"editor"==b.firstIntroChoice,onDisableModal:t[6]||(t[6]=e=>{b.introDoneNext=!1,b.firstIntroChoice=!1}),onConfirm:t[7]||(t[7]=e=>{b.introDoneNext=!1,b.firstIntroChoice=!1,m.openIntroduction("laban/laban-basic")})},{title:(0,n.k6)((()=>t[20]||(t[20]=[(0,n.eW)("Labanotation Introduction available")]))),text:(0,n.k6)((()=>t[21]||(t[21]=[(0,n.eW)('There is also an introduction to Labanotation available. Would you like to visit it? Alternatively, both introductions, as well as further Labanotation sign introductions, are also available in the "Help" menu.')]))),confirm:(0,n.k6)((()=>t[22]||(t[22]=[(0,n.eW)("Visit introduction")]))),deny:(0,n.k6)((()=>t[23]||(t[23]=[(0,n.eW)("No thanks")]))),_:1},8,["modalActive"]),(0,n.bF)(T,{modalActive:b.showFirstIntro,onDisableModal:t[8]||(t[8]=e=>m.firstIntroDone(!1)),onStartLabanIntro:t[9]||(t[9]=e=>{m.firstIntroDone(!0),b.firstIntroChoice="laban",m.openIntroduction("laban/laban-basic")}),onStartEditorIntro:t[10]||(t[10]=e=>{m.firstIntroDone(!0),b.firstIntroChoice="editor",m.openIntroduction("intro/editor-intro")})},null,8,["modalActive"]),(0,n.bF)(k,{modalActive:b.tutActive,intro:b.intro,onDisableModal:t[11]||(t[11]=e=>m.endIntroduction()),onSwitchHighlight:m.changeTutHighlight},null,8,["modalActive","intro","onSwitchHighlight"])],512)}var b={name:"Main",inject:["signWidth","barHeight","columnWidth"],data(){return{ghostSignData:{},signsLength:0,curFile:null,tutActive:!1,modalActive:!1,newScore:!1,beatsPerBarDisabled:!1,newScoreConfirm:!1,newScoreData:null,uploadConfirm:!1,tutHighlight:"",showFirstIntro:!1,intro:"intro/editor-intro-",savedScore:!1,firstIntroChoice:!1,introDoneNext:!1}},computed:{libSign(){return"signData"in this.$store.state["curSign"]&&this.$store.state["curSign"].signData},ghostTransform(){return"transform: translate("+this.ghostPos.x+"px,"+this.ghostPos.y+"px);"},minHeight(){return this.barHeight()/this.beats},beats(){return this.$store.state["beatsPerBar"]},ghostOverCanvas(){return this.$store.state["ghostOverCanvas"]},ghostPos(){return this.$store.state["ghostPos"]},ghostActive(){return this.$store.state["ghostActive"]},signs(){return this.$store.state["signs"]},showCloudAlert(){return this.$store.state["cloudAlert"]}},mounted(){this.signsLength=this.signs.length,localStorage.getItem("score")?(this.$store.dispatch("newScore","local-storage"),this.$store.dispatch("clearHistory")):(this.$store.dispatch("newScore","blank-score"),this.$store.dispatch("clearHistory"),!this.$store.state["isPhone"]&&this.$store.state["seenIntro"]&&(this.newScore=!0,this.modalActive=!0)),this.$store.state["isPhone"]||this.$store.state["seenIntro"]||(this.showFirstIntro=!0),window.addEventListener("keydown",this.keyListener)},methods:{selectSignDrag(e){if("start"==e.type)this.signsLength=this.signs.length,this.$store.dispatch("setGhostActive",!0),this.ghostSignData=this.libSign,this.$store.dispatch("setGhostPos",{x:Math.round(e.pos.x),y:Math.round(e.pos.y)});else if("move"==e.type){if(this.$store.dispatch("setGhostPos",{x:this.ghostPos.x+e.delta.x,y:this.ghostPos.y+e.delta.y}),this.$refs.ghost){const e=this.$refs.ghost.getBoundingClientRect(),t=document.getElementById("canvas").getBoundingClientRect(),i=document.getElementById("library").getBoundingClientRect().width>=e.x,n=e.x+e.width>=t.x&&e.x<=t.x+t.width,a=e.y+e.height>=t.y&&e.y<=t.y+t.height;n&&a&&!this.ghostOverCanvas&&!i?this.$store.dispatch("setGhostOverCanvas",!0):n&&a&&!i||!this.ghostOverCanvas||this.$store.dispatch("setGhostOverCanvas",!1)}}else this.$store.dispatch("setGhostActive",!1),this.$store.dispatch("setGhostOverCanvas",!1),this.signsLength!=this.signs.length&&(this.$store.dispatch("saveStateInHistory"),this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("addToSelectedSigns",this.signs.length-1))},changeBeatsPerBarDisabled(e){this.beatsPerBarDisabled=e},openNewScoreDialog(){this.modalActive=!0,this.newScore=!0,document.getElementById("edit-form").elements["beatsPerBar"]&&(document.getElementById("edit-form").elements["beatsPerBar"].value=this.$store.state["beatsPerBar"]),setTimeout(function(){this.beatsPerBarDisabled="Blank Score"!=document.getElementById("template-select").value}.bind(this),10)},uploadScore(e){"error"!=e&&(this.signs.length>1?(this.curFile=e,this.uploadConfirm=!0):this.$store.dispatch("openScore",e))},confirmUploadScore(){this.uploadConfirm=!1,this.$store.dispatch("openScore",this.curFile),this.$store.dispatch("setCloudAlert","import-success"),setTimeout(function(){this.$store.dispatch("setCloudAlert","")}.bind(this),5e3)},openScoreDetails(){this.newScore=!1,this.modalActive=!0},openIntroduction(e){"intro/editor-intro"==e?(this.tutHighlight="optionsMenu",this.savedScore=this.$store.state["signsXML"],this.$store.dispatch("newScore","intro-score")):"laban/laban-basic"==e?(this.tutHighlight="score",this.savedScore=this.$store.state["signsXML"],this.$store.dispatch("newScore","intro-score")):this.tutHighlight="signLibrary",this.intro=e+"-",this.tutActive=!0},endIntroduction(){if(this.tutHighlight="",this.intro="",this.tutActive=!1,this.savedScore){const e=new XMLSerializer;this.$store.dispatch("newScore",{file:e.serializeToString(this.savedScore)}),this.savedScore=!1}!this.introDoneNext&&this.firstIntroChoice&&(this.introDoneNext=!0)},phoneDone(){this.$store.dispatch("setIsPhone",!1),this.$store.state["seenIntro"]||(this.showFirstIntro=!0)},firstIntroDone(e){this.$store.dispatch("changeSettings",{seenIntro:!0}),this.showFirstIntro=!1,e||(this.modalActive=!0,this.newScore=!0)},changeTutHighlight(e){this.tutHighlight=e},updateScore(e){this.newScore?(this.newScoreData=e,this.signs.length>1?this.newScoreConfirm=!0:this.makeNewScore()):this.$store.dispatch("editScoreParameters",e),this.modalActive=!1,this.newScore=!1},makeNewScore(){this.newScoreConfirm=!1,"Blank Score"==this.newScoreData.template&&this.$store.dispatch("newScore","blank-score"),"Walking and Turning"==this.newScoreData.template&&this.$store.dispatch("newScore","walking-turning"),"Device Shake"==this.newScoreData.template&&this.$store.dispatch("newScore","device-shake"),this.$store.dispatch("clearHistory"),this.$store.dispatch("editScoreParameters",this.newScoreData)},keyListener(e){if(this.$store.state["interacting"]||this.$store.state["ghostActive"])return!1;if("Escape"==e.key&&(this.modalActive=!1,this.newScore=!1,this.newScoreConfirm=!1,this.uploadConfirm=!1,this.showFirstIntro=!1,this.tutActive=!1,this.tutHighlight="",this.intro="",this.savedScore)){const e=new XMLSerializer;this.$store.dispatch("newScore",{file:e.serializeToString(this.savedScore)}),this.savedScore=!1}if(("s"==e.key||"p"==e.key)&&(e.ctrlKey||e.metaKey)){e.preventDefault();const t=new XMLSerializer,i=t.serializeToString(this.$store.state["signsXML"]);let n=this.$store.state["title"],a=new Blob([i],{type:"application/xml"});if(n.includes(".xml")||(n+=".xml"),"p"==e.key){n=this.$store.state["title"]+".svg";const e=t.serializeToString(document.getElementById("canvas"));a=new Blob([e],{type:"application/xml"})}const s=document.createElement("a");return s.setAttribute("href",window.URL.createObjectURL(a)),s.setAttribute("download",n),s.dataset.downloadurl=["application/xml",s.download,s.href].join(":"),s.draggable=!0,s.classList.add("dragout"),document.body.appendChild(s),s.click(),void document.body.removeChild(s)}"z"!=e.key||!e.ctrlKey&&!e.metaKey?"y"!=e.key||!e.ctrlKey&&!e.metaKey||this.$store.dispatch("redoChanges"):this.$store.dispatch("undoChanges")}}},m=i(6262);const f=(0,m.A)(b,[["render",p]]);var S=f},1990:function(e,t,i){"use strict";e.exports=i.p+"img/x.050a6df0.svg"},2150:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var n=i(641),a=i(33);const s=["width","height","signID"],r=["stroke-width","signID","d"],o=["transform"],l=["stroke-width","signID","d"],c=["stroke-width","signID","d"];function g(e,t,i,g,h,d){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:"no-save",fill:"white",opacity:"0",x:"0",y:"0",width:d.signWidth,height:i.height,signID:i.id},null,8,s),(0,n.Lk)("path",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id,d:"M "+d.signWidth/2+", 5 V "+(i.height-5)},null,10,r),(0,n.Lk)("g",{transform:"circularRight"==i.signData.signType?"scale(-1,1) translate(-40, 0)":""},[(0,n.Lk)("path",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id,d:d.pathHead(!0)},null,10,l),(0,n.Lk)("path",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id,d:d.pathHead(!1)},null,10,c)],8,o)])}var h={name:"PathSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],methods:{pathHead(e){let t=5;e||(t=this.height-5);let i="M "+(this.signWidth/2-15)+","+t+" H "+(this.signWidth/2+15);return this.signData.signType.includes("circular")?i="M "+(this.signWidth/2-15)+","+(t-5)+" L "+(this.signWidth/2+15)+","+(t+5):"any"==this.signData.signType&&(i="M "+(this.signWidth/2-15)+","+t+"Q"+(this.signWidth/2-7.5)+","+(t-10)+","+this.signWidth/2+","+t+"Q"+(this.signWidth/2+7.5)+","+(t+10)+","+(this.signWidth/2+15)+","+t),i}}},d=i(6262);const u=(0,d.A)(h,[["render",g]]);var p=u},2223:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:l.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"SpreadingSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],computed:{path(){let e="M 0,10 L 10,23.333333333333332 L 30,23.333333333333332 L 40,10";return this.degree>3&&(e="M 0,10 L 10,23.333333333333332 L 30,23.333333333333332 L 40,10 M 6,18.333333333333332 L 34,18.333333333333332"),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},2262:function(e){"use strict";e.exports=JSON.parse('{"catName":"Direction Signs","names":[{"name":"Left forward direction","signType":"left-forward"},{"name":"Forward direction","signType":"forward"},{"name":"Right forward direction","signType":"right-forward"},{"name":"Left direction","signType":"left"},{"name":"In place","signType":"place"},{"name":"Right direction","signType":"right"},{"name":"Left backward direction","signType":"left-backward"},{"name":"Backward direction","signType":"backward","side":"left"},{"name":"Right backward direction","signType":"right-backward"}]}')},2427:function(e){"use strict";e.exports=JSON.parse('{"catName":"Direction Signs","catHeight":80,"baseHeight":80,"general":[{"isSelected":false,"canResize":false,"height":80,"x":0,"y":0}],"signData":[{"baseType":"DirectionSign","signType":"left-forward","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"forward","dimension":"Middle","side":"left","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"right-forward","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"left","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"place","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"right","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"left-backward","dimension":"Middle","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"backward","dimension":"Middle","side":"left","resizable":true,"beatHeight":2},{"baseType":"DirectionSign","signType":"right-backward","dimension":"Middle","resizable":true,"beatHeight":2}]}')},2661:function(e,t,i){"use strict";e.exports=i.p+"img/layer-middle.af8b95ac.svg"},2668:function(e,t,i){"use strict";e.exports=i.p+"img/pin-low-backward.2a1f6418.svg"},2698:function(e,t,i){"use strict";e.exports=i.p+"img/redo-arrow.c2e40801.svg"},2773:function(e,t,i){"use strict";e.exports=i.p+"img/digit-types.8a15833c.svg"},2776:function(e){"use strict";e.exports=JSON.parse('{"catName":"Space Measurement Signs","names":[{"name":"Narrow","signType":"Narrow"},{"name":"Wide","signType":"Wide"},{"name":"Joining","signType":"Joining"},{"name":"Spreading","signType":"Spreading"},{"name":"Folding","signType":"Folding"},{"name":"Unfolding","signType":"Unfolding"},{"name":"Neither stretched nor bent","signType":"NeitherOr"}]}')},2808:function(e,t,i){"use strict";e.exports=i.p+"img/triangle-left.b83a1222.svg"},2909:function(e,t,i){"use strict";e.exports=i.p+"img/different-resize-types.a18626d8.svg"},2922:function(e){"use strict";e.exports=JSON.parse('{"catName":"High Pins","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"Pin","degree":315,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":0,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":45,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":270,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":-1,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":90,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":225,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":180,"signType":"High","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":135,"signType":"High","resizable":false,"beatHeight":1}]}')},2944:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=i(641),a=i(33);const s=["x","width","stroke-width","signID"],r=["cx","cy","stroke-width","signID"],o=["cx","cy","stroke-width","signID"];function l(e,t,i,l,c,g){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:g.signWidth/6,y:0,width:g.signWidth/1.5,height:40,"stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,signID:i.id},null,10,s),(0,n.Lk)("circle",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",cx:g.signWidth/2,cy:g.signWidth/2-10,r:"7","stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,signID:i.id},null,10,r),(0,n.Lk)("circle",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",fill:"black",cx:g.signWidth/2,cy:g.signWidth/2+10,r:"7","stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,signID:i.id},null,10,o)])}var c={name:"TorsoSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"]},g=i(6262);const h=(0,g.A)(c,[["render",l]]);var d=h},3057:function(e,t,i){"use strict";e.exports=i.p+"img/vertical-surface-inner.78babead.svg"},3060:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return C}});var n=i(641),a=i(33),s=i(3751),r=i(3516),o=i(2698),l=i(6749),c=i(1912),g=i(4133),h=i(2808),d=i(8473),u=i(5420),p=i(4354);const b={id:"interaction-menu"},m={class:"interaction-menu-list"},f={src:l,class:"option-img"},S={src:c,class:"option-img"},y={class:"option-nested",tabIndex:"0",role:"button"},v={class:"option-box"},x={src:d,class:"option-img"},D={src:u,class:"option-img"};function T(e,t,i,l,c,d){return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("ul",m,[(0,n.Lk)("li",{class:(0,a.C4)([d.undoPossible?"active":"inactive","option-item"]),onClick:t[0]||(t[0]=e=>d.undo())},t[8]||(t[8]=[(0,n.Lk)("img",{src:r,class:"option-img"},null,-1)]),2),(0,n.Lk)("li",{class:(0,a.C4)([d.redoPossible?"active":"inactive","option-item"]),onClick:t[1]||(t[1]=e=>d.redo())},t[9]||(t[9]=[(0,n.Lk)("img",{src:o,class:"option-img"},null,-1)]),2),t[15]||(t[15]=(0,n.Lk)("li",{class:"option-divider"},[(0,n.Lk)("p")],-1)),(0,n.Lk)("li",{class:(0,a.C4)([d.multiSelect?"enabled":"disabled","option-item"]),onClick:t[2]||(t[2]=e=>d.activateMultiSelect())},[(0,n.bo)((0,n.Lk)("img",f,null,512),[[s.aG,d.multiSelect]]),(0,n.bo)((0,n.Lk)("img",S,null,512),[[s.aG,!d.multiSelect]])],2),(0,n.Lk)("ul",y,[t[13]||(t[13]=(0,n.Lk)("li",{class:"option-dropdown-top"},[(0,n.Lk)("img",{src:g,class:"option-img"}),(0,n.Lk)("img",{src:h,class:"option-img dropdown"})],-1)),(0,n.Lk)("div",v,[(0,n.Lk)("li",{class:(0,a.C4)([d.signs.length>1?"active":"inactive","option-item"]),onClick:t[3]||(t[3]=e=>d.selectAll())},t[10]||(t[10]=[(0,n.Lk)("p",null,"Select all",-1)]),2),(0,n.Lk)("li",{class:(0,a.C4)([d.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[4]||(t[4]=e=>d.unselectAll())},t[11]||(t[11]=[(0,n.Lk)("p",null,"Unselect all",-1)]),2),(0,n.Lk)("li",{class:(0,a.C4)([d.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[5]||(t[5]=e=>d.invertSelection())},t[12]||(t[12]=[(0,n.Lk)("p",null,"Invert Selection",-1)]),2)])]),(0,n.Lk)("li",{class:(0,a.C4)([d.duplicateActive?"enabled":"disabled","option-item"]),onClick:t[6]||(t[6]=e=>d.activateDuplicate())},[(0,n.bo)((0,n.Lk)("img",x,null,512),[[s.aG,d.duplicateActive]]),(0,n.bo)((0,n.Lk)("img",D,null,512),[[s.aG,!d.duplicateActive]])],2),t[16]||(t[16]=(0,n.Lk)("li",{class:"option-divider"},[(0,n.Lk)("p")],-1)),(0,n.Lk)("li",{class:(0,a.C4)([d.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[7]||(t[7]=e=>d.deleteSelection())},t[14]||(t[14]=[(0,n.Lk)("img",{src:p,class:"option-img"},null,-1)]),2)])])}i(4114);var k={name:"InteractionMenu",data(){return{curSign:"---"}},computed:{undoPossible(){return this.$store.state["undoStack"].length>1},redoPossible(){return this.$store.state["redoStack"].length>0},selectedSigns(){return this.$store.state["selectedSigns"]},multiSelect(){return this.$store.state["multiselectActive"]},duplicateActive(){return this.$store.state["duplicateSignActive"]},signs(){return this.$store.state["signs"]}},methods:{undo(){this.$store.dispatch("undoChanges")},redo(){this.$store.dispatch("redoChanges")},deleteSelection(){if(0==this.selectedSigns.length)return;const e=this.selectedSigns.sort();this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("changeContextMenu",!1);for(let t=e.length-1;t>=0;t--)e[t]>0&&this.$store.dispatch("editSigns",{type:"delete",index:e[t]});this.$store.dispatch("saveStateInHistory")},activateMultiSelect(){this.$store.dispatch("toggleMultiSelect")},activateDuplicate(){this.$store.dispatch("toggleDuplicateSignActive")},selectAll(){this.$store.dispatch("clearSelectedSigns");for(let e=1;e<this.signs.length;e++)this.$store.dispatch("addToSelectedSigns",e)},unselectAll(){this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("setSelectedColumn",!1),this.$store.dispatch("setSelectedBar",!1)},invertSelection(){if(this.selectedSigns.length>0){let e=[];for(let i=1;i<this.signs.length;i++)e.push(i);const t=this.selectedSigns.sort();for(let i=t.length-1;i>=0;i--)e.splice(t[i]-1,1);this.$store.dispatch("clearSelectedSigns");for(let i of e)this.$store.dispatch("addToSelectedSigns",i);this.$store.dispatch("setSelectedColumn",!1),this.$store.dispatch("setSelectedBar",!1)}}}},w=i(6262);const L=(0,w.A)(k,[["render",T],["__scopeId","data-v-f5b18506"]]);var C=L},3092:function(e){"use strict";e.exports=JSON.parse('{"catName":"Toe Joints","names":[{"name":"Toes","signType":"Toes"}]}')},3095:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s=["x","width","height","signID"],r=["d","stroke-width","signID"],o=["transform"],l={transform:"translate(0,-22)"};function c(e,t,i,c,g,h){const d=(0,n.g2)("Pin");return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:"no-save draggable",opacity:"0",x:h.signWidth/2-h.squiggleAmplitude,y:"1",width:2*h.squiggleAmplitude,height:i.height-2,signID:i.id},null,8,s),(0,n.Lk)("path",{d:h.makeSquiggle,class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","fill-opacity":"0","stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,signID:i.id},null,10,r),(0,n.Lk)("g",{transform:"translate(0,"+(this.height-20)+")"},[(0,n.Lk)("g",l,[i.signData.upperPin?((0,n.uX)(),(0,n.Wv)(d,{key:0,isSelected:i.isSelected,id:i.id,signData:i.signData.upperPin,height:30},null,8,["isSelected","id","signData"])):(0,n.Q3)("",!0)]),i.signData.lowerPin?((0,n.uX)(),(0,n.Wv)(d,{key:0,isSelected:i.isSelected,id:i.id,signData:i.signData.lowerPin,height:30},null,8,["isSelected","id","signData"])):(0,n.Q3)("",!0)],8,o)])}var g={name:"VibrationSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth","barHeight"],computed:{beatHeight(){return this.barHeight()/this.$store.state["beatsPerBar"]},squiggleStep(){return this.barHeight()/10},squiggleAmplitude(){return this.signWidth/3},makeSquiggle(){let e=this.height;(this.signData.upperPin||this.signData.lowerPin)&&(e=this.height-45);let t=Math.round(e/this.squiggleStep),i={x:this.signWidth/2,y:0},n="M"+[i.x,i.y].join(","),a=-1;for(let s=1;s<=t;s++){let r=i;i={x:this.signWidth/2,y:s*e/t};let o=i.y-r.y,l=Math.sqrt(o*o),c={x:r.x,y:r.y+o/2},g={x:-this.squiggleAmplitude*o/l,y:0},h={x:c.x+g.x*a,y:c.y+g.y*a};n=n+"Q"+[h.x,h.y,i.x,i.y].join(","),a=-a}return n}}},h=i(6262);const d=(0,h.A)(g,[["render",c]]);var u=d},3106:function(e){"use strict";e.exports=JSON.parse('{"catName":"Folding Signs","names":[{"name":"Folding","signType":"Folding"}]}')},3224:function(e,t,i){"use strict";e.exports=i.p+"img/addressing-both.499163c2.svg"},3358:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["signID"],r=["width","height","stroke","fill","signID","stroke-width"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("g",{signID:i.id},[(0,n.Lk)("rect",{x:"0",y:"0",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),width:i.width>50?i.width:c.signWidth,height:i.height,stroke:i.signData.borderColor,fill:i.signData.color,signID:i.id,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth},null,10,r)],8,s)}var l={name:"GenericSign",props:{id:Number,isSelected:Boolean,height:Number,signData:Object,width:{default:0}},inject:["signWidth","borderWidth"]},c=i(6262);const g=(0,c.A)(l,[["render",o],["__scopeId","data-v-d9615ace"]]);var h=g},3360:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(1990);const s={class:"context-menu-item"},r={class:"center-vertically context-item-interact-box"};function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("div",s,[t[1]||(t[1]=(0,n.Lk)("div",{class:"center-vertically"},[(0,n.Lk)("p",{class:"context-item-text"},"Delete")],-1)),(0,n.Lk)("div",r,[(0,n.Lk)("img",{class:"context-item-interact-img",src:a,alt:"delete",onClick:t[0]||(t[0]=(...e)=>c.deletesign&&c.deletesign(...e))})])])}var l={name:"DeleteOption",inject:["contextItemHeight"],props:{},emits:["delete"],methods:{deletesign(){this.$emit("delete")}},computed:{symbolHeight(){return this.contextItemHeight-2*this.margin},symbolWidth(){return this.contextItemHeight/5}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},3403:function(e){"use strict";e.exports=JSON.parse('{"catName":"High Pin Signs","names":[{"name":"High Pin","signType":"High"}]}')},3447:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:l.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"WideSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["signWidth","borderWidth"],computed:{path(){let e="M 0,0 L 0,40 L 40,0 L 40,40";return this.degree>3&&(e="M 0,0 L 0,40 L 40,7 M 40,40 L 40,0 L 0,33"),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},3452:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return k}});var n=i(641),a=i(160),s=i(2808),r=i.p+"img/direction-signs.007bc404.svg",o=i.p+"img/turn-signs.5f572472.svg",l=i.p+"img/relationship-bows.afc111fe.svg",c=i.p+"img/space-measurement-signs.c4719324.svg",g=i.p+"img/path-signs.a0e3df72.svg",h=i.p+"img/body-part-signs.b49150b5.svg",d=i.p+"img/relationship-pins.f057e60a.svg",u=i.p+"img/misc-signs.eb81b872.svg";const p={class:"option-nested menu-option",tabIndex:"0",role:"button"},b={class:"option-box"},m={class:"option-item"},f={class:"menu-option-container has-sub-menu"},S={class:"option-nested sub-menu",tabIndex:"0",role:"button"},y={class:"option-box sub-menu"};function v(e,t,i,v,x,D){return(0,n.uX)(),(0,n.CE)("ul",p,[t[24]||(t[24]=(0,n.Lk)("li",{class:"option-dropdown-top"},[(0,n.Lk)("p",null,"Help")],-1)),(0,n.Lk)("div",b,[(0,n.Lk)("li",{class:"option-item",onClick:t[0]||(t[0]=e=>D.startIntroduction("intro/editor-intro"))},t[10]||(t[10]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:a,class:"option-img"}),(0,n.Lk)("p",null,"Editor Introduction")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[1]||(t[1]=e=>D.startIntroduction("laban/laban-basic"))},t[11]||(t[11]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:a,class:"option-img"}),(0,n.Lk)("p",null,"Labanotation Introduction")],-1)])),(0,n.Lk)("li",m,[(0,n.Lk)("div",f,[t[20]||(t[20]=(0,n.Lk)("img",{src:a,class:"option-img"},null,-1)),t[21]||(t[21]=(0,n.Lk)("p",null,"Sign Introductions",-1)),t[22]||(t[22]=(0,n.Lk)("img",{src:s,class:"option-img dropdown"},null,-1)),(0,n.Lk)("ul",S,[(0,n.Lk)("div",y,[(0,n.Lk)("li",{class:"option-item",onClick:t[2]||(t[2]=e=>D.startIntroduction("laban/direction-signs"))},t[12]||(t[12]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:r,class:"option-img"}),(0,n.Lk)("p",null,"Direction Signs")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[3]||(t[3]=e=>D.startIntroduction("laban/turn-signs"))},t[13]||(t[13]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:o,class:"option-img"}),(0,n.Lk)("p",null,"Turn Signs")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[4]||(t[4]=e=>D.startIntroduction("laban/relationship-bows"))},t[14]||(t[14]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:l,class:"option-img"}),(0,n.Lk)("p",null,"Relationship Bows")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[5]||(t[5]=e=>D.startIntroduction("laban/space-measurements"))},t[15]||(t[15]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:c,class:"option-img"}),(0,n.Lk)("p",null,"Space Measurement Signs")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[6]||(t[6]=e=>D.startIntroduction("laban/path-signs"))},t[16]||(t[16]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:g,class:"option-img"}),(0,n.Lk)("p",null,"Path Signs")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[7]||(t[7]=e=>D.startIntroduction("laban/body-parts"))},t[17]||(t[17]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:h,class:"option-img"}),(0,n.Lk)("p",null,"Body Part Signs")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[8]||(t[8]=e=>D.startIntroduction("laban/relationship-pins"))},t[18]||(t[18]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:d,class:"option-img"}),(0,n.Lk)("p",null,"Relationship Pins")],-1)])),(0,n.Lk)("li",{class:"option-item",onClick:t[9]||(t[9]=e=>D.startIntroduction("laban/misc-signs"))},t[19]||(t[19]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:u,class:"option-img"}),(0,n.Lk)("p",null,"Misc. Signs")],-1)]))])])])]),t[23]||(t[23]=(0,n.Fv)('<li class="option-item spacer" data-v-3f20703c></li><li class="option-item" data-v-3f20703c><a href="https://www.itm.uni-luebeck.de/service/imprint.html" target="blank" data-v-3f20703c><div class="menu-option-container" data-v-3f20703c><img src="'+a+'" class="option-img" data-v-3f20703c><p data-v-3f20703c>Imprint</p></div></a></li><li class="option-item" data-v-3f20703c><a href="https://www.itm.uni-luebeck.de/service/datenschutzerkaerung.html" target="blank" data-v-3f20703c><div class="menu-option-container" data-v-3f20703c><img src="'+a+'" class="option-img" data-v-3f20703c><p data-v-3f20703c>Privacy Policy</p></div></a></li>',3))])])}var x={name:"HelpMenu",emits:["startIntroduction"],props:{showShortCuts:Boolean},methods:{startIntroduction(e){this.$emit("startIntroduction",e)}}},D=i(6262);const T=(0,D.A)(x,[["render",v],["__scopeId","data-v-3f20703c"]]);var k=T},3516:function(e,t,i){"use strict";e.exports=i.p+"img/undo-arrow.fa0df957.svg"},3554:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641);const a=["transform"],s=["signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("g",{transform:"translate(0,"+(i.height-40)+")"},[(0,n.Lk)("rect",{x:"0",y:"0",width:"40",height:"40",opacity:"0",signID:i.id},null,8,s),((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.signData.signType),{id:i.id,isSelected:i.isSelected,height:i.height,signData:i.signData},null,8,["id","isSelected","height","signData"]))],8,a)}var o={name:"PropSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},3656:function(e){"use strict";e.exports=JSON.parse('{"catName":"Finger Joints","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":1,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":2,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":3,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":4,"resizable":false,"canBeLimb":true,"beatHeight":0.8}]}')},3760:function(e){"use strict";e.exports=JSON.parse('{"catName":"Body Parts","catHeight":40,"baseHeight":40,"general":[{"isSelected":false,"canResize":false,"height":40,"x":0,"y":0}],"signData":[{"baseType":"BodyPartSign","signType":"Head","resizable":false,"digit":false,"joint":false,"surface":false,"limb":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Hip","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Shoulder","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Chest","resizable":false,"digit":false,"joint":false,"surface":false,"limb":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Knee","surface":false,"limb":false,"digit":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Elbow","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Waist","digit":false,"joint":false,"surface":false,"limb":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Ankle","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Wrist","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Pelvis","digit":false,"joint":false,"surface":false,"limb":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Foot","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Hand","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Torso","digit":false,"joint":false,"surface":false,"limb":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":false,"joint":false,"resizable":false,"canBeLimb":false,"beatHeight":0.8}]}')},3812:function(e){"use strict";e.exports=JSON.parse('{"catName":"Misc. Signs","catHeight":40,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":40,"x":0,"y":0}],"signData":[{"baseType":"RoomDirectionSign","signType":"RoomDirectionSign","degree":0,"resizable":false,"beatHeight":1},{"baseType":"Cancel","signType":"back-normal","resizable":false,"beatHeight":1},{"baseType":"Cancel","signType":"release-contact","resizable":false,"beatHeight":1},{"baseType":"VibrationSign","signType":"VibrationSign","resizable":true,"upperPin":{"signType":"Low","degree":-1},"lowerPin":{"signType":"Low","degree":-1},"beatHeight":2},{"baseType":"PropSign","signType":"SmartPhone","resizable":false,"beatHeight":0.8}]}')},3821:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:l.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"FoldingSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],computed:{path(){let e="M 0,0 L 20,40 L 40,0 M 0,40 L 40,40";return this.degree>3&&(e="M 0,0 L 20,40 L 40,0 M 0,40 L 40,40 M 0,10 L 15,40 M 40,10 L 25,40"),e}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},3971:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:26,cy:15,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"ElbowSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 12,15 L 28,0 V 25 M 12,40 L 28,25 ";return this.signData.limb&&(e="M 12,15 L 24,5 V 30 M 12,40 L 24,30 M 28,0 V 30"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 28,15 H 32":this.signData.surface.includes("thumb")&&(e+="M 28,15 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},4012:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641);const a={class:"option-item"};function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("li",a,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.btn),{onUploadScore:o.uploadScore},null,40,["onUploadScore"]))])}var r={name:"CloudImportButton",emits:["uploadScore"],props:{btn:String},methods:{uploadScore(e){this.$emit("uploadScore",e)}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},4030:function(e){"use strict";e.exports=JSON.parse('{"catName":"Path Signs","names":[{"name":"Straight path","signType":"straight"},{"name":"Circular path left","signType":"circularLeft"},{"name":"Circular path right","signType":"circularRight"},{"name":"Any path","signType":"any"}]}')},4031:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641),a=i(160);function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("div",{class:"menu-option-container",onClick:t[0]||(t[0]=e=>o.importScore())},t[1]||(t[1]=[(0,n.Lk)("img",{src:a,class:"option-img"},null,-1),(0,n.Lk)("p",null,"Dropbox",-1)]))}i(4114);var r={name:"DropboxImport",emits:["uploadScore"],mounted(){let e=document.createElement("script");e.setAttribute("src","https://www.dropbox.com/static/api/2/dropins.js"),e.setAttribute("id","dropboxjs"),e.setAttribute("data-app-key","6w1sobho503o9jj"),document.head.appendChild(e)},methods:{importScore(){let e={success:function(e){let t=[];for(let i=0;i<e.length;i++){let n={};n._id=e[i].id,n.title=e[i].name,n.size=e[i].bytes,n.iconURL=e[i].icon,n.link=e[i].link,n.extension=`. ${e[i].name.split(".")[1]}`,t.push(n)}this.tempAttachments=t,fetch(this.tempAttachments[0].link).then((e=>e.blob())).then((e=>{this.upload(e)}))}.bind(this),cancel:function(){this.$store.dispatch("setCloudAlert","import-failure"),setTimeout(function(){this.$store.dispatch("setCloudAlert","")}.bind(this),5e3)}.bind(this),linkType:"direct",multiselect:!1,extensions:[".xml"],folderselect:!1,sizeLimit:1024e5};Dropbox.choose(e)},upload(e){if(e.type.includes("xml")){const t=new FileReader;t.onload=function(){const e=t.result,i=new DOMParser,n=i.parseFromString(e,"text/xml");"laban:score"==n.documentElement.nodeName&&!n.getElementsByTagName("parsererror").length>0?this.$emit("uploadScore",e):this.$emit("uploadScore","error")}.bind(this),t.readAsText(e)}}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},4060:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return F}});var n=i(641),a=i(33),s=i(3751),r=i(3516),o=i(2698),l=i(6749),c=i(1912),g=i(4133),h=i(2808),d=i(160),u=i(8473),p=i(5420),b=i(4354);const m={class:"option-nested menu-option",tabIndex:"0",role:"button"},f={class:"option-box"},S={class:"menu-option-container"},y={key:0,class:"shortcut"},v={class:"menu-option-container"},x={key:0,class:"shortcut"},D={class:"menu-option-container"},T={src:l,class:"option-img"},k={src:c,class:"option-img"},w={class:"option-item"},L={class:"menu-option-container has-sub-menu"},C={class:"option-nested sub-menu",tabIndex:"0",role:"button"},I={class:"option-box sub-menu"},M={class:"menu-option-container"},B={key:0,class:"shortcut"},H={class:"menu-option-container"},E={key:0,class:"shortcut"},W={class:"menu-option-container"},A={key:0,class:"shortcut"},P={class:"menu-option-container"},$={src:u,class:"option-img"},N={src:p,class:"option-img"};function O(e,t,i,l,c,u){return(0,n.uX)(),(0,n.CE)("ul",m,[t[25]||(t[25]=(0,n.Lk)("li",{class:"option-dropdown-top"},[(0,n.Lk)("p",null,"Edit")],-1)),(0,n.Lk)("div",f,[(0,n.Lk)("li",{class:(0,a.C4)([u.undoPossible?"active":"inactive","option-item"]),onClick:t[0]||(t[0]=e=>u.undo())},[(0,n.Lk)("div",S,[t[8]||(t[8]=(0,n.Lk)("img",{src:r,class:"option-img"},null,-1)),t[9]||(t[9]=(0,n.Lk)("p",null,"Undo",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",y,"Ctrl+Z")):(0,n.Q3)("",!0)])],2),(0,n.Lk)("li",{class:(0,a.C4)([u.redoPossible?"active":"inactive","option-item"]),onClick:t[1]||(t[1]=e=>u.redo())},[(0,n.Lk)("div",v,[t[10]||(t[10]=(0,n.Lk)("img",{src:o,class:"option-img"},null,-1)),t[11]||(t[11]=(0,n.Lk)("p",null,"Redo",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",x,"Ctrl+Y")):(0,n.Q3)("",!0)])],2),t[24]||(t[24]=(0,n.Lk)("li",{class:"option-item spacer"},null,-1)),(0,n.Lk)("li",{class:"option-item",onClick:t[2]||(t[2]=e=>u.activateMultiSelect())},[(0,n.Lk)("div",D,[(0,n.bo)((0,n.Lk)("img",T,null,512),[[s.aG,u.multiSelect]]),(0,n.bo)((0,n.Lk)("img",k,null,512),[[s.aG,!u.multiSelect]]),t[12]||(t[12]=(0,n.Lk)("p",null,"MultiSelect",-1))])]),(0,n.Lk)("li",w,[(0,n.Lk)("div",L,[t[19]||(t[19]=(0,n.Lk)("img",{src:g,class:"option-img"},null,-1)),t[20]||(t[20]=(0,n.Lk)("p",null,"Selection Options",-1)),t[21]||(t[21]=(0,n.Lk)("img",{src:h,class:"option-img dropdown"},null,-1)),(0,n.Lk)("ul",C,[(0,n.Lk)("div",I,[(0,n.Lk)("li",{class:(0,a.C4)([u.signs.length>1?"active":"inactive","option-item"]),onClick:t[3]||(t[3]=e=>u.selectAll())},[(0,n.Lk)("div",M,[t[13]||(t[13]=(0,n.Lk)("img",{src:d,class:"option-img"},null,-1)),t[14]||(t[14]=(0,n.Lk)("p",null,"Select all",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",B,"Ctrl+A")):(0,n.Q3)("",!0)])],2),(0,n.Lk)("li",{class:(0,a.C4)([u.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[4]||(t[4]=e=>u.unselectAll())},[(0,n.Lk)("div",H,[t[15]||(t[15]=(0,n.Lk)("img",{src:d,class:"option-img"},null,-1)),t[16]||(t[16]=(0,n.Lk)("p",null,"Unselect all",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",E,"Ctrl+A")):(0,n.Q3)("",!0)])],2),(0,n.Lk)("li",{class:(0,a.C4)([u.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[5]||(t[5]=e=>u.invertSelection())},[(0,n.Lk)("div",W,[t[17]||(t[17]=(0,n.Lk)("img",{src:d,class:"option-img"},null,-1)),t[18]||(t[18]=(0,n.Lk)("p",null,"Invert Selection",-1)),i.showShortCuts?((0,n.uX)(),(0,n.CE)("p",A,"Ctrl+I ")):(0,n.Q3)("",!0)])],2)])])])]),(0,n.Lk)("li",{class:"option-item",onClick:t[6]||(t[6]=e=>u.activateDuplicate())},[(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("img",$,null,512),[[s.aG,u.duplicateActive]]),(0,n.bo)((0,n.Lk)("img",N,null,512),[[s.aG,!u.duplicateActive]]),t[22]||(t[22]=(0,n.Lk)("p",null,"Duplication Mode",-1))])]),(0,n.Lk)("li",{class:(0,a.C4)([u.selectedSigns.length>0?"active":"inactive","option-item"]),onClick:t[7]||(t[7]=e=>u.deleteSelection())},t[23]||(t[23]=[(0,n.Lk)("div",{class:"menu-option-container"},[(0,n.Lk)("img",{src:b,class:"option-img"}),(0,n.Lk)("p",null,"Delete Selection")],-1)]),2)])])}i(4114);var X={name:"EditMenu",props:{showShortCuts:Boolean},computed:{undoPossible(){return this.$store.state["undoStack"].length>1},redoPossible(){return this.$store.state["redoStack"].length>0},selectedSigns(){return this.$store.state["selectedSigns"]},multiSelect(){return this.$store.state["multiselectActive"]},duplicateActive(){return this.$store.state["duplicateSignActive"]},signs(){return this.$store.state["signs"]}},methods:{undo(){this.$store.dispatch("undoChanges")},redo(){this.$store.dispatch("redoChanges")},activateMultiSelect(){this.$store.dispatch("toggleMultiSelect")},activateDuplicate(){this.$store.dispatch("toggleDuplicateSignActive")},deleteSelection(){if(0==this.selectedSigns.length)return;const e=this.selectedSigns.sort();this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("changeContextMenu",!1);for(let t=e.length-1;t>=0;t--)e[t]>0&&this.$store.dispatch("editSigns",{type:"delete",index:e[t]});this.$store.dispatch("saveStateInHistory")},selectAll(){this.$store.dispatch("clearSelectedSigns");for(let e=1;e<this.signs.length;e++)this.$store.dispatch("addToSelectedSigns",e)},unselectAll(){this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("setSelectedColumn",!1),this.$store.dispatch("setSelectedBar",!1)},invertSelection(){if(this.selectedSigns.length>0){let e=[];for(let i=1;i<this.signs.length;i++)e.push(i);const t=this.selectedSigns.sort();for(let i=t.length-1;i>=0;i--)e.splice(t[i]-1,1);this.$store.dispatch("clearSelectedSigns");for(let i of e)this.$store.dispatch("addToSelectedSigns",i);this.$store.dispatch("setSelectedColumn",!1),this.$store.dispatch("setSelectedBar",!1)}}}},z=i(6262);const R=(0,z.A)(X,[["render",O]]);var F=R},4130:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Angle",initState:i.signData.degree,category:"pins-middle",parentY:i.y,active:!0,onUpdateSignData:r.changeAngle},null,8,["initState","parentY","onUpdateSignData"]),(0,n.bF)(l,{onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"RoomDirectionSignContext",props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],methods:{changeAngle(e){this.isActive&&this.newSignData({degree:e.degree})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},4133:function(e,t,i){"use strict";e.exports=i.p+"img/selection-options.ce26ded1.svg"},4264:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=i(641),a=i(33);const s=["cx","cy","stroke-width","signID"],r=["cx","cy","stroke-width","signID"],o=["d","stroke-width","height","signID"];function l(e,t,i,l,c,g){return(0,n.uX)(),(0,n.CE)("g",null,["back-normal"==i.signData.signType?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:g.signWidth/2,cy:i.height/2,class:(0,a.C4)([{active:i.isSelected},"draggable actual-sign"]),"stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,signID:i.id,r:"15",stroke:"black"},null,10,s)):(0,n.Q3)("",!0),"back-normal"==i.signData.signType?((0,n.uX)(),(0,n.CE)("circle",{key:1,cx:g.signWidth/2,cy:i.height/2,class:(0,a.C4)([{active:i.isSelected},"draggable actual-sign"]),"stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,signID:i.id,r:"5",stroke:"black",fill:"black"},null,10,r)):((0,n.uX)(),(0,n.CE)("path",{key:2,class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),d:g.path,"stroke-width":i.isSelected?g.borderWidth+1:g.borderWidth,stroke:"black",x:"0",y:"0",width:10,height:i.height,signID:i.id},null,10,o))])}var c={name:"CancelSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],computed:{path(){let e="M 0,"+this.height/2+" Q "+3*this.signWidth/8+","+this.height+","+3*this.signWidth/4+","+this.height/2+"M "+this.signWidth/4+","+this.height/2+" Q "+5*this.signWidth/8+",0,"+this.signWidth+","+this.height/2;return e}}},g=i(6262);const h=(0,g.A)(c,[["render",l]]);var d=h},4285:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":1,"1":1,"2":5,"7":5},"introData":[{"title":"The Options Menu","text":"The options menu is used to create, import and export scores, edit signs as well as adjust score and editor settings.","buttonText":"Next Interface Element","position":{"elem":"options-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"options-menu","highlightElem":"optionsMenu"},{"title":"The Sign Library","text":"The sign library is used to place signs on the score. You can click on a category to open it and then click on a desired sign to display its name in the “Current Selected Sign” box. <br><br>To place a sign, click it and drag it over the score. To abort placing the sign, drag it back into the sign library.","textTablet":"The sign library is used to place signs on the score. You can tap on a category to open it and then tap on a desired sign to display its name in the “Current Selected Sign” box. <br><br>To place a sign, tap on it and drag it over the score. To abort placing the sign, drag it back into the sign library.","buttonText":"Next Interface Element","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library","highlightElem":"signLibrary"},{"title":"The Score - Moving and <br>Resizing","text":"After placing a sign it can be moved by clicking and then dragging it around. Signs will automatically snap to a column and beat after letting go.<br><br>To resize a sign, click on it to select it. If it is resizable, two resize handles will appear which can be used to change its size.","textTablet":"After placing a sign it can be moved by tapping on it and then dragging it around. Signs will automatically snap to a column and beat after letting go.<br><br>To resize a sign, tap on it to select it. If it is resizable, two resize handles will appear which can be used to change its size.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToSelectedSigns":2},"highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Selection Box","text":"To select multiple signs at once, click and drag on an empty place on the score. This will create a selection box. Stop dragging to confirm the selection. All signs within the box at that time will be selected.","textTablet":"To select multiple signs at once, tap and hold on an empty place on the score until the multi-select icon in the interaction menu is selected and then drag. This will create a selection box. Stop dragging to confirm the selection. All signs within the box at that time will be selected.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToSelectedSigns":[1,2,3,4,5]},"image":"select-box.svg","highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Duplicating and <br> multi-Selection","text":"To duplicate a sign, select it, press shift and then drag it around. This also works when multiple signs are selected. In that case the entire selection will be duplicated.<br><br> Multiple signs can also be moved and resized at the same time, although there are some restrictions on resizing differing sign types (see below).","textTablet":"To duplicate a sign, tap and hold it until the “double box” icon in the interaction menu above the score is selected and then drag it around. This also works when multiple signs are selected. In that case the entire selection will be duplicated.<br><br> Multiple signs can also be moved and resized at the same time, although there are some restrictions on resizing differing sign types (see below).","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"image":"different-resize-types.svg","stateChange":{"addToSelectedSigns":[1,2,3,4,5]},"highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Context Menus","text":"To edit a signs properties after its placement, right-click it. A context menu with sign-specific settings will appear. To close the menu, click anywhere else on the score.","textTablet":"To edit a signs properties after its placement, double-tap on it. A context menu with sign-specific settings will appear. To close the menu, tap anywhere else on the score.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToSelectedSigns":2,"changeContextMenu":true},"highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Selecting Bars and Columns","text":"To add or remove a bar, click on it. This will highlight it and cause three buttons to appear. The “+” buttons will add a new bar either below or above the selected bar. The “x” button will remove the selected bar and its signs.<br><br> To select a column instead, click on the same spot again. To unselect a bar or column, click any other place on the score","textTablet":"To add or remove a bar, tap on it. This will highlight it and cause three buttons to appear. The “+” buttons will add a new bar either below or above the selected bar. The “x” button will remove the selected bar and its signs.<br><br> To select a column instead, tap on the same spot again. To unselect a bar or column, tap on any other place on the score","buttonText":"Next Interface Element","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToGridSelect":{"col":-1,"bar":1,"selectBar":true}},"highlightID":"canvas","highlightElem":"score"},{"title":"The Interaction Menu","text":"The interaction menu is used to execute certain operations on the score and its signs.<br><br> The arrows are used to undo and redo actions. Alternatively, the keyboard shortcuts ctrl + z and ctrl + y can be used instead.","textTablet":"The interaction menu is used to execute certain operations on the score and its signs.<br><br> The arrows are used to undo and redo actions.","buttonText":"Next","position":{"elem":"interaction-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"interaction-menu","highlightElem":"interactionMenu"},{"title":"The Interaction Menu -<br> Multi-Select","text":"The icons in the middle are selection options. By clicking the “dashed line” icon with the three boxes the editor enters the multi-select mode. This enables the selection of multiple signs at once. Alternatively, this can also be achieved by holding ctrl while clicking signs or with the selection box on the score.","textTablet":"The icons in the middle are selection options. By tapping the “dashed line” icon with the three boxes the editor enters the multi-select mode. This enables the selection of multiple signs at once. Alternatively, this can also be achieved by using the selection box on the score.","buttonText":"Next","position":{"elem":"interaction-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"interaction-menu","highlightElem":"interactionMenu"},{"title":"The Interaction Menu - <br>Selection Options","text":"Hovering on the empty dashed icon opens a dropdown from which certain selection options can be executed. Alternatively, ctrl + a can be used to select or unselect all and ctrl + i can be used to invert the selection.","textTablet":"Tapping on the empty dashed icon opens a dropdown, from which certain selection options can be executed.","buttonText":"Next","position":{"elem":"interaction-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"interaction-menu","highlightElem":"interactionMenu"},{"title":"The Interaction Menu - <br>Duplication Mode","text":"Clicking the “double box” icon enters the sign duplication mode. While in this mode, drag a sign to duplicate it. Alternatively, this can also be achieved by holding shift while dragging a sign.","textTablet":"Tapping the “double box” icon enters the sign duplication mode. While in this mode, drag a sign to duplicate it. Alternatively. Holding a sign a short whil also enters this mode.","buttonText":"Next","position":{"elem":"interaction-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"interaction-menu","highlightElem":"interactionMenu"},{"title":"The Interaction Menu - Delete","text":"The last item on the menu is used to delete all currently selected signs. Alternatively, the delete key can be used instead.","textTablet":"The last item on the menu is used to delete all currently selected signs.","buttonText":"Finish","position":{"elem":"interaction-menu","hSide":"left","vSide":"bottom"},"stateChange":false,"highlightID":"interaction-menu","highlightElem":"interactionMenu"}]}')},4299:function(e,t,i){"use strict";e.exports=i.p+"img/space-measurement-sign.b8060272.svg"},4354:function(e,t,i){"use strict";e.exports=i.p+"img/x.050a6df0.svg"},4444:function(e,t,i){"use strict";e.exports=i.p+"img/pin-high.7f54a678.svg"},4528:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("OnOffOption"),c=(0,n.g2)("RadioOption"),g=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"body-part-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"]),(0,n.bF)(l,{optionText:"Limb",initState:i.signData.limb,active:i.signData.canBeLimb,onSwitchState:r.changeLimb},null,8,["initState","active","onSwitchState"]),(0,n.bF)(c,{optionText:"Vertical Surface",options:s.surfaceInnerOuter,initState:s.surfaceInnerOuter.findIndex((e=>e.text==s.surfaceTop)),active:i.signData.limb&&i.signData.canBeLimb,onSwitchState:this.changeTopSurface},null,8,["options","initState","active","onSwitchState"]),(0,n.bF)(c,{optionText:"Horizontal Surface",options:s.surfaceSides,initState:s.surfaceSides.findIndex((e=>e.text==s.surfaceSide)),active:i.signData.limb&&i.signData.canBeLimb,onSwitchState:this.changeSideSurface},null,8,["options","initState","active","onSwitchState"]),(0,n.bF)(l,{optionText:"Digit definition",initState:"digit"in i.signData&&i.signData.digit>=0&&!1!==i.signData.digit,active:"Fingers"==i.signData.signType||"Toes"==i.signData.signType,onSwitchState:r.changeJointDefined},null,8,["initState","active","onSwitchState"]),"Toes"!=i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:0,optionText:"Digit",category:"finger-digits",parentY:i.y,active:("Fingers"==i.signData.signType||"Toes"==i.signData.signType)&&s.jointDefined,onUpdateSignData:r.changeDigit},null,8,["parentY","active","onUpdateSignData"])):((0,n.uX)(),(0,n.Wv)(o,{key:1,optionText:"Digit",category:"toe-digits",parentY:i.y,active:("Fingers"==i.signData.signType||"Toes"==i.signData.signType)&&s.jointDefined,onUpdateSignData:r.changeDigit},null,8,["parentY","active","onUpdateSignData"])),"Toes"!=i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:2,optionText:"Joint",category:"finger-joints",parentY:i.y,active:("Fingers"==i.signData.signType||"Toes"==i.signData.signType)&&s.jointDefined,onUpdateSignData:r.changeJoint},null,8,["parentY","active","onUpdateSignData"])):((0,n.uX)(),(0,n.Wv)(o,{key:3,optionText:"Joint",category:"toe-joints",parentY:i.y,active:("Fingers"==i.signData.signType||"Toes"==i.signData.signType)&&s.jointDefined,onUpdateSignData:r.changeJoint},null,8,["parentY","active","onUpdateSignData"])),(0,n.bF)(g,{onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"BodyPartSignContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{surfaceInnerOuter:[{text:"---",img:!1},{text:"inner",img:"/body-parts/vertical-surface-inner.svg"},{text:"outer",img:"/body-parts/vertical-surface-outer.svg"}],surfaceSides:[{text:"---",img:!1},{text:"littleFinger",img:"/body-parts/horizontal-surface-little.svg"},{text:"thumb",img:"/body-parts/horizontal-surface-thumb.svg"}],surfaceTop:"",surfaceSide:"",jointDefined:!1}},mounted(){!1!==this.signData.joint&&this.changeJointDefined(!0),!1!==this.signData.surface&&(this.signData.surface.includes("inner")?this.surfaceTop="inner":this.signData.surface.includes("outer")&&(this.surfaceTop="outer"),this.signData.surface.includes("littleFinger")?this.surfaceSide="littleFinger":this.signData.surface.includes("thumb")&&(this.surfaceSide="thumb"),this.changeSurface())},methods:{changeLimb(e){e?this.newSignData({limb:e}):this.newSignData({limb:e,surface:!1})},changeTopSurface(e){this.surfaceTop=this.surfaceInnerOuter[e].text,this.changeSurface()},changeSideSurface(e){this.surfaceSide=this.surfaceSides[e].text,this.changeSurface()},changeSurface(){""!=this.surfaceTop&&"---"!=this.surfaceTop&&""!=this.surfaceSide&&"---"!=this.surfaceSide?this.newSignData({surface:this.surfaceTop+"-"+this.surfaceSide}):""!=this.surfaceTop&&"---"!=this.surfaceTop?this.newSignData({surface:this.surfaceTop}):""!=this.surfaceSide&&"---"!=this.surfaceSide?this.newSignData({surface:this.surfaceSide}):this.newSignData({surface:!1})},changeJointDefined(e){let t=0;!e||this.signData.digit||this.signData.joint?e||this.newSignData({digit:!1,joint:!1}):this.newSignData({digit:1,joint:t}),this.jointDefined=e},changeJoint(e){this.newSignData({joint:e.joint})},changeDigit(e){this.newSignData({digit:e.digit})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},4554:function(e,t,i){var n={"./intro/editor-explain-eng.json":1664,"./intro/editor-intro-eng.json":4285,"./laban/body-parts-eng.json":1486,"./laban/direction-signs-eng.json":667,"./laban/laban-basic-eng.json":5466,"./laban/misc-signs-eng.json":5658,"./laban/path-signs-eng.json":8581,"./laban/relationship-bows-eng.json":6449,"./laban/relationship-pins-eng.json":9508,"./laban/space-measurements-eng.json":7553,"./laban/turn-signs-eng.json":6045};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=4554},4626:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"],o=["transform"],l={key:0},c=["cx","cy","signID"],g=["cy"];function h(e,t,i,h,d,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:u.path,"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:22.5,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0),i.signData.digit>=1&&i.signData.digit<=5?((0,n.uX)(),(0,n.CE)("g",{key:1,transform:i.signData.limb?"":"translate(7.5,0)"},[i.signData.joint>=1&&i.signData.joint<4?((0,n.uX)(),(0,n.CE)("g",l,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.signData.joint,(e=>((0,n.uX)(),(0,n.CE)("circle",{fill:"black",cx:18.5-4*e,cy:10+5*(i.signData.digit-1),r:"2",key:e,signID:i.id},null,8,c)))),128))])):(0,n.Q3)("",!0),0===i.signData.joint?((0,n.uX)(),(0,n.CE)("circle",{key:1,fill:"black",cx:6.5,cy:10+5*(i.signData.digit-1),r:"2"},null,8,g)):(0,n.Q3)("",!0)],8,o)):(0,n.Q3)("",!0)],64)}var d={name:"ToesSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 15,10 L 25,10 M 15,30 L 25,30 M 15,15 L 25,15 M 15,20 L 25,20 M 15,25 L 25,25 M 25,0 V 40";return this.signData.limb&&(e="M 7.5,10 L 17.5,10 M 7.5,10 L 17.5,10 M 7.5,30 L 17.5,30 M 7.5,15 L 17.5,15 M 7.5,20 L 17.5,20 M 7.5,25 L 17.5,25 M 17.5,0 V 40 M 27.5,0 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 27.5,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 27.5,20 H 35")),e}}},u=i(6262);const p=(0,u.A)(d,[["render",h]]);var b=p},4653:function(e){"use strict";e.exports=JSON.parse('{"catName":"Misc. Signs","names":[{"name":"Room direction sign","signType":"RoomDirectionSign"},{"name":"Back to normal","signType":"back-normal"},{"name":"Release contact","signType":"release-contact"},{"name":"Vibration","signType":"VibrationSign"},{"name":"Smartphone Prop","signType":"SmartPhone"}]}')},4670:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:o.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"NeitherOrSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],data(){return{path:"M 0,0 L 0,40 L 40,0 L 40,40 M 13.333333333333334,13.333333333333336 L 26.666666666666664,26.666666666666664"}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},4758:function(e){"use strict";e.exports=JSON.parse('{"catName":"Wide Signs","names":[{"name":"Wide","signType":"Wide"}]}')},4814:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641),a=i(33);function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["context-menu",i.isActive?"active":"inactive"]),id:"context-menu",style:(0,a.Tr)("top: "+i.y+"px; left: "+i.x+"px")},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.signData.baseType+"Context"),{signData:i.signData,signIndex:i.signIndex,isActive:i.isActive,y:i.y,onUpdateSignData:o.updateSignData,onDelete:o.emitDelete},null,40,["signData","signIndex","isActive","y","onUpdateSignData","onDelete"]))],6)}var r={name:"ContextMenu",props:{signData:Object,isActive:Boolean,x:Number,y:Number,signIndex:[Number,String]},emits:["updateSignData","delete"],methods:{updateSignData(e){this.$emit("updateSignData",e)},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},4826:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:26,cy:15,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"HandSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 12,15 L 28,0 V 25 M 12,40 L 28,25 M 12,23.3333333332 L 28,8.33333333332 M 12,31.6666666665 L 28,16.6666666665";return this.signData.limb&&(e="M 12,15 L 24,5 V 30 M 12,40 L 24,30 M 12,23.3333333332 L 24,13.3333333332 M 12,31.6666666665 L 24,21.6666666665 M 28,0 V 30"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 28,15 H 32":this.signData.surface.includes("thumb")&&(e+="M 28,15 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},4899:function(e,t,i){"use strict";e.exports=i.p+"img/direction-sign-variations.5ea8efdd.svg"},4923:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("RadioOption"),c=(0,n.g2)("OnOffOption"),g=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"relationship-bows",parentY:i.y,active:!0,onUpdateSignData:r.changeType},null,8,["parentY","onUpdateSignData"]),(0,n.bF)(l,{options:s.addressingTypes,initState:r.getAddressInitState(),optionText:"Addressing",active:"address"==i.signData.signType,onSwitchState:r.changeAdressing},null,8,["options","initState","active","onSwitchState"]),(0,n.bF)(c,{optionText:"Hold",initState:i.signData.holding,active:!0,onSwitchState:r.changeHolding},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{optionText:"Passing",initState:i.signData.passing,active:!0,onSwitchState:r.changePassing},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{optionText:"Grasping",initState:i.signData.grasping,active:!0,onSwitchState:r.changeGrasping},null,8,["initState","onSwitchState"]),(0,n.bF)(g,{mIndex:1,onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"RelationshipBowContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{addressingTypes:[{text:"Right",img:"/bows/addressing-right.svg"},{text:"Left",img:"/bows/addressing-left.svg"},{text:"Both",img:"/bows/addressing-both.svg"}]}},computed:{},mounted(){},methods:{changeType(e){this.newSignData({signType:e.signType})},changeAdressing(e){"Right"==this.addressingTypes[e].text?this.newSignData({addressing:"right"}):"Left"==this.addressingTypes[e].text?this.newSignData({addressing:"left"}):this.newSignData({addressing:"both"})},getAddressInitState(){return"right"==this.signData.addressing||void 0==this.signData.addressing?0:"left"==this.signData.addressing?1:2},changeHolding(e){this.newSignData({holding:e})},changePassing(e){this.newSignData({passing:e})},changeGrasping(e){this.newSignData({grasping:e})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},4940:function(e,t,i){"use strict";e.exports=i.p+"img/direction-sign-variations.5ea8efdd.svg"},4978:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("OnOffOption"),c=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"space-measurement-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeType},null,8,["parentY","onUpdateSignData"]),"Unfolding"==i.signData.signType||"NeitherOr"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:0,optionText:"Degree",category:"wide-signs",parentY:i.y,active:!1,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),"Narrow"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:1,optionText:"Degree",category:"narrow-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),"Wide"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:2,optionText:"Degree",category:"wide-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),"Joining"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:3,optionText:"Degree",category:"joining-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),"Spreading"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:4,optionText:"Degree",category:"spreading-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),"Folding"==i.signData.signType?((0,n.uX)(),(0,n.Wv)(o,{key:5,optionText:"Degree",category:"folding-signs",parentY:i.y,active:!0,onUpdateSignData:r.newSignData},null,8,["parentY","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(l,{optionText:"Hold",initState:i.signData.holding,active:!0,onSwitchState:r.changeHolding},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"SpaceMeasurementSignContext",props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],methods:{changeDegree(e){this.isActive&&this.newSignData({degree:e.data+1})},changeType(e){"Unfolding"!=e.signType&&"NeitherOr"!=e.signType?this.newSignData({signType:e.signType}):this.newSignData({signType:e.signType,degree:1})},changeHolding(e){this.newSignData({holding:e})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},5009:function(e,t,i){"use strict";e.exports=i.p+"img/addressing.73e87436.svg"},5101:function(e,t,i){"use strict";e.exports=i.p+"img/horizontal-surface-little.b33caf2f.svg"},5138:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return I}});var n=i(641),a=i(33);const s={ref:"grid",id:"grid"},r=["id","x"],o=["x","y","width","height","col","beat","bar"],l=["x","y","width","height","col"],c=["x","y","width","height","col"],g=["x","y","width","height","col"],h=["x1","y1","x2","y2"],d=["id","x1","y1","x2","y2"],u=["x1","y1","x2","y2"],p=["x1","y1","x2","y2"],b=["x1","x2","y2"],m=["x1","x2","y2"],f=["x1","x2","y2"],S={key:0},y=["x1","x2","y2"],v=["x1","x2","y2"],x=["x","y","width","height"];function D(e,t,i,D,T,k){return(0,n.uX)(),(0,n.CE)("g",s,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.columnsLeft+k.columnsRight,(e=>((0,n.uX)(),(0,n.CE)("g",{class:"column lasso-able",id:"grid-column"+(e-1-k.columnsLeft),x:k.columnWidth*(e-1),y:"0",key:e},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.bars*i.beats,(t=>((0,n.uX)(),(0,n.CE)("rect",{class:(0,a.C4)("beat-rect ba"+(k.getBar(t)+1)+" be"+k.getBeat(t)),x:k.columnWidth*(e-1),y:k.barH/i.beats*(t-1),width:k.columnWidth,height:k.barH/i.beats,col:e-1-k.columnsLeft,beat:k.getBeat(t),bar:k.getBar(t)+1,key:t},null,10,o)))),128)),(0,n.Lk)("rect",{class:"fill-rect",x:k.columnWidth*(e-1),y:k.barH*i.bars,width:k.columnWidth,height:k.startBarOffset,col:e-1-k.columnsLeft},null,8,l),(0,n.Lk)("rect",{class:"beat-rect ba0 be0",x:k.columnWidth*(e-1),y:k.barH*i.bars+k.startBarOffset,width:k.columnWidth,height:k.barH/i.beats*2,bar:"0",beat:"0",col:e-1-k.columnsLeft},null,8,c),(0,n.Lk)("rect",{class:"beat-rect ba-1 be0",x:k.columnWidth*(e-1),y:k.barH*i.bars+k.startBarOffset+k.barH/i.beats*2,width:k.columnWidth,height:k.barH/i.beats,bar:"-1",beat:"0",col:e-1-k.columnsLeft},null,8,g)],8,r)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.bars*i.beats,(e=>((0,n.uX)(),(0,n.CE)("line",{class:"grid-line lasso-able",x1:k.columnWidth*k.columnsLeft-k.beatLineWidth,y1:k.barH/i.beats*(e-1),x2:k.columnWidth*k.columnsLeft+k.beatLineWidth,y2:k.barH/i.beats*(e-1),key:e,"stroke-width":"2",stroke:"black"},null,8,h)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.bars+1,(e=>((0,n.uX)(),(0,n.CE)("line",{id:e==i.bars+1?"startbar":"",class:"grid-line lasso-able",x1:k.columnWidth*(k.columnsLeft-2),y1:k.barH*(e-1),x2:k.columnWidth*(k.columnsLeft+2),y2:k.barH*(e-1),key:e,"stroke-width":"2",stroke:"black"},null,8,d)))),128)),(0,n.Lk)("line",{id:"startbar-lower",class:"grid-line lasso-able",x1:k.columnWidth*(k.columnsLeft-2),y1:k.barH*i.bars+k.startBarOffset,x2:k.columnWidth*(k.columnsLeft+2),y2:k.barH*i.bars+k.startBarOffset,"stroke-width":"2",stroke:"black"},null,8,u),(0,n.Lk)("line",{class:"grid-line lasso-able",x1:k.columnWidth*(k.columnsLeft-2),y1:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,x2:k.columnWidth*(k.columnsLeft+2),y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"2",stroke:"black"},null,8,p),(0,n.Lk)("line",{class:"grid-line lasso-able",x1:k.columnWidth*(k.columnsLeft-2),y1:"0",x2:k.columnWidth*(k.columnsLeft-2),y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"2",stroke:"black"},null,8,b),(0,n.Lk)("line",{id:"middle-line",class:"grid-line lasso-able",x1:k.columnWidth*k.columnsLeft,y1:"0",x2:k.columnWidth*k.columnsLeft,y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"3",stroke:"black"},null,8,m),(0,n.Lk)("line",{class:"grid-line lasso-able",x1:k.columnWidth*(k.columnsLeft+2),y1:"0",x2:k.columnWidth*(k.columnsLeft+2),y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"2",stroke:"black"},null,8,f),k.showHelpLines?((0,n.uX)(),(0,n.CE)("g",S,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.columnsLeft-2,(e=>((0,n.uX)(),(0,n.CE)("line",{class:"grid-line lasso-able help",x1:k.columnWidth*(e-1),y1:"0",x2:k.columnWidth*(e-1),y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"2",key:e},null,8,y)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.columnsRight-2,(e=>((0,n.uX)(),(0,n.CE)("line",{class:"grid-line lasso-able help",x1:k.columnWidth*(k.columnsLeft+e+2),y1:"0",x2:k.columnWidth*(k.columnsLeft+e+2),y2:k.barH*i.bars+k.barH/i.beats*2+k.startBarOffset,"stroke-width":"2",key:e},null,8,v)))),128))])):(0,n.Q3)("",!0),(0,n.Lk)("rect",{x:T.lasso.x,y:T.lasso.y,width:T.lasso.w,height:T.lasso.h,fill:"#fff","fill-opacity":"0",stroke:"#5e9fc7","stroke-width":"3","stroke-dasharray":"5 10",id:"lasso-rect"},null,8,x)],512)}var T=i(2617),k=i.n(T),w={name:"Grid",inject:["barHeight","columnWidth","borderWidth","startBarOffset","beatLineWidth"],emits:["unselect","getGridHandles","removeGridHandles","selectColumn","selectBar","lassoSelect"],props:{bars:Number,beats:Number,fullHeight:Number,contextActive:Boolean,signsSelected:Boolean,selectedColumn:[Number,Boolean],selectedBar:[Number,Boolean]},data(){return{barSelected:!1,colSelected:!1,lasso:{x:0,y:0,startY:0,startX:0,w:0,h:0}}},computed:{barH(){return this.barHeight()},totalBeats(){return this.beats*this.bars},gridDimensions(){return{w:(this.columnsLeft+this.columnsRight)*this.columnWidth,h:this.fullHeight}},columnsLeft(){return this.$store.state["columnsLeft"]+1},columnsRight(){return this.$store.state["columnsRight"]+1},curSign(){return this.$store.state["curSign"]},showHelpLines(){return this.$store.state["showHelpLines"]},gridSelection(){return this.$store.state["gridSelected"]},multiselectActive(){return this.$store.state["multiselectActive"]}},watch:{columnsLeft(){setTimeout(function(){this.colHighlightAfterAddRemove()}.bind(this),1)},columnsRight(){setTimeout(function(){this.colHighlightAfterAddRemove()}.bind(this),1)},signsSelected(e){e!=[]&&this.highlight()},bars(){setTimeout(function(){this.barHighlightAfterAddRemove()}.bind(this),1)},selectedColumn(e){!1===e&&(this.highlight(),this.$emit("removeGridHandles"),this.barSelected=!1,this.colSelected=!1)},selectedBar(e){!1===e&&(this.highlight(),this.$emit("removeGridHandles"),this.barSelected=!1,this.colSelected=!1)},gridSelection:{deep:!0,handler(e){if(e==[])this.highlight();else if(this.$emit("removeGridHandles"),1==e.length&&("selectBar"in e[0]||"selectCol"in e[0])){if("col"in e[0]){let t=e[0].col;if("selectBar"in e[0]&&1==e[0].selectBar&&"bar"in e[0]){let i=e[0].bar;const n=this.$refs.grid.querySelector("#grid-column"+t);this.$emit("getGridHandles",{type:"bar",x:n.querySelector(".beat-rect.ba"+i).getBoundingClientRect().x,y:n.querySelector(".beat-rect.ba"+i).getBoundingClientRect().y}),this.highlight(!1,i)}else if("selectCol"in e[0]&&1==e[0].selectCol){const e=this.$refs.grid.querySelector("#grid-column"+t);this.$emit("getGridHandles",{type:"col",x:e.getBoundingClientRect().x,y:e.getBoundingClientRect().y}),this.highlight(t)}}}else{this.highlight();for(const t of e){let e=!1,i=-2,n=-1,a=!0;"green"in t&&(a=t.green),"col"in t&&(e=t.col),"bar"in t&&(i=t.bar),"beat"in t&&(n=t.beeat),this.highlight(e,i,n,!0,a)}}}}},mounted(){k()(".beat-rect").on("tap",this.click),k()(".grid-line").on("tap",this.lineClick),k()(".lasso-able").draggable({inertia:!1,autoScroll:!1,onstart:this.lassoStart,onmove:this.lassoScale,onend:this.lassoEnd}).styleCursor(!1),k()(".lasso-able").on("hold",function(){this.multiselectActive||this.$store.dispatch("toggleMultiSelect")}.bind(this));for(let e of document.getElementsByClassName("lasso-able"))["touchstart","touchmove","touchend"].forEach((t=>e.addEventListener(t,this.ignoreTouch)))},methods:{colHighlightAfterAddRemove(){if(!1!==this.selectedColumn)if(this.highlight(),this.selectedColumn<-this.columnsLeft){this.highlight(this.selectedColumn+1);const e=this.$refs.grid.querySelector("#grid-column"+(this.selectedColumn+1));this.$emit("getGridHandles",{type:"col",x:e.getBoundingClientRect().x,y:e.getBoundingClientRect().y})}else if(this.selectedColumn>this.columnsRight){this.highlight(this.selectedColumn-1);const e=this.$refs.grid.querySelector("#grid-column"+(this.selectedColumn-1));this.$emit("getGridHandles",{type:"col",x:e.getBoundingClientRect().x,y:e.getBoundingClientRect().y})}else{this.highlight(this.selectedColumn);const e=this.$refs.grid.querySelector("#grid-column"+this.selectedColumn);this.$emit("getGridHandles",{type:"col",x:e.getBoundingClientRect().x,y:e.getBoundingClientRect().y})}else this.highlight(),this.$emit("removeGridHandles")},barHighlightAfterAddRemove(){!1!==this.selectedBar?this.highlight(!1,this.selectedBar):(this.highlight(),this.$emit("removeGridHandles"))},click(e){2==e.button||this.contextActive||this.signsSelected?(this.$emit("unselect"),this.$emit("removeGridHandles"),this.highlight()):0==e.button&&(!1===this.colSelected&&!1===this.barSelected&&parseInt(e.target.getAttribute("bar"))>-1?(this.$emit("removeGridHandles"),this.highlight(!1,parseInt(e.target.getAttribute("bar"))),this.barSelected=parseInt(e.target.getAttribute("bar")),this.$emit("selectBar",parseInt(e.target.getAttribute("bar"))),this.$emit("getGridHandles",{type:"bar",x:e.target.getBoundingClientRect().x,y:e.target.parentElement.querySelector(".beat-rect.ba"+e.target.getAttribute("bar")).getBoundingClientRect().y})):!1===this.colSelected&&this.barSelected==parseInt(e.target.getAttribute("bar"))&&!1!==this.barSelected?(this.highlight(parseInt(e.target.getAttribute("col"))),this.colSelected=parseInt(e.target.getAttribute("col")),this.$emit("removeGridHandles"),this.$emit("selectColumn",parseInt(e.target.getAttribute("col"))),this.$emit("getGridHandles",{type:"col",x:e.target.parentElement.getBoundingClientRect().x,y:e.target.parentElement.getBoundingClientRect().y})):(this.barSelected=!1,this.colSelected=!1,this.highlight(),this.$emit("removeGridHandles")))},lineClick(){this.$emit("unselect"),this.colSelected=!1,this.barSelected=!1},getBar(e){return Math.floor((this.beats*this.bars-e)/this.beats%this.bars)},getBeat(e){return(this.totalBeats-e)%this.beats},highlight(e=!1,t=-2,i=-1,n=!1,a=!1){if(!n)for(let r of this.$refs.grid.querySelectorAll(".highlighted"))r.classList.remove("highlighted"),r.classList.remove("green");let s="";if(t>=-1&&(s=s+".ba"+t),i>=0&&this.beats>i&&(s=s+".be"+i),""!=s){let t=this.$refs.grid.querySelectorAll(s);!1!==e&&"number"==typeof e&&(t=this.$refs.grid.querySelector("#grid-column"+e).querySelectorAll(s));for(let e of t)e.classList.toggle("highlighted"),a&&e.classList.toggle("green")}else if(!1!==e){let t=this.$refs.grid.querySelector("#grid-column"+e).children;for(let e of t)e.classList.toggle("highlighted"),a&&e.classList.toggle("green")}else for(let r of this.$refs.grid.querySelectorAll(".highlighted"))r.classList.remove("highlighted"),r.classList.remove("green")},lassoStart(e){const t=this.$refs.grid.getBoundingClientRect();this.lasso.x=Math.round(e.client.x-t.x),this.lasso.y=Math.round(e.client.y-t.y),this.lasso.startX=Math.round(e.client.x-t.x),this.lasso.startY=Math.round(e.client.y-t.y)},lassoScale(e){e.dx<0?this.lasso.x<this.lasso.startX||this.lasso.w+e.dx<0?(this.lasso.x=this.lasso.x+e.dx,this.lasso.w=this.lasso.startX-this.lasso.x):(this.lasso.x=this.lasso.startX,this.lasso.w=this.lasso.w+e.dx):e.dx>0&&(this.lasso.x<this.lasso.startX?this.lasso.x+e.dx>=this.lasso.startX?(this.lasso.x=this.lasso.startX,this.lasso.w=e.dx):(this.lasso.x=this.lasso.x+e.dx,this.lasso.w=this.lasso.startX-this.lasso.x,this.lasso.w<0&&(this.lasso.w=0)):(this.lasso.x=this.lasso.startX,this.lasso.w=this.lasso.w+e.dx)),e.dy<0?this.lasso.y<this.lasso.startY||this.lasso.h+e.dy<0?(this.lasso.y=this.lasso.y+e.dy,this.lasso.h=this.lasso.startY-this.lasso.y):(this.lasso.y=this.lasso.startY,this.lasso.h=this.lasso.h+e.dy):e.dy>0&&(this.lasso.y<this.lasso.startY?this.lasso.y+e.dy>=this.lasso.startY?(this.lasso.y=this.lasso.startY,this.lasso.h=e.dy):(this.lasso.y=this.lasso.y+e.dy,this.lasso.h=this.lasso.startY-this.lasso.y,this.lasso.h<0&&(this.lasso.h=0)):(this.lasso.y=this.lasso.startY,this.lasso.h=this.lasso.h+e.dy))},lassoEnd(){this.$emit("lassoSelect",{x:this.lasso.x,y:this.lasso.y,w:this.lasso.w,h:this.lasso.h}),this.lasso={x:0,y:0,startY:0,startX:0,w:0,h:0},this.multiselectActive&&this.$store.dispatch("toggleMultiSelect")},ignoreTouch(e){e.cancelable&&this.multiselectActive&&e.preventDefault()}}},L=i(6262);const C=(0,L.A)(w,[["render",D],["__scopeId","data-v-abc01c18"]]);var I=C},5301:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(641),a=i(33);const s=["stroke-width","width","height","signID"],r=["d","stroke-width","stroke-dasharray","signID"],o=["d","stroke-width","stroke-dasharray","signID"],l=["x","y","transform"],c=["transform","d","stroke-width","signID"],g=["cx","stroke-width","signID"];function h(e,t,i,h,d,u){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,opacity:"0",x:"0",y:"0",width:i.width,height:i.height,signID:i.id},null,10,s),(0,n.Lk)("path",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),d:u.path,"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,stroke:"black","stroke-dasharray":"near"==i.signData.signType?4:"",fill:"#ffffff00",signID:i.id},null,10,r),i.signData.passing?((0,n.uX)(),(0,n.CE)("path",{key:0,transform:"translate(0, -5)",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),d:u.path,"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,stroke:"black","stroke-dasharray":"near"==i.signData.signType?4:"",fill:"#ffffff00",signID:i.id},null,10,o)):(0,n.Q3)("",!0),i.signData.grasping?((0,n.uX)(),(0,n.CE)("rect",{key:1,x:this.width/2-5,y:this.height/2-5,transform:i.signData.passing?"translate(0, -2.5)":"",width:"10",height:"10"},null,8,l)):(0,n.Q3)("",!0),i.signData.grasping?((0,n.uX)(),(0,n.CE)("path",{key:2,transform:i.signData.passing?"translate(0, -2.5)":"",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),d:u.graspingPath,"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,stroke:"black",fill:"#ffffff00",signID:i.id},null,10,c)):(0,n.Q3)("",!0),i.signData.holding?((0,n.uX)(),(0,n.CE)("circle",{key:3,cx:i.width/2,cy:"5",r:"5",class:(0,a.C4)({active:i.isSelected}),stroke:"black","stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,signID:i.id},null,10,g)):(0,n.Q3)("",!0)])}var d={name:"RelationshipBowSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number,width:{Number:Number,default:160}},inject:["borderWidth"],computed:{path(){const e=this.signData.signType;let t="";return"touch"==e?t="M 35,10 Q "+this.width/2+",40,"+(this.width-35)+",10":"address"==e?(t="M 35,10 H "+(this.width-70)+" Q "+(this.width-55)+",40,"+(this.width-35)+",10","left"==this.signData.addressing?t="M 35,10 Q 55,40,70,10 H "+(this.width-35):"both"==this.signData.addressing&&(t=" M 35,10 Q 55,40,70,10 H "+(this.width-70)+" Q "+(this.width-55)+",40,"+(this.width-35)+",10")):"near"==e?t="M 35,10 Q "+this.width/2+",40,"+(this.width-35)+",10":"support"==e&&(t="M 35,10 L 55, 25 H "+(this.width-55)+" L "+(this.width-35)+",10"),t},graspingPath(){let e="M "+(this.width/2-5)+","+(this.height/2-5)+" l 10,10M "+(this.width/2-5)+","+(this.height/2+5)+" l 10,-10";return e}}},u=i(6262);const p=(0,u.A)(d,[["render",h]]);var b=p},5420:function(e,t,i){"use strict";e.exports=i.p+"img/duplicate-inactive.a42fc00e.svg"},5466:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":4,"4":7},"introData":[{"title":"The Score - Basics","text":"In Labanotation, the score is used to note movements. It is read from bottom to top. Full horizontal lines define a bar, while shorter lines define a beat. Vertically, the score is split into columns that define the movement of a body part.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":false,"highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Important Lines","text":"The double line at the bottom defines the start of the movement. Below that the starting position is noted.<br><br> The vertical middle line in the inner score (black outline) separates the movements of the left and right sides of the body.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":false,"highlightID":["startbar-lower","startbar","middle-line","canvas"],"highlightElem":"score"},{"title":"The Score - The support Columns","text":"The first columns on either side of the center line are called the support columns. They are used to note where the weight is placed on that respective side of the body. <br><br> If no sign is placed in this column at a given time, that side is not currently supported, with both columns being empty indicating a jump or fall.","buttonText":"Next","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToGridSelect":[{"col":-1,"selectCol":true,"green":false},{"col":0,"selectCol":true,"green":false}]},"highlightID":"canvas","highlightElem":"score"},{"title":"The Score - Further Columns","text":"Beyond the inner score, further columns can be placed, indicated by dotted lines in this editor. <br><br>Traditionally, the second column on either side is used for leg movements, the third for body movements and the fourth for the arms, with the fifth right-sided column being the “head” column. However, columns can be redefined and further columns can be added by placing a body part sign below them.","buttonText":"To the library","position":{"elem":"library","hSide":"left","vSide":"top"},"stateChange":{"addToGridSelect":[{},{"col":false,"bar":-1,"green":false}]},"image":"further-columns.svg","highlightID":"canvas","highlightElem":"score"},{"title":"Direction Signs","text":"Direction signs are the most basic signs and can be used to note a movement in a specific direction. They come in 9 variations which define the horizontal direction.<br><br>The vertical direction is defined by the inner pattern. It can be downward (1), middle (2) and upward (3).","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"direction-sign-variations.svg","highlightID":"library-direction-signs","highlightElem":"signLibrary"},{"title":"Turn Signs","text":"Turn signs describe a turn in a given direction. There are signs for left or right turns, as well as a turn in any direction.<br><br>The degree of a turn can either be described by a relationship pin or a space measurement sign.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"turn-pin-and-space.svg","highlightID":"library-turn-signs","highlightElem":"signLibrary"},{"title":"Relationship Bows","text":"Relationship bows are used to describe the relationship between two body parts or objects. They can define touching, addressing, being near and supporting. Rather than being resized vertically, they span multiple columns.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-relationship-bows","highlightElem":"signLibrary"},{"title":"Space Measurement Signs","text":"Space measurement signs define the flexion and extension of a body part. Alternatively, they can change the execution of a following movement, or the degree of a turn. There are five types, each with six degrees of strength. The types are narrow (1), wide (2), folding (3), joining (4) and spreading (5). <br><br>Additionally, the neither-streched-nor-bent (6) and unfolding (7) signs are used to cancel the other signs.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"space-measure-degrees.svg","highlightID":"library-space-measurement-signs","highlightElem":"signLibrary"},{"title":"Path Signs","text":"Path signs are used to indicate a general movement in a direction. There are a straight path, a left and a right circular path, as well as an undefined path.<br><br>Path signs are placed on the right side of the score, beyond the right-most column.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-path-signs","highlightElem":"signLibrary"},{"title":"Body Part Signs","text":"Body part signs define a specific joint (1), limb (2), surface (3), digit (4), or area (5). They are either placed below a column, to note that all movements in that column apply to it, or placed below another movement to note that only that movement applies to it.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"body-part-types.svg","highlightID":"library-body-part-signs","highlightElem":"signLibrary"},{"title":"Miscellaneous Signs","text":"Signs that do not fit into another menu have been placed in the miscellaneous category.<br><br>Room direction signs are used to indicate the orientation of the body in the room at a given time. They are placed beyond the left-most column.<br><br>The back-to-normal and release contact signs are used to cancel relationship bows and space measurement signs.<br><br>The vibration sign defines an oscillating motion.<br><br>Prop signs can be used like a body part sign and define the interaction with a device. Currently, a smartphone prop is available.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-misc-signs","highlightElem":"signLibrary"}]}')},5596:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641);const a=["transform"],s=["signID"],r=["transform"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("g",{transform:"translate(0,"+(i.height-40)+")"},[(0,n.Lk)("rect",{x:"0",y:"0",width:"40",height:"40",opacity:"0",signID:i.id},null,8,s),(0,n.Lk)("g",{transform:c.transform},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(i.signData.signType),{id:i.id,isSelected:i.isSelected,height:i.height,signData:i.signData},null,8,["id","isSelected","height","signData"]))],8,r)],8,a)}var l={name:"BodyPartSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth"],computed:{transform(){return"right"==this.signData.side&&"Head"!=this.signData.signType?"translate("+this.signWidth+",0) scale(-1,1)":""}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},5624:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s=["transform"],r=["x","y","width","height","stroke-width","signID"],o=["x","y","signID"],l=["stroke-width","d","signID"];function c(e,t,i,c,g,h){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("g",{transform:"translate(0,"+h.limbTransform+")"},[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:h.signWidth/6,y:h.signWidth/6,width:h.signWidth/1.5,height:h.signWidth/1.5,"stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,signID:i.id},null,10,r),(0,n.Lk)("text",{ref:"headText",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),style:{"font-family":"'Times New Roman'","font-size":"1.4em"},"dominant-baseline":"middle",x:(h.signWidth-g.textWidth)/2,y:(i.height-g.textHeight)/2+g.textHeight/2+2,signID:i.id,stroke:"black"}," C ",10,o)],8,s),0!=h.limbTransform?((0,n.uX)(),(0,n.CE)("path",{key:0,class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),"stroke-width":i.isSelected?h.borderWidth+1:h.borderWidth,stroke:"black",d:"M15,"+h.signWidth/1.5+"V40M25,"+h.signWidth/1.5+"V40",signID:i.id},null,10,l)):(0,n.Q3)("",!0)])}var g={name:"HeadSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],data(){return{textWidth:0,textHeight:0}},computed:{limbTransform(){return"limb"in this.signData&&this.signData.limb?-this.signWidth/6:0}},mounted(){this.textWidth=this.$refs.headText.getBoundingClientRect().width,this.textHeight=this.$refs.headText.getBoundingClientRect().height}},h=i(6262);const d=(0,h.A)(g,[["render",c]]);var u=d},5643:function(e,t,i){"use strict";e.exports=i.p+"img/horizontal-surface-thumb.1cb6ce57.svg"},5658:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":4},"introData":[{"title":"Room Direction Signs","text":"Room direction signs specify the alignment of the body in relation to the room. This is mainly used in dance notation, to signify whether or not a performer is facing the crowd. They are placed beyond the left-most column.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-misc-signs","highlightElem":"signLibrary"},{"title":"Cancel Signs","text":"“Release contact” and “back to normal” are cancel signs. They primarily cancel holding signs, which specify that the position of the previous movement is held after it is done, or relationship bows.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-misc-signs","highlightElem":"signLibrary"},{"title":"Vibration Signs","text":"Vibration signs define a vibrating movement. The two pins are used to define the two points the movement is oscillating between.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-misc-signs","highlightElem":"signLibrary"},{"title":"Prop Signs","text":"Prop signs are similar to body part signs, in that they can be placed below a column. One use is to place an input device prop next to a body part sign with a relationship bow connecting them to indicate how and where that input device is held.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-misc-signs","highlightElem":"signLibrary"}]}')},5727:function(e,t,i){"use strict";e.exports=i.p+"img/triangle-left.b83a1222.svg"},5736:function(e,t,i){"use strict";e.exports=i.p+"img/body-part-types.c7c95ab2.svg"},5906:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("RadioOption"),l=(0,n.g2)("SignCategoryContainer"),c=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{options:s.pinType,initState:s.pinType.findIndex((e=>e.text==i.signData.upperPin.signType)),optionText:"Upper Angle Level",active:s.displayPinOptions,onSwitchState:this.changeupperPin},null,8,["options","initState","active","onSwitchState"]),i.signData.upperPin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(l,{key:0,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.upperPin,onUpdateSignData:r.changeupperPinAngle},null,8,["parentY","active","onUpdateSignData"])),i.signData.upperPin&&"Low"==i.signData.upperPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:1,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.upperPin,onUpdateSignData:r.changeupperPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.upperPin&&"Middle"==i.signData.upperPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:2,optionText:"Angle",category:"pins-middle",parentY:i.y,active:!!i.signData.upperPin,onUpdateSignData:r.changeupperPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.upperPin&&"High"==i.signData.upperPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:3,optionText:"Angle",category:"pins-high",parentY:i.y,active:!!i.signData.upperPin,onUpdateSignData:r.changeupperPinAngle},null,8,["parentY","active","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(o,{options:s.pinType,initState:s.pinType.findIndex((e=>e.text==i.signData.lowerPin.signType)),optionText:"Lower Angle Level",active:s.displayPinOptions,onSwitchState:this.changelowerPin},null,8,["options","initState","active","onSwitchState"]),i.signData.lowerPin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(l,{key:4,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.lowerPin,onUpdateSignData:r.changelowerPinAngle},null,8,["parentY","active","onUpdateSignData"])),i.signData.lowerPin&&"Low"==i.signData.lowerPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:5,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.lowerPin,onUpdateSignData:r.changelowerPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.lowerPin&&"Middle"==i.signData.lowerPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:6,optionText:"Angle",category:"pins-middle",parentY:i.y,active:!!i.signData.lowerPin,onUpdateSignData:r.changelowerPinAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.lowerPin&&"High"==i.signData.lowerPin.signType?((0,n.uX)(),(0,n.Wv)(l,{key:7,optionText:"Angle",category:"pins-high",parentY:i.y,active:!!i.signData.lowerPin,onUpdateSignData:r.changelowerPinAngle},null,8,["parentY","active","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(c,{mIndex:1,onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"vibrationSignContext",props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{pinType:[{text:"Low",img:"/pin-low-forward.svg"},{text:"Middle",img:"/pin-middle.svg"},{text:"High",img:"/pin-high.svg"}],displayPinOptions:!1}},mounted(){this.displayPinOptions="object"==typeof this.signData.upperPin||"object"==typeof this.signData.lowerPin},methods:{changePins(e){this.displayPinOptions=e,e?this.newSignData({upperPin:{signType:"Low",degree:0},lowerPin:{signType:"Low",degree:0}}):this.newSignData({upperPin:!1,lowerPin:!1})},changeupperPin(e){let t=JSON.parse(JSON.stringify(this.signData.upperPin))||{signType:"Low",degree:0};t.signType=this.pinType[e].text,this.newSignData({upperPin:t})},changeupperPinAngle(e){if(this.isActive){let t=e.degree,i=JSON.parse(JSON.stringify(this.signData.upperPin))||{signType:"Low",degree:0};i.degree=t,this.newSignData({upperPin:i})}},changelowerPin(e){let t=JSON.parse(JSON.stringify(this.signData.lowerPin))||{signType:"Low",degree:0};t.signType=this.pinType[e].text,this.newSignData({lowerPin:t})},changelowerPinAngle(e){if(this.isActive){let t=e.degree,i=JSON.parse(JSON.stringify(this.signData.lowerPin))||{signType:"Low",degree:0};i.degree=t,this.newSignData({lowerPin:i})}},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},5991:function(e){"use strict";e.exports=JSON.parse('{"catName":"Turn Signs","catHeight":80,"baseHeight":100,"general":[{"isSelected":false,"canResize":false,"height":80,"x":0,"y":0}],"signData":[{"baseType":"TurnSign","signType":"counterClockwise","resizable":true,"beatHeight":2},{"baseType":"TurnSign","signType":"clockwise","resizable":true,"beatHeight":2},{"baseType":"TurnSign","signType":"any","resizable":true,"beatHeight":2}]}')},6004:function(e){"use strict";e.exports=JSON.parse('{"catName":"Middle Pins","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"Pin","degree":315,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":0,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":45,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":270,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":-1,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":90,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":225,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":180,"signType":"Low","resizable":false,"beatHeight":1},{"baseType":"Pin","degree":135,"signType":"Low","resizable":false,"beatHeight":1}]}')},6045:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":3},"introData":[{"title":"Turn Signs","text":"There are two ways of defining the angle of a turn in Labanotation. One way is to use space measurement signs as a qualitative descriptor. A “narrow” sign would signify a small rotation, while a “wide” sign would signify a big one.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"turn-pin-and-space.svg","highlightID":"library-turn-signs","highlightElem":"signLibrary"},{"title":"Turn Signs","text":"Alternatively, relationship pins can be used to quantitatively describe the rotation. For a right turn, a purely upwards pin indicates a 360° turn, a upwards-left pin a 315° turn, a upwards-right turn 45° etc. For a left turn, this is reversed, so an upwards-left pin means 45° instead.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"turn-pins.svg","highlightID":"library-turn-signs","highlightElem":"signLibrary"},{"title":"Turn Signs","text":"All three pinhead types have a different meaning in terms of rotations. White pins describe the rotation in relation to the starting position of the body part, black pins describe the rotation in relation to the current position of the body part and flat pins describe the direction in the room the body part is turned to after the rotation.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-turn-signs","highlightElem":"signLibrary"}]}')},6102:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("RadioOption"),l=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{options:s.types,initState:s.types.findIndex((e=>e.text==i.signData.signType)),optionText:"Type",active:!0,onSwitchState:this.changeType},null,8,["options","initState","onSwitchState"]),(0,n.bF)(l,{onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"CancelContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String]},emits:["updateSignData","delete"],data(){return{types:[{text:"back-normal",img:"/cancel/cancel-back.svg"},{text:"release-contact",img:"/cancel/cancel-release.svg"}]}},methods:{changeType(e){1==e?this.newSignData({signType:"release-contact"}):this.newSignData({signType:"back-normal"})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},6129:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var n=i(641),a=i(33),s=i(3751),r=i(4354);const o={class:"modal-content"},l={class:"box"},c={class:"is-flex is-align-items-top"},g=["innerHTML"],h=["innerHTML"],d=["innerHTML"],u={key:2,class:"mb-4 is-flex is-justify-content-center"},p=["src"],b={class:"is-flex is-justify-content-center mb-4"},m={class:"is-flex is-justify-content-center"},f=["onClick"];function S(e,t,i,S,y,v){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["modal",i.modalActive?"is-active":""]),style:(0,a.Tr)(v.getPosition)},[(0,n.Lk)("div",o,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("h1",{class:"title is-flex is-align-items-center is-4",innerHTML:y.introData[y.curIndex]["title"]},null,8,g),(0,n.Lk)("button",{class:"delete is-large custom-close mb-4","aria-label":"close",onClick:t[0]||(t[0]=t=>e.$emit("disableModal"))},t[4]||(t[4]=[(0,n.Lk)("img",{src:r,class:"option-img"},null,-1)]))]),e.$store.state["isTablet"]&&"textTablet"in y.introData[y.curIndex]?((0,n.uX)(),(0,n.CE)("p",{key:1,class:"mb-4",innerHTML:y.introData[y.curIndex]["textTablet"]},null,8,d)):((0,n.uX)(),(0,n.CE)("p",{key:0,class:"mb-4",innerHTML:y.introData[y.curIndex]["text"]},null,8,h)),"image"in y.introData[y.curIndex]?((0,n.uX)(),(0,n.CE)("p",u,[(0,n.Lk)("img",{width:"300",src:v.imgSrc},null,8,p)])):(0,n.Q3)("",!0),(0,n.Lk)("div",b,[y.curIndex>0?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"button nav-btn has-text-white mr-2",onClick:t[1]||(t[1]=e=>v.back())},"Back")):(0,n.Q3)("",!0),y.curIndex<y.introData.length-1?((0,n.uX)(),(0,n.CE)("button",{key:1,class:"button nav-btn has-text-white",onClick:t[2]||(t[2]=e=>v.next())},(0,a.v_)(y.introData[y.curIndex]["buttonText"]),1)):((0,n.uX)(),(0,n.CE)("button",{key:2,class:"button nav-btn has-text-white",onClick:t[3]||(t[3]=t=>e.$emit("disableModal"))},(0,a.v_)(y.introData[y.curIndex]["buttonText"]),1))]),(0,n.Lk)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(y.breakPoints).length,((e,t)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(y.breakPoints[Object.keys(y.breakPoints)[t]],(e=>((0,n.uX)(),(0,n.CE)("button",{class:(0,a.C4)(["button nav-dot mx-2",y.curIndex-parseInt(Object.keys(y.breakPoints)[t])+1==e?"active":""]),onClick:i=>v.switchIndex(parseInt(Object.keys(y.breakPoints)[t])-1+e),key:e},null,10,f)))),128))])),[[s.aG,y.curIndex>=Object.keys(y.breakPoints)[t]&&y.curIndex<parseInt(Object.keys(y.breakPoints)[t])+parseInt(y.breakPoints[Object.keys(y.breakPoints)[t]])&&parseInt(y.breakPoints[Object.keys(y.breakPoints)[t]])>1]]))),128))])])])],6)}i(4114);var y={name:"IntroductionModal",emits:["disableModal","switchHighlight"],props:{modalActive:Boolean,intro:String},data(){return{introData:[{title:"Title",text:"Text"}],curIndex:0,breakPoints:{}}},watch:{modalActive(e){if(this.resetState(),e)"none"!=this.introData[this.curIndex].highlightID&&document.getElementById(this.introData[this.curIndex].highlightID).classList.add("tut-highlight"),this.switchState();else if("none"!=this.introData[this.curIndex].highlightID)if(this.introData[this.curIndex].highlightID.constructor===Array)for(let t in this.introData[this.curIndex].highlightID)document.getElementById(this.introData[this.curIndex].highlightID[t]).classList.remove("tut-highlight");else document.getElementById(this.introData[this.curIndex].highlightID).classList.remove("tut-highlight")},intro(){if(this.modalActive){this.curIndex=0;let e=this.$store.state["language"],t=i(4554)("./"+this.intro+e+".json"),n=JSON.parse(JSON.stringify(t)),a=[];for(const i of Object.entries(n.introData))a.push(i[1]);this.breakPoints=n.breakPoints,this.introData=a}}},computed:{getPosition(){if("position"in this.introData[this.curIndex]){const e=this.introData[this.curIndex].position;let t=document.getElementById(e.elem).getBoundingClientRect();return"transform: translate("+t[e.hSide]+"px, "+t[e.vSide]+"px);"}return""},imgSrc(){if("image"in this.introData[this.curIndex]&&this.modalActive){let e=this.intro;return i(9313)("./"+e.slice(0,-1)+"/"+this.introData[this.curIndex].image)}return""}},mounted(){let e=this.$store.state["language"],t=i(4554)("./"+this.intro+e+".json"),n=JSON.parse(JSON.stringify(t)),a=[];for(const i of Object.entries(n.introData))a.push(i[1]);this.breakPoints=n.breakPoints,this.introData=a},methods:{switchIndex(e){if(this.resetState(),"none"!=this.introData[this.curIndex].highlightID)if(this.introData[this.curIndex].highlightID.constructor===Array)for(let t in this.introData[this.curIndex].highlightID)document.getElementById(this.introData[this.curIndex].highlightID[t]).classList.remove("tut-highlight");else document.getElementById(this.introData[this.curIndex].highlightID).classList.remove("tut-highlight");if(this.curIndex=e,"none"!=this.introData[this.curIndex].highlightID)if(this.introData[this.curIndex].highlightID.constructor===Array)for(let t in this.introData[this.curIndex].highlightID)document.getElementById(this.introData[this.curIndex].highlightID[t]).classList.add("tut-highlight");else document.getElementById(this.introData[this.curIndex].highlightID).classList.add("tut-highlight");this.switchState()},next(){this.resetState(),this.curIndex=this.curIndex+1,this.$emit("switchHighlight",this.introData[this.curIndex].highlightElem),setTimeout((()=>{if(this.introData[this.curIndex].highlightID!=this.introData[this.curIndex-1].highlightID){if("none"!=this.introData[this.curIndex-1].highlightID)if(this.introData[this.curIndex-1].highlightID.constructor===Array)for(let e in this.introData[this.curIndex-1].highlightID)document.getElementById(this.introData[this.curIndex-1].highlightID[e]).classList.remove("tut-highlight");else document.getElementById(this.introData[this.curIndex-1].highlightID).classList.remove("tut-highlight");if("none"!=this.introData[this.curIndex].highlightID)if(this.introData[this.curIndex].highlightID.constructor===Array)for(let e in this.introData[this.curIndex].highlightID)document.getElementById(this.introData[this.curIndex].highlightID[e]).classList.add("tut-highlight");else document.getElementById(this.introData[this.curIndex].highlightID).classList.add("tut-highlight")}}),1),this.switchState()},back(){this.resetState(),this.curIndex=this.curIndex-1,this.$emit("switchHighlight",this.introData[this.curIndex].highlightElem),setTimeout((()=>{if(this.introData[this.curIndex].highlightID!=this.introData[this.curIndex+1].highlightID){if("none"!=this.introData[this.curIndex+1].highlightID)if(this.introData[this.curIndex+1].highlightID.constructor===Array)for(let e in this.introData[this.curIndex+1].highlightID)document.getElementById(this.introData[this.curIndex+1].highlightID[e]).classList.remove("tut-highlight");else document.getElementById(this.introData[this.curIndex+1].highlightID).classList.remove("tut-highlight");if("none"!=this.introData[this.curIndex].highlightID)if(this.introData[this.curIndex].highlightID.constructor===Array)for(let e in this.introData[this.curIndex].highlightID)document.getElementById(this.introData[this.curIndex].highlightID[e]).classList.add("tut-highlight");else document.getElementById(this.introData[this.curIndex].highlightID).classList.add("tut-highlight")}}),1),this.switchState()},switchState(){if(this.introData[this.curIndex].stateChange)for(let[e,t]of Object.entries(this.introData[this.curIndex].stateChange))if(t.constructor===Array)for(let i of t)this.$store.dispatch(e,i);else this.$store.dispatch(e,t)},resetState(){this.$store.dispatch("clearSelectedSigns"),this.$store.dispatch("clearGridSelect"),this.$store.dispatch("changeContextMenu",!1)}}},v=i(6262);const x=(0,v.A)(y,[["render",S],["__scopeId","data-v-0ffc35b2"]]);var D=x},6230:function(e,t,i){"use strict";e.exports=i.p+"img/layer-down.ebf2c770.svg"},6238:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var n=i(641),a=i(33),s=i(4354);const r={class:"modal-content"},o={class:"box",id:"edit-form"},l={key:0,class:"title is-4"},c={key:1,class:"title is-4"},g={key:2,class:"field"},h={class:"control"},d={class:"select"},u={key:3,class:"field"},p={class:"control"},b=["disabled"],m={key:4,class:"button nav-btn"},f={key:5,class:"button nav-btn"};function S(e,t,i,S,y,v){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["modal",i.modalActive?"is-active":""])},[t[15]||(t[15]=(0,n.Lk)("div",{class:"modal-background"},null,-1)),(0,n.Lk)("div",r,[(0,n.Lk)("form",o,[i.newScore?((0,n.uX)(),(0,n.CE)("h1",l,[t[5]||(t[5]=(0,n.eW)("New Score ")),(0,n.Lk)("button",{class:"delete is-large custom-close","aria-label":"close",onClick:t[0]||(t[0]=(...e)=>v.disableModal&&v.disableModal(...e))},t[4]||(t[4]=[(0,n.Lk)("img",{src:s,class:"option-img"},null,-1)]))])):((0,n.uX)(),(0,n.CE)("h1",c,[t[7]||(t[7]=(0,n.eW)("Edit Score Parameters")),(0,n.Lk)("button",{class:"delete is-large custom-close","aria-label":"close",onClick:t[1]||(t[1]=(...e)=>v.disableModal&&v.disableModal(...e))},t[6]||(t[6]=[(0,n.Lk)("img",{src:s,class:"option-img"},null,-1)]))])),t[12]||(t[12]=(0,n.Fv)('<div class="field" data-v-23959082><label class="label" data-v-23959082>Author</label><div class="control" data-v-23959082><input class="input" type="text" placeholder="Author" name="author" required data-v-23959082></div></div><div class="field" data-v-23959082><label class="label" data-v-23959082>Title</label><div class="control" data-v-23959082><input class="input" type="text" placeholder="Title" name="title" required data-v-23959082></div></div>',2)),i.newScore?((0,n.uX)(),(0,n.CE)("div",g,[t[9]||(t[9]=(0,n.Lk)("label",{class:"label"},"Template",-1)),(0,n.Lk)("div",h,[(0,n.Lk)("div",d,[(0,n.Lk)("select",{id:"template-select",onChange:t[2]||(t[2]=(...e)=>v.updateScoreParam&&v.updateScoreParam(...e))},t[8]||(t[8]=[(0,n.Lk)("option",{template:"blank-score"},"Blank Score",-1),(0,n.Lk)("option",{template:"walking-turning"},"Walking and Turning",-1),(0,n.Lk)("option",{template:"device-shake"},"Device Shake",-1)]),32)])])])):(0,n.Q3)("",!0),t[13]||(t[13]=(0,n.Lk)("div",{class:"field"},[(0,n.Lk)("label",{class:"label"},"Score Description"),(0,n.Lk)("div",{class:"control"},[(0,n.Lk)("textarea",{class:"textarea",placeholder:"Description",name:"description",required:""})])],-1)),i.newScore?((0,n.uX)(),(0,n.CE)("div",u,[t[10]||(t[10]=(0,n.Lk)("label",{class:"label"},"Beats per Measure",-1)),t[11]||(t[11]=(0,n.Lk)("p",{class:"help is-info"},"Currently cannot be changed after score creation or with custom templates.",-1)),(0,n.Lk)("div",p,[(0,n.Lk)("input",{class:"input",type:"number",min:"1",max:"8",placeholder:"1 - 8",value:"4",name:"beatsPerBar",disabled:i.beatsPerBarDisabled},null,8,b)])])):(0,n.Q3)("",!0),t[14]||(t[14]=(0,n.Fv)('<div class="field" data-v-23959082><label class="label" data-v-23959082>Time Unit</label><p class="help" data-v-23959082>The Time Unit of the Beat Duration</p><div class="control" data-v-23959082><div class="select" data-v-23959082><select name="timeUnit" data-v-23959082><option data-v-23959082>Millisecond</option><option selected="selected" data-v-23959082>Second</option><option data-v-23959082>Minute</option></select></div></div></div><div class="field" data-v-23959082><label class="label" data-v-23959082>Beat Duration</label><div class="control" data-v-23959082><input class="input" type="number" placeholder="1-1000" min="1" max="1000" value="1" name="beatDuration" required data-v-23959082></div></div>',2)),i.newScore?((0,n.uX)(),(0,n.CE)("button",m,"Create Score")):((0,n.uX)(),(0,n.CE)("button",f,"Update Score Parameters")),(0,n.Lk)("button",{class:"button ml-3",type:"reset",onClick:t[3]||(t[3]=(...e)=>v.disableModal&&v.disableModal(...e))},"Cancel")])])],2)}var y={name:"ScoreEditModal",emits:["disableModal","checkBeatsPerBar","formSubmit"],props:{modalActive:Boolean,newScore:Boolean,beatsPerBarDisabled:Boolean},watch:{modalActive(e){e&&this.loadFormData()}},mounted(){document.getElementById("edit-form").addEventListener("submit",this.updateScore),this.loadFormData()},methods:{disableModal(){this.$emit("disableModal")},updateScoreParam(){const e="Blank Score"!=document.getElementById("template-select").value;let t;this.$emit("checkBeatsPerBar",e);for(let s of document.getElementById("template-select").childNodes)s.value==document.getElementById("template-select").value&&(t=i(6554)("./"+s.getAttribute("template")+".xml"));const n=new DOMParser;let a=n.parseFromString(t.default,"text/xml");document.getElementById("edit-form").querySelector("input[name='author']").value=a.getElementsByTagName("laban:author")[0].innerHTML,document.getElementById("edit-form").querySelector("input[name='title']").value=a.getElementsByTagName("laban:title")[0].innerHTML,document.getElementById("edit-form").querySelector("textarea[name='description']").value=a.getElementsByTagName("laban:description")[0].innerHTML,document.getElementById("edit-form").querySelector("input[name='beatsPerBar']").value=a.getElementsByTagName("laban:beats")[0].innerHTML},updateScore(e){e.preventDefault();let t={author:e.srcElement[1].value};this.newScore?(t.beatsPerBar=parseInt(e.srcElement[5].value),t.title=e.srcElement[2].value,t.template=e.srcElement[3].value,t.description=e.srcElement[4].value,t.timeUnit=e.srcElement[6].value,t.beatDuration=e.srcElement[7].value):(t.title=e.srcElement[2].value,t.description=e.srcElement[3].value,t.timeUnit=e.srcElement[4].value,t.beatDuration=e.srcElement[5].value),this.$emit("formSubmit",t)},loadFormData(){let e=document.getElementById("edit-form");e.elements["author"].value=this.$store.state["author"],e.elements["title"].value=this.$store.state["title"],e.elements["description"].value=this.$store.state["description"],e.elements["beatsPerBar"]&&(e.elements["beatsPerBar"].value=this.$store.state["beatsPerBar"]),e.elements["timeUnit"].value=this.$store.state["timeUnit"].charAt(0).toUpperCase()+this.$store.state["timeUnit"].slice(1),e.elements["beatDuration"].value=parseInt(this.$store.state["beatDuration"])}}},v=i(6262);const x=(0,v.A)(y,[["render",S],["__scopeId","data-v-23959082"]]);var D=x},6261:function(e,t,i){"use strict";e.exports=i.p+"img/addressing-right.061438e3.svg"},6322:function(e){"use strict";e.exports=JSON.parse('{"catName":"Turn Signs","names":[{"name":"Left turn","signType":"counterClockwise"},{"name":"Right turn","signType":"clockwise"},{"name":"Any turn","signType":"any"}]}')},6407:function(e){"use strict";e.exports=JSON.parse('{"catName":"Toe Digits","names":[{"name":"Toes","signType":"Toes"}]}')},6449:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":3},"introData":[{"title":"Relationship Bows","text":"Relationship bows describe the relationship between two body parts or objects. There are four types, three of which are bidirectional.<br><br> They can either be placed on their own, to indicate a general relationship, or be added before another movement, to specify the relationship during it.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-relationship-bows","highlightElem":"signLibrary"},{"title":"Relationship Bows","text":"A near bow signifies that two body parts are near each other, but not touching. A contact bow signifies that two body parts are having contact, but are not supporting each other. A supporting sign signifies that one body part is supporting the other. The Addressing bow usually signifies that an active body part is turned to a passive body part, which has a half-circle on its side altough both sides can be active at the same time.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"addressing.svg","highlightID":"library-relationship-bows","highlightElem":"signLibrary"},{"title":"Relationship Bows","text":"Bows can be further specified. A passing bow (1) signifies a gliding motion of the body parts, while a grasping bow (2) signifies that one body part is grasping the other. Space measurement signs can be used similarly to the grasping sign, in the sense that a “narrow” sign can also be used to indicate a grasping motion.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"bow-pass-grasp.svg","highlightID":"library-relationship-bows","highlightElem":"signLibrary"}]}')},6514:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s={id:"cur-sign-container"},r={class:"cur-sign-text"};function o(e,t,i,o,l,c){const g=(0,n.g2)("LibraryItemContainer");return(0,n.uX)(),(0,n.CE)("div",{id:"library",style:(0,a.Tr)(c.libraryActive?"width: 260px;":"width: 0;")},[t[0]||(t[0]=(0,n.Lk)("div",null,null,-1)),(0,n.Lk)("div",s,[(0,n.Lk)("p",r,(0,a.v_)(l.curSign),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.categories,((e,t)=>((0,n.uX)(),(0,n.Wv)(g,{active:e.active,selected:e.selected,category:e.category,catIndex:t,key:t,onExpand:c.selectCategory,onSelectSign:c.updateCurSign,onEmitSigns:c.addSigns},null,8,["active","selected","category","catIndex","onExpand","onSelectSign","onEmitSigns"])))),128))],4)}i(8111),i(116);var l=i(2617),c=i.n(l),g={name:"SignLibrary",emits:["selectSignDrag"],data(){return{categories:[{active:!1,category:"direction-signs",selected:-1},{active:!1,category:"turn-signs",selected:-1},{active:!1,category:"relationship-bows",selected:-1},{active:!1,category:"space-measurement-signs",selected:-1},{active:!1,category:"path-signs",selected:-1},{active:!1,category:"body-part-signs",selected:-1},{active:!1,category:"misc-signs",selected:-1}],curSign:"",signs:{}}},computed:{storedSign(){return this.$store.state["curSign"]},libraryActive(){return this.$store.state["libraryActive"]}},watch:{storedSign(e){if(!e){this.curSign="";for(let e of this.categories)e.selected=-1}}},mounted(){c()(".library-sign-svg").draggable({inertia:!1,autoScroll:!1,onstart:this.selectSignStart,onmove:this.selectSignMove,onend:this.selectSignEnd}).styleCursor(!1)},methods:{addSigns(e){this.signs[e.catIndex]=e.signs},selectCategory(e){for(let t=0;t<this.categories.length;t++)t!=e&&(this.categories[t].active=!1);this.categories[e].active=!this.categories[e].active},updateCurSign(e){this.curSign="";let t=!1;this.categories[e.catIndex].selected==e.index&&(t=!0);for(let i of this.categories)i.selected=-1;if(t)if(e.updateSign){let t={signData:e.signData};this.$store.dispatch("changeCurSign",t),this.categories[e.catIndex].selected=e.index,this.curSign=e.name}else this.$store.dispatch("changeCurSign",!1);else if(this.categories[e.catIndex].selected=e.index,this.curSign="Current Sign: "+e.name,e.updateSign){let t={signData:e.signData};this.$store.dispatch("changeCurSign",t)}},selectSignStart(e){const t=parseInt(e.target.getAttribute("cat-index")),n=parseInt(e.target.getAttribute("index")),a=this.$store.state["language"],s=i(1660)("./"+this.categories[t].category+"-"+a+".json"),r=JSON.parse(JSON.stringify(s)),o=r.names.find((e=>this.signs[t][n].signData.signType==e.signType));if(this.updateCurSign({catIndex:t,index:n,name:o.name,signData:this.signs[t][n].signData,updateSign:!0}),this.$emit("selectSignDrag",{type:"start",pos:{x:e.target.firstChild.getBoundingClientRect().x,y:e.target.firstChild.getBoundingClientRect().y}}),"RoomDirectionSign"==this.signs[t][n].signData.baseType)this.$store.dispatch("addToGridSelect",{col:-this.$store.state["columnsLeft"]-1});else if("PathSign"==this.signs[t][n].signData.baseType)this.$store.dispatch("addToGridSelect",{col:this.$store.state["columnsRight"]});else if("BodyPartSign"==this.signs[t][n].signData.baseType||"PropSign"==this.signs[t][n].signData.baseType)for(let i=-this.$store.state["columnsLeft"];i<this.$store.state["columnsRight"];i++)this.$store.dispatch("addToGridSelect",{col:i,bar:-1,beat:0});else for(let i=-this.$store.state["columnsLeft"];i<this.$store.state["columnsRight"];i++)this.$store.dispatch("addToGridSelect",{col:i,bar:-2}),this.$store.dispatch("addToGridSelect",{col:i,bar:-1,beat:0})},selectSignMove(e){this.$emit("selectSignDrag",{type:"move",delta:{x:e.dx,y:e.dy}})},selectSignEnd(e){const t=parseInt(e.target.getAttribute("cat-index")),i=parseInt(e.target.getAttribute("index"));this.updateCurSign({catIndex:t,index:i,name:this.categories[t].category,signData:this.signs[t][i].signData}),this.$emit("selectSignDrag",{type:"end"}),this.$store.dispatch("clearGridSelect")}}},h=i(6262);const d=(0,h.A)(g,[["render",o]]);var u=d},6554:function(e,t,i){var n={"./blank-score.xml":7510,"./device-shake.xml":1090,"./intro-score.xml":9810,"./walking-turning.xml":8296};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=6554},6558:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return x}});var n=i(641),a=i(33),s=i(4354);const r={class:"modal-content"},o={class:"box"},l={class:"is-flex is-align-items-center"},c={class:"title is-flex is-align-items-center"},g=["innerHTML"],h={class:"columns is-multiline mb-0"},d={class:"column is-flex is-justify-content-center is-full p-0"},u={class:"column is-flex is-justify-content-center is-full p-0"},p={class:"is-flex is-justify-content-center mb-4"},b={class:"is-flex is-justify-content-center"},m=["onClick"];function f(e,t,i,f,S,y){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["modal",i.modalActive?"is-active":""])},[t[7]||(t[7]=(0,n.Lk)("div",{class:"modal-background"},null,-1)),(0,n.Lk)("div",r,[(0,n.Lk)("div",o,[(0,n.Lk)("div",l,[(0,n.Lk)("h1",c,(0,a.v_)(S.introData[S.curIndex]["title"]),1),(0,n.Lk)("button",{class:"delete is-large custom-close mb-3","aria-label":"close",onClick:t[0]||(t[0]=t=>e.$emit("disableModal"))},t[6]||(t[6]=[(0,n.Lk)("img",{src:s,class:"option-img"},null,-1)]))]),(0,n.Lk)("p",{class:"mb-4",innerHTML:S.introData[S.curIndex]["text"]},null,8,g),(0,n.Lk)("div",h,[(0,n.Lk)("div",d,[1==S.curIndex?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"button nav-btn mb-2 has-text-white",onClick:t[1]||(t[1]=t=>e.$emit("startLabanIntro"))},"Labanotation Introduction")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",u,[1==S.curIndex?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"button nav-btn mb-2 has-text-white",onClick:t[2]||(t[2]=t=>e.$emit("startEditorIntro"))},"Editor Introduction")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",p,[0==S.curIndex?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"button nav-btn has-text-white",onClick:t[3]||(t[3]=e=>S.curIndex=S.curIndex+1)},"Next")):(0,n.Q3)("",!0),1==S.curIndex?((0,n.uX)(),(0,n.CE)("button",{key:1,class:"button nav-btn has-text-white",onClick:t[4]||(t[4]=e=>S.curIndex=S.curIndex+1)},"No thanks")):(0,n.Q3)("",!0),2==S.curIndex?((0,n.uX)(),(0,n.CE)("button",{key:2,class:"button nav-btn has-text-white",onClick:t[5]||(t[5]=t=>e.$emit("disableModal"))},"Understood")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(S.introData.length,((e,t)=>((0,n.uX)(),(0,n.CE)("button",{class:(0,a.C4)(["button nav-dot mx-2",S.curIndex==t?"active":""]),onClick:e=>S.curIndex=t,key:t},null,10,m)))),128))])])])],2)}i(4114);var S={name:"EditorExplainModal",emits:["disableModal","startLabanIntro","startEditorIntro"],props:{modalActive:Boolean},data(){return{introData:[{title:"Title",text:"Text"}],curIndex:0}},mounted(){let e=this.$store.state["language"],t=i(1003)("./editor-explain-"+e+".json"),n=JSON.parse(JSON.stringify(t)),a=[];for(const i of Object.entries(n.introData))a.push(i[1]);this.introData=a}},y=i(6262);const v=(0,y.A)(S,[["render",f],["__scopeId","data-v-37c50fad"]]);var x=v},6653:function(e){"use strict";e.exports=JSON.parse('{"catName":"Space Measurement Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Wide","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Unfolding","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"NeitherOr","degree":1,"resizable":true,"beatHeight":1}]}')},6703:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var n=i(641),a=i(33);const s=["width","height","signID"],r=["x1","x2","y2","signID"],o={key:0},l=["x","signID"],c=["cx","stroke-width","signID"],g=["transform"],h=["transform"],d=["transform"],u=["cx","cy","signID"],p=["cx","cy","signID"];function b(e,t,i,b,m,f){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:"no-save",opacity:"0",x:"0",y:"0",width:f.signWidth,height:i.height,signID:i.id},null,8,s),(0,n.Lk)("line",{stroke:"black","stroke-width":"2",x1:f.signWidth/2,x2:f.signWidth/2,y1:"0",y2:i.height-f.signWidth-10,signID:i.id},null,8,r),i.signData.holding?((0,n.uX)(),(0,n.CE)("g",o,[(0,n.Lk)("rect",{x:f.signWidth/2-5,y:"1",width:10,height:15,signID:i.id},null,8,l),(0,n.Lk)("circle",{cx:f.signWidth/2,cy:5,r:"5",class:(0,a.C4)({active:i.isSelected}),stroke:"black","stroke-width":i.isSelected?f.borderWidth+1:f.borderWidth,signID:i.id},null,10,c)])):(0,n.Q3)("",!0),(0,n.Lk)("g",{transform:1==i.signData.squish?"translate(0, 20 ) scale(1,0.5)":""},[(0,n.Lk)("g",{transform:"translate("+f.getTranslate()+") scale(0.7)"},[(0,n.Lk)("g",{transform:"translate(0,"+(i.height-40)+") "},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(this.signData.signType),{id:i.id,isSelected:i.isSelected,degree:i.signData.degree},null,8,["id","isSelected","degree"]))],8,d),(i.signData.degree-1)%3>0?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:f.signWidth/2,cy:i.height-f.signWidth,r:"4",fill:"black",signID:i.id},null,8,u)):(0,n.Q3)("",!0),(i.signData.degree-1)%3>1?((0,n.uX)(),(0,n.CE)("circle",{key:1,cx:f.signWidth/2,cy:i.height,r:"4",fill:"black",signID:i.id},null,8,p)):(0,n.Q3)("",!0)],8,h)],8,g)])}var m={name:"SpaceMeasurementSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],methods:{getTranslate(){let e=this.signWidth/2*.3,t=.3*(this.height-this.signWidth+this.signWidth/2);return e+","+t}}},f=i(6262);const S=(0,f.A)(m,[["render",b]]);var y=S},6749:function(e,t,i){"use strict";e.exports=i.p+"img/multi-select-active.de045bc6.svg"},6838:function(e){"use strict";e.exports=JSON.parse('{"catName":"Toe Digits","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":1,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":2,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":3,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":4,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":5,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8}]}')},6863:function(e,t,i){"use strict";e.exports=i.p+"img/surface-types.5b18f569.svg"},6964:function(e){"use strict";e.exports=JSON.parse('{"catName":"Relationship Bows","names":[{"name":"Touching","signType":"touch"},{"name":"Addressing","signType":"address"},{"name":"Near","signType":"near"},{"name":"Supporting","signType":"support"}]}')},6998:function(e){"use strict";e.exports=JSON.parse('{"catName":"Finger Digits","names":[{"name":"Fingers","signType":"Fingers"}]}')},7033:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("OnOffOption"),c=(0,n.g2)("RadioOption"),g=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"direction-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeType},null,8,["parentY","onUpdateSignData"]),(0,n.bF)(l,{optionText:"Hold",initState:i.signData.holding,active:!0,onSwitchState:r.changeHolding},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{options:s.dimensions,initState:s.dimensions.findIndex((e=>e.text==i.signData.dimension)),optionText:"Vertical Level",active:!0,onSwitchState:r.changeDimension},null,8,["options","initState","onSwitchState"]),(0,n.bF)(c,{options:s.positions,initState:s.positions.findIndex((e=>e.text==i.signData.position)),optionText:"Position",active:!0,onSwitchState:r.changePosition},null,8,["options","initState","onSwitchState"]),(0,n.bF)(l,{optionText:"Angle definition",initState:s.definitionActive,active:!0,onSwitchState:r.changeDefinition},null,8,["initState","onSwitchState"]),(0,n.bF)(c,{options:s.definitions,initState:i.signData.definition?s.definitions.findIndex((e=>e.text==i.signData.definition.signType)):0,optionText:"Angle level",active:!!i.signData.definition,onSwitchState:r.changeDefinitionPin},null,8,["options","initState","active","onSwitchState"]),i.signData.definition?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(o,{key:0,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeType},null,8,["parentY","active","onUpdateSignData"])),i.signData.definition&&"Low"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:1,optionText:"Angle",category:"pins-low",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.definition&&"Middle"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:2,optionText:"Angle",category:"pins-middle",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionAngle},null,8,["parentY","active","onUpdateSignData"])):i.signData.definition&&"High"==i.signData.definition.signType?((0,n.uX)(),(0,n.Wv)(o,{key:3,optionText:"Angle",category:"pins-high",parentY:i.y,active:!!i.signData.definition,onUpdateSignData:r.changeDefinitionAngle},null,8,["parentY","active","onUpdateSignData"])):(0,n.Q3)("",!0),(0,n.bF)(g,{onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"DirectionSignContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{dimensions:[{text:"Low",img:"/direction-sign-radio/layer-down.svg"},{text:"Middle",img:"/direction-sign-radio/layer-middle.svg"},{text:"High",img:"/direction-sign-radio/layer-up.svg"}],definitions:[{text:"Low",img:"/pin-low-forward.svg"},{text:"Middle",img:"/pin-middle.svg"},{text:"High",img:"/pin-high.svg"}],positions:[{text:"---",img:!1},{text:"Infront",img:"/pin-low-forward.svg"},{text:"Behind",img:"/pin-low-backward.svg"}],definitionActive:!1}},computed:{},mounted(){this.definitionActive="object"==typeof this.signData.definition},methods:{changeDimension(e){let t=this.signData;t.dimension=this.dimensions[e].text,this.newSignData(t)},changeType(e){this.newSignData({signType:e.signType})},changeHolding(e){this.newSignData({holding:e})},changePosition(e){"---"!=this.positions[e].text?this.newSignData({position:this.positions[e].text}):this.newSignData({position:!1})},changeDefinition(e){this.definitionActive=e,e?this.newSignData({definition:{signType:"Low",degree:0,bgVisible:!0}}):this.newSignData({definition:!1})},changeDefinitionPin(e){let t=JSON.parse(JSON.stringify(this.signData.definition))||{signType:"Low",degree:0,bgVisible:!1};t.signType=this.definitions[e].text,this.newSignData({definition:t})},changeDefinitionAngle(e){if(this.isActive){let t=e.degree,i=JSON.parse(JSON.stringify(this.signData.definition))||{signType:"Low",degree:0,bgVisible:!1};i.degree=t,this.newSignData({definition:i})}},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},7198:function(e){"use strict";e.exports=JSON.parse('{"catName":"Narrow Signs","names":[{"name":"Narrow","signType":"Narrow"}]}')},7258:function(e,t,i){"use strict";e.exports=i.p+"img/pin-circle.fd24b85b.svg"},7289:function(e){"use strict";e.exports=JSON.parse('{"catName":"Toe Joints","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":1,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":1,"joint":1,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":1,"joint":2,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Toes","surface":false,"limb":false,"digit":1,"joint":3,"resizable":false,"canBeLimb":true,"beatHeight":0.8}]}')},7345:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("RadioOption"),l=(0,n.g2)("OnOffOption"),c=(0,n.g2)("SignCategoryContainer"),g=(0,n.g2)("SliderOption"),h=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{mIndex:0,options:[{color:"black",img:"/direction-sign-radio/layer-down.svg"},{color:"blue",img:"/direction-sign-radio/layer-middle.svg"},{color:"red",img:"/direction-sign-radio/layer-up.svg"}],initState:0,optionText:"Dimension",onSwitchState:this.changeBorderColor},null,8,["onSwitchState"]),(0,n.bF)(l,{mIndex:1,initState:!1,optionText:"Color",onSwitchState:this.changeColor},null,8,["onSwitchState"]),(0,n.bF)(c,{mIndex:2,optionText:"Direction"}),(0,n.bF)(g,{mIndex:3,optionText:"Test",initState:0,stops:2}),(0,n.bF)(h,{mIndex:4,onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"GenericSignContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String]},emits:["updateSignData","delete"],methods:{changeBorderColor(e){let t=this.signData;t.borderColor=e,this.newSignData(t)},changeColor(e){let t=this.signData;t.color=e?"red":"white",this.newSignData(t)},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},7469:function(e,t,i){var n={"./context-images/body-parts/horizontal-surface-little.svg":5101,"./context-images/body-parts/horizontal-surface-thumb.svg":5643,"./context-images/body-parts/vertical-surface-inner.svg":3057,"./context-images/body-parts/vertical-surface-outer.svg":1448,"./context-images/bows/addressing-both.svg":3224,"./context-images/bows/addressing-left.svg":1798,"./context-images/bows/addressing-right.svg":6261,"./context-images/cancel/cancel-back.svg":247,"./context-images/cancel/cancel-release.svg":7845,"./context-images/direction-sign-radio/layer-down.svg":6230,"./context-images/direction-sign-radio/layer-middle.svg":2661,"./context-images/direction-sign-radio/layer-up.svg":9421,"./context-images/pin-high.svg":4444,"./context-images/pin-low-backward.svg":2668,"./context-images/pin-low-forward.svg":9310,"./context-images/pin-middle.svg":687,"./context-images/space-measurement-sign.svg":4299,"./context-images/triangle-left.svg":5727,"./context-images/x.svg":1990};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=7469},7510:function(e,t,i){"use strict";i.r(t),t["default"]='<laban:score xmlns:laban="http://www.example.org/labanotation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/labanotation labanotation.xsd">\r\n  <laban:version>0.5</laban:version>\r\n  <laban:author></laban:author>\r\n  <laban:title>A blank Score</laban:title>\r\n  <laban:description>An empty score with no signs</laban:description>\r\n  <laban:staff>\r\n    <laban:measures>2</laban:measures>\r\n    <laban:timing>\r\n      <laban:timeUnit>second</laban:timeUnit>\r\n      <laban:measure>\r\n        <laban:index>0</laban:index>\r\n        <laban:beatDuration>1</laban:beatDuration>\r\n        <laban:beats>4</laban:beats>\r\n      </laban:measure>\r\n    </laban:timing>\r\n    <laban:columns></laban:columns>\r\n    <laban:movements></laban:movements>\r\n  </laban:staff>\r\n</laban:score>'},7553:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":3},"introData":[{"title":"Space Measurement signs","text":"Space measurement signs, when placed alone, can define flexion (1), extension (2), bending (3), joining (4) or spreading (5) of body parts. They come in six degrees, where a higher degree means more strength is applied. They can be placed in combination with other signs to signify different qualities of movements. To resolve them the neither-stretched-nor-bent sign (6) or the unfolding sign (7) are used.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"space-measure-degrees.svg","highlightID":"library-space-measurement-signs","highlightElem":"signLibrary"},{"title":"Space Measurement signs","text":"Narrow or flexion signs and folding signs behave similarly, but are different. A narrow sign on the lower arm means that the joint is contracted, but all other joints in the arm stay neutral. A folding sign on the other hand means that all joints in the lower arm are bent. A wide or extension sign means the opposite of the narrow sign, so the specific body part is extended.","buttonText":"Next","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-space-measurement-signs","highlightElem":"signLibrary"},{"title":"Space Measurement signs","text":"Joining and spreading signs have a similar relationship to narrow and wide signs, but their specific meaning is different. They specify horizontal movements, such as the spreading of the fingers, while wide and narrow signs would specify a vertical movement.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-space-measurement-signs","highlightElem":"signLibrary"}]}')},7589:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:22.5,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"HipSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 15,12 L 25, 12 M 25,0 V 40";return this.signData.limb&&(e="M 7.5,12 L 17.5, 12 M 17.5,0 V 40 M 27.5,0 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 27.5,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 27.5,20 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},7606:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33),s=i(5727);const r={class:"hover-target"},o={class:"center-vertically"},l={class:"context-item-text"};function c(e,t,i,c,g,h){const d=(0,n.g2)("LibraryItem");return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["context-menu-item",{unusable:!i.active}]),ref:"container",onMouseenter:t[0]||(t[0]=e=>h.getTop()),onMouseleave:t[1]||(t[1]=e=>h.getTop())},[(0,n.Lk)("div",r,[(0,n.Lk)("div",o,[(0,n.Lk)("p",l,(0,a.v_)(i.optionText),1)]),t[2]||(t[2]=(0,n.Lk)("div",{class:"center-vertically context-item-interact-box"},[(0,n.Lk)("img",{class:"context-item-interact-img smaller",src:s,alt:"triangle"})],-1))]),(0,n.Lk)("div",{class:(0,a.C4)(["category",{left:"left"==g.side}]),style:(0,a.Tr)("top: "+g.top+"px; left: "+g.xOffset+"px")},[(0,n.bF)(d,{active:!0,category:i.category,catIndex:0,selected:g.selected,offset:g.itemOffset,inLibrary:!1,onSelectSign:h.selectSign},null,8,["category","selected","offset","onSelectSign"])],6),i.active?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"blocker",style:(0,a.Tr)("height: "+g.itemHeight+"px")},null,4))],34)}var g={name:"SignCategoryContainer",inject:["contextMenuWidth"],emits:["updateSignData"],props:{optionText:String,category:String,parentY:Number,active:Boolean},data(){return{side:"right",itemOffset:0,selected:-1,top:0,xOffset:0,itemHeight:0}},mounted(){this.itemOffset=this.getOffset(),this.getTop(),this.xOffset=this.getXPos(),this.itemHeight=this.$refs.container.getBoundingClientRect().height},methods:{getOffset(){return this.$refs.container.offsetWidth/6-20},getTop(){let e=this.$refs.container.querySelector(".category");this.top=Math.round(this.$refs.container.getBoundingClientRect().y-this.parentY);let t=Math.round(e.getBoundingClientRect().y+e.getBoundingClientRect().height);t>=window.innerHeight&&(this.top=this.top-(t-window.innerHeight))},selectSign(e){this.selected=e.index;let t=JSON.parse(JSON.stringify(e.signData));this.$emit("updateSignData",t)},getXPos(){return this.$refs.container.getBoundingClientRect().right+this.contextMenuWidth>=window.innerWidth?-this.contextMenuWidth:this.contextMenuWidth}}},h=i(6262);const d=(0,h.A)(g,[["render",c],["__scopeId","data-v-e6c1e834"]]);var u=d},7670:function(e){"use strict";e.exports=JSON.parse('{"catName":"Joining Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":2,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":3,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":4,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":5,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Joining","degree":6,"resizable":true,"beatHeight":1}]}')},7681:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(641),a=i(33),s=i(3751),r=i.p+"img/triangle-right.b83a1222.svg";const o=["id"],l={class:"center-vertically"},c={class:"context-item-text"},g={class:"center-vertically context-item-interact-box"};function h(e,t,i,h,d,u){const p=(0,n.g2)("LibraryItem");return(0,n.uX)(),(0,n.CE)("div",{class:"library-category-container",ref:"container",id:"library-"+i.category},[(0,n.Lk)("div",{class:"library-category-name",onClick:t[0]||(t[0]=(...e)=>u.expand&&u.expand(...e))},[(0,n.Lk)("div",l,[(0,n.Lk)("p",c,(0,a.v_)(u.langStrings.catName),1)]),(0,n.Lk)("div",g,[(0,n.Lk)("img",{class:(0,a.C4)(["context-item-interact-img smaller",i.active?"turned":"unturned"]),src:r,alt:"triangle"},null,2)])]),(0,n.bo)((0,n.bF)(p,{active:i.active||d.isTutHighlight,category:i.category,catIndex:i.catIndex,selected:i.selected,offset:d.itemOffset,onEmitSigns:u.emitSigns,onSelectSign:u.selectSign},null,8,["active","category","catIndex","selected","offset","onEmitSigns","onSelectSign"]),[[s.aG,i.active||d.isTutHighlight]])],8,o)}var d={name:"LibraryItemContainer",emits:["expand","emitSigns","selectSign"],props:{active:Boolean,category:String,catIndex:Number,selected:Number},data(){return{itemOffset:0,isTutHighlight:!1}},computed:{langStrings(){let e=this.$store.state["language"],t=i(1660)("./"+this.category+"-"+e+".json"),n=JSON.parse(JSON.stringify(t));return n}},mounted(){this.itemOffset=this.getOffset(),this.observer=new MutationObserver((e=>{for(const t of e){const e=t.target.getAttribute(t.attributeName);this.$nextTick((()=>{this.onClassChange(e,t.oldValue)}))}})),this.observer.observe(this.$refs.container,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})},beforeUnmount(){this.observer.disconnect()},methods:{expand(){this.$emit("expand",this.catIndex)},getOffset(){return this.$refs.container.offsetWidth/6-20},emitSigns(e){this.$emit("emitSigns",e)},selectSign(e){this.$emit("selectSign",e)},onClassChange(e){const t=e.split(" ");t.includes("tut-highlight")?this.isTutHighlight=!0:this.isTutHighlight=!1}}},u=i(6262);const p=(0,u.A)(d,[["render",h],["__scopeId","data-v-7fbf0048"]]);var b=p},7768:function(e,t,i){"use strict";e.exports=i.p+"img/turn-pin-and-space.ba34f599.svg"},7834:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:26,cy:15,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"WristSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 12,15 L 28,0 V 25 M 12,40 L 28,25 M 12,27.5 L 28, 12.5";return this.signData.limb&&(e="M 12,15 L 24,5 V 30 M 12,40 L 24,30 M 12,27.5 L 24,17.5 M 28,0 V 30"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 28,15 H 32":this.signData.surface.includes("thumb")&&(e+="M 28,15 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},7845:function(e,t,i){"use strict";e.exports=i.p+"img/cancel-release.79d49bea.svg"},7926:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:22.5,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"KneeSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 15,12 L 25,12 M 15,28 L 25,28 M 25,0 V 40";return this.signData.limb&&(e="M 7.5,12 L 17.5,12 M 7.5,28 L 17.5,28 M 17.5,0 V 40 M 27.5,0 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 27.5,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 27.5,20 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},7931:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["x","y","width","height","stroke-width","signID"],r=["d","stroke-width","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:c.signWidth/6,y:c.signWidth/6,width:c.signWidth/1.5,height:c.signWidth/1.5,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),(0,n.Lk)("path",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,r)])}var l={name:"WaistSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],computed:{path(){let e="M "+(this.signWidth/6+4)+","+(this.signWidth/6+4)+" l "+(this.signWidth/1.5-8)+","+(this.signWidth/1.5-8)+"m 0,"+(-this.signWidth/1.5+8)+" l "+(-this.signWidth/1.5+8)+","+(this.signWidth/1.5-8);return e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},7939:function(e,t,i){"use strict";i(8111),i(7588);var n=i(3751),a=i(8797),s=i(5220),r=i(1989);const o=[{path:"/",name:"Interaction Editor",component:r["default"]}],l=(0,s.aE)({history:(0,s.LA)("/bachelor-thesis/"),routes:o});var c=l,g=(i(4114),i(6278)),h=(0,g.y$)({state:{author:"",bars:2,beatDuration:1,beatsPerBar:4,columnsLeft:3,columnsRight:3,description:"",timeUnit:"second",title:"",curSign:!1,ghostOverCanvas:!1,ghostPos:{x:0,y:0},ghostActive:!1,libraryActive:!0,contextActive:!1,duplicateSignActive:!1,gridSelected:[],interacting:!1,multiselectActive:!1,selectedBar:!1,selectedColumn:!1,selectedSigns:[],signs:[{baseType:"RelationshipBow",signType:"Address",isSelected:!1,beatHeight:0,width:0,resizable:!1,bar:0,beat:0,col:0}],signsXML:null,cloudAlert:"",isPhone:!1,isTablet:!1,language:"eng",seenIntro:!1,showHelpLines:!0,showScoreDescription:!1,limbNames:{Head:"neck",Shoulder:"arm",Elbow:"upper_arm",Wrist:"lower_arm",Hip:"leg",Knee:"thigh",Ankle:"lower_leg"},fingerNames:["thumb","indexFinger","middleFinger","ringFinger","littleFinger"],toeNames:["bigToe","longToe","middleToe","ringToe","littleToe"],xmlParts:["Head","Chest","Waist","Pelvis","Torso"],undoStack:[],redoStack:[]},mutations:{setColumns(e,t){"left"==t.side&&(e["columnsLeft"]=e["columnsLeft"]+t.number),"right"==t.side&&(e["columnsRight"]=e["columnsRight"]+t.number)},setBars(e,t){e["bars"]=e["bars"]+t,e["signsXML"].getElementsByTagName("laban:measures")[0].innerHTML=e["bars"]},setSelectedBar(e,t){e["selectedBar"]=t},setSelectedColumn(e,t){e["selectedColumn"]=t},setCurSign(e,t){e["curSign"]=t},removeCurSign(e){e["curSign"]=!1},setGhostOverCanvas(e,t){e["ghostOverCanvas"]=t},setGhostPos(e,t){e["ghostPos"]=t},setGhostActive(e,t){e["ghostActive"]=t},setInteracting(e,t){e["interacting"]=t},clearSelectedSigns(e){e["selectedSigns"]=[];for(let t of e["signs"])t.isSelected=!1},addToSelectedSigns(e,t){e["selectedSigns"].push(t),e["signs"][t].isSelected=!0},removeFromSelectedSigns(e,t){e["selectedSigns"].splice(e["selectedSigns"].indexOf(t),1),e["signs"][t].isSelected=!1},clearGridSelect(e){e["gridSelected"]=[]},addToGridSelect(e,t){e["gridSelected"].push(t)},setContextMenu(e,t){e["contextActive"]=t},toggleMultiSelect(e){e["multiselectActive"]=!e["multiselectActive"]},toggleDuplicateSignActive(e){e["duplicateSignActive"]=!e["duplicateSignActive"]},addSignToObj(e,t){e["signs"].push(t)},addSignToXML(e,{obj:t,index:i}){let n=0;for(let c=1;c<i;c++)-1==e["signs"][c].bar&&(n+=1);let a=t;t||(a=e["signs"][i]);let s=null,r=null,o=null,l=null;if(-1==a.bar){s=e["signsXML"].createElement("laban:columnDefinition"),r=e["signsXML"].getElementsByTagName("laban:columns")[0],l=e["signsXML"].createElement("laban:index"),l.innerHTML=a.col,s.appendChild(l),o=e["signsXML"].createElement("laban:preSign");let t=null;if("BodyPartSign"==a.baseType){t=e["signsXML"].createElement("laban:bodyPart");let i=null;if(0!=a.surface){i=e["signsXML"].createElement("laban:surface");let t=e["signsXML"].createElement("laban:limb"),n=e["signsXML"].createElement("laban:default");l=e["signsXML"].createElement("laban:limb"),l.innerHTML=e["limbNames"][a.signType],n.appendChild(l),t.appendChild(n),i.appendChild(t),l=e["signsXML"].createElement("laban:side"),l.innerHTML=a.surface,i.appendChild(l)}else if(a.limb&&a.canBeLimb){i=e["signsXML"].createElement("laban:limb");let t=e["signsXML"].createElement("laban:default");l=e["signsXML"].createElement("laban:limb"),l.innerHTML=e["limbNames"][a.signType],t.appendChild(l),i.appendChild(t)}else!1!==a.digit&&a.digit>=0?(i=e["signsXML"].createElement("laban:digit"),l=e["signsXML"].createElement("laban:digit"),"Fingers"==a.signType?l.innerHTML=e["fingerNames"][a.digit-1]:l.innerHTML=e["toeNames"][a.digit-1],i.appendChild(l),l=e["signsXML"].createElement("laban:joint"),l.innerHTML=a.joint,i.appendChild(l)):a.canBeLimb||!(a.signType in e["xmlParts"])?(i=e["signsXML"].createElement("laban:joint"),l=e["signsXML"].createElement("laban:joint"),l.innerHTML=a.signType.toLowerCase(),i.appendChild(l)):(i=e["signsXML"].createElement("laban:part"),i.innerHTML=a.signType.toLowerCase());t.appendChild(i),l=e["signsXML"].createElement("laban:side"),"laban:part"==i.nodeName?l.innerHTML="none":l.innerHTML=a.side,t.appendChild(l)}else t=e["signsXML"].createElement("laban:prop"),l=e["signsXML"].createElement("laban:name"),l.innerHTML=a.signType,t.appendChild(l);o.appendChild(t),s.appendChild(o),i<0||n>=r.children.length?r.appendChild(s):r.insertBefore(s,r.children[n])}else{if(r=e["signsXML"].getElementsByTagName("laban:movements")[0],"PathSign"==a.baseType){s=e["signsXML"].createElement("laban:path"),l=e["signsXML"].createElement("laban:type"),l.innerHTML=a.signType,s.appendChild(l);let t=e["signsXML"].createElement("laban:measure");t.innerHTML=a.bar,s.appendChild(t);let i=e["signsXML"].createElement("laban:beat");i.innerHTML=a.beat+".0",s.appendChild(i),l=e["signsXML"].createElement("laban:duration"),l.innerHTML=a.beatHeight+".0",s.appendChild(l)}else if("RoomDirectionSign"==a.baseType){s=e["signsXML"].createElement("laban:roomDirection");let t=e["signsXML"].createElement("laban:measure");t.innerHTML=a.bar,s.appendChild(t);let i=e["signsXML"].createElement("laban:beat");i.innerHTML=a.beat+".0",s.appendChild(i),o=e["signsXML"].createElement("laban:direction"),l=e["signsXML"].createElement("laban:vertical"),l.innerHTML="middle",o.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.degree,o.appendChild(l),s.appendChild(o)}else if("RelationshipBow"==a.baseType){s=e["signsXML"].createElement("laban:relationship"),l=e["signsXML"].createElement("laban:type"),l.innerHTML=a.signType,s.appendChild(l),l=e["signsXML"].createElement("laban:grasping"),l.innerHTML=a.grasping,s.appendChild(l),l=e["signsXML"].createElement("laban:passing"),l.innerHTML=a.passing,s.appendChild(l),"holding"in a&&(l=e["signsXML"].createElement("laban:hold"),l.innerHTML=a.holding,s.appendChild(l));let t=e["signsXML"].createElement("laban:measure");t.innerHTML=a.bar,s.appendChild(t);let i=e["signsXML"].createElement("laban:beat");i.innerHTML=a.beat+".0",s.appendChild(i),o=e["signsXML"].createElement("laban:endPoints");let n=e["signsXML"].createElement("laban:left");l=e["signsXML"].createElement("laban:column"),l.innerHTML=a.col,n.appendChild(l),l=e["signsXML"].createElement("laban:active"),"address"==a.signType&&("right"==a.addressing||"both"==a.addressing)?l.innerHTML=!0:l.innerHTML=!1,n.appendChild(l),o.appendChild(n),n=e["signsXML"].createElement("laban:right"),l=e["signsXML"].createElement("laban:column"),l.innerHTML=a.colRight,n.appendChild(l),l=e["signsXML"].createElement("laban:active"),"address"==a.signType&&("left"==a.addressing||"both"==a.addressing)?l.innerHTML=!0:l.innerHTML=!1,n.appendChild(l),o.appendChild(n),s.appendChild(o)}else{s=e["signsXML"].createElement("laban:movement"),l=e["signsXML"].createElement("laban:column"),l.innerHTML=a.col,s.appendChild(l);let t=e["signsXML"].createElement("laban:measure");t.innerHTML=a.bar,s.appendChild(t);let i=e["signsXML"].createElement("laban:beat");if(i.innerHTML=a.beat+".0",s.appendChild(i),l=e["signsXML"].createElement("laban:duration"),l.innerHTML=a.beatHeight+".0",s.appendChild(l),l=e["signsXML"].createElement("laban:hold"),l.innerHTML="holding"in a&&a.holding,s.appendChild(l),"SpaceMeasurementSign"==a.baseType){let t=e["signsXML"].createElement("laban:space");o=e["signsXML"].createElement("laban:spaceMeasurement"),l=e["signsXML"].createElement("laban:type"),"NeitherOr"==a.signType?l.innerHTML="none":l.innerHTML=a.signType.toLowerCase(),a.signType.toLowerCase(),o.appendChild(l),l=e["signsXML"].createElement("laban:degree"),l.innerHTML=a.degree,o.appendChild(l),t.appendChild(o),s.appendChild(t)}else if("TurnSign"==a.baseType){let t=e["signsXML"].createElement("laban:turn");if(l=e["signsXML"].createElement("laban:direction"),l.innerHTML=a.signType,t.appendChild(l),"definition"in a&&a.definition){o=e["signsXML"].createElement("laban:degree");let i=null;"Pin"==a.definition.baseType?(i=e["signsXML"].createElement("laban:quantitative"),l=e["signsXML"].createElement("laban:vertical"),l.innerHTML=a.definition.signType.toLowerCase(),i.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.definition.degree,i.appendChild(l)):(i=e["signsXML"].createElement("laban:qualitative"),l=e["signsXML"].createElement("laban:type"),l.innerHTML=a.definition.signType.toLowerCase(),i.appendChild(l),l=e["signsXML"].createElement("laban:degree"),l.innerHTML=a.definition.degree,i.appendChild(l)),o.appendChild(i),t.appendChild(o)}s.appendChild(t)}else if("VibrationSign"==a.baseType){let t=e["signsXML"].createElement("laban:vibration");o=e["signsXML"].createElement("laban:displacement"),l=e["signsXML"].createElement("laban:vertical"),l.innerHTML=a.lowerPin.signType.toLowerCase(),o.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.lowerPin.degree,o.appendChild(l),t.appendChild(o),o=e["signsXML"].createElement("laban:displacement"),l=e["signsXML"].createElement("laban:vertical"),l.innerHTML=a.upperPin.signType.toLowerCase(),o.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.upperPin.degree,o.appendChild(l),t.appendChild(o),s.appendChild(t)}else if("DirectionSign"==a.baseType){if(o=e["signsXML"].createElement("laban:direction"),l=e["signsXML"].createElement("laban:vertical"),l.innerHTML=a.dimension.toLowerCase(),o.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.signType,o.appendChild(l),"definition"in a&&a.definition){let t=e["signsXML"].createElement("laban:modificationPin");l=e["signsXML"].createElement("laban:vertical"),l.innerHTML=a.definition.signType.toLowerCase(),t.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.definition.degree,t.appendChild(l),o.appendChild(t)}if("position"in a&&a.position&&"---"!=a.position){let t=e["signsXML"].createElement("laban:relationshipPin");l=e["signsXML"].createElement("laban:vertical"),l.innerHTML="low",t.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),"Infront"==a.position?l.innerHTML=0:l.innerHTML=180,t.appendChild(l),o.appendChild(t)}if("spaceMeasurement"in a&&a.spaceMeasurement){let t=e["signsXML"].createElement("laban:spaceMeasurement");l=e["signsXML"].createElement("laban:vertical"),"NeitherOr"==a.signType?l.innerHTML="none":l.innerHTML=a.signType.toLowerCase(),t.appendChild(l),l=e["signsXML"].createElement("laban:horizontal"),l.innerHTML=a.position.degree,t.appendChild(l),o.appendChild(t)}s.appendChild(o)}else"Cancel"==a.baseType&&(o=e["signsXML"].createElement("laban:cancellation"),l=e["signsXML"].createElement("laban:cancel"),l.innerHTML=a.signType,o.appendChild(l),s.appendChild(o))}i<0||i-1-n>=r.children.length?r.appendChild(s):r.insertBefore(s,r.children[i-n-1])}},changeSignData(e,t){const i=t.index,n=t.data;for(const[a,s]of Object.entries(n))e["signs"][i][a]=s},deleteSignFromObj(e,t){e["signs"].splice(t,1)},deleteSignFromXML(e,t){if("isShadow"in e["signs"][t]&&e["signs"][t].isShadow)return;let i=null,n=0;for(let a=1;a<t;a++)-1==e["signs"][a].bar&&(n+=1);-1==e["signs"][t].bar?(i=e["signsXML"].getElementsByTagName("laban:columns")[0],i.removeChild(i.children[n])):(i=e["signsXML"].getElementsByTagName("laban:movements")[0],i.removeChild(i.children[t-n-1]))},setSettings(e,t){"language"in t&&(e["language"]=t.language),"showHelpLines"in t&&(e["showHelpLines"]=t.showHelpLines),"seenIntro"in t&&(e["seenIntro"]=t.seenIntro),"showScoreDescription"in t&&(e["showScoreDescription"]=t.showScoreDescription);let i=new Date;i.setTime(i.getTime()+5184e6);let n={seenIntro:e["seenIntro"],language:e["language"],showHelpLines:e["showHelpLines"],showScoreDescription:e["showScoreDescription"]};document.cookie="settings="+JSON.stringify(n)+"; expires="+i.toUTCString()+"; path=/"},setIsPhone(e,t){e["isPhone"]=t},setIsTablet(e,t){e["isTablet"]=t},setCloudAlert(e,t){e["cloudAlert"]=t},editScoreParameters(e,t){"author"in t&&(e["author"]=t.author,e["signsXML"].getElementsByTagName("laban:author")[0].innerHTML=t.author),"title"in t&&(e["title"]=t.title,e["signsXML"].getElementsByTagName("laban:title")[0].innerHTML=t.title),"description"in t&&(e["description"]=t.description,e["signsXML"].getElementsByTagName("laban:description")[0].innerHTML=t.description),"timeUnit"in t&&(e["timeUnit"]=t.timeUnit,e["signsXML"].getElementsByTagName("laban:timeUnit")[0].innerHTML=t.timeUnit),"beatDuration"in t&&(e["beatDuration"]=t.beatDuration,e["signsXML"].getElementsByTagName("laban:beatDuration")[0].innerHTML=t.beatDuration),"beatsPerBar"in t&&(e["beatsPerBar"]=t.beatsPerBar,e["signsXML"].getElementsByTagName("laban:beats")[0].innerHTML=t.beatsPerBar)},loadScoreFromTemplate(e,t){let n=i(7510);!t||"local-storage"==t&&!localStorage.getItem("score")?n=i(7510):"local-storage"==t&&localStorage.getItem("score")?(n={},n.default=localStorage.getItem("score")):"object"==typeof t&&"file"in t?(n={},n.default=t.file):n=i(6554)("./"+t+".xml");const a=new DOMParser;let s=a.parseFromString(n.default,"text/xml");while(e["signs"].length>1)e["signs"].pop();e["signsXML"]=s,e["author"]=s.getElementsByTagName("laban:author")[0].innerHTML,e["title"]=s.getElementsByTagName("laban:title")[0].innerHTML,e["description"]=s.getElementsByTagName("laban:description")[0].innerHTML,e["timeUnit"]=s.getElementsByTagName("laban:timeUnit")[0].innerHTML,e["beatDuration"]=parseInt(s.getElementsByTagName("laban:beatDuration")[0].innerHTML),e["beatsPerBar"]=parseInt(s.getElementsByTagName("laban:beats")[0].innerHTML),e["bars"]=2,e["columnsLeft"]=3,e["columnsRight"]=3;for(let i of s.getElementsByTagName("laban:columns")[0].children){let t={baseType:"",signType:"",digit:!1,joint:!1,surface:!1,limb:!1,resizable:!1,canBeLimb:!1,isSelected:!1};if(t.col=parseInt(i.getElementsByTagName("laban:index")[0].innerHTML),t.col<-e["columnsLeft"]?e["columnsLeft"]=Math.abs(t.col):t.col>=e["columnsRight"]&&(e["columnsRight"]=t.col+1),t.bar=-1,t.beat=0,t.beatHeight=.8,"laban:bodyPart"==i.getElementsByTagName("laban:preSign")[0].children[0].nodeName){t.baseType="BodyPartSign",t.side=i.getElementsByTagName("laban:side")[0].innerHTML,"none"==t.side&&(t.col<0?t.side="left":t.side="right");let n=i.getElementsByTagName("laban:bodyPart")[0].children[0];if("laban:part"==n.nodeName)"head"==n.innerHTML&&(t.canBeLimb=!0),t.signType=n.innerHTML.charAt(0).toUpperCase()+n.innerHTML.slice(1);else if("laban:joint"==n.nodeName)t.signType=n.children[0].innerHTML.charAt(0).toUpperCase()+n.children[0].innerHTML.slice(1),t.signType in e["limbNames"]&&(t.canBeLimb=!0);else if("laban:digit"==n.nodeName)t.digit=e["toeNames"].indexOf(n.children[0].innerHTML),t.signType="Toes",t.digit<0&&(t.digit=e["fingerNames"].indexOf(n.children[0].innerHTML),t.signType="Fingers"),t.digit=t.digit+1,t.joint=parseInt(n.getElementsByTagName("laban:joint")[0].innerHTML);else if("laban:limb"==n.nodeName){t.canBeLimb=!0;const i=n.children[0].getElementsByTagName("laban:limb")[0].innerHTML;t.limb=!0;for(let[n,a]of Object.entries(e["limbNames"]))a==i&&(t.signType=n)}else if("laban:surface"==n.nodeName){t.limb=!0,t.canBeLimb=!0,t.surface=n.getElementsByTagName("laban:side")[0].innerHTML;const i=n.children[0].getElementsByTagName("laban:limb")[0].innerHTML;for(let[n,a]of Object.entries(e["limbNames"]))a==i&&(t.signType=n)}}else t.baseType="PropSign",t.signType=i.getElementsByTagName("laban:name")[0].innerHTML,t.col<0?t.side="left":t.side="right";e["signs"].push(t)}for(let i of s.getElementsByTagName("laban:movements")[0].children){let t={isSelected:!1};if("laban:path"==i.nodeName)t.baseType="PathSign",t.signType=i.getElementsByTagName("laban:type")[0].innerHTML,t.col=e["columnsRight"],t.side="right",t.bar=parseInt(i.getElementsByTagName("laban:measure")[0].innerHTML),t.beat=parseInt(i.getElementsByTagName("laban:beat")[0].innerHTML),t.beatHeight=parseInt(i.getElementsByTagName("laban:duration")[0].innerHTML),t.resizable=!0;else if("laban:roomDirection"==i.nodeName)t.baseType="RoomDirectionSign",t.signType="RoomDirectionSign",t.side="left",t.bar=parseInt(i.getElementsByTagName("laban:measure")[0].innerHTML),t.beat=parseInt(i.getElementsByTagName("laban:beat")[0].innerHTML),t.beatHeight=1,t.degree=parseInt(i.getElementsByTagName("laban:horizontal")[0].innerHTML),t.col=-e["columnsLeft"]-1,t.resizable=!1;else if("laban:relationship"==i.nodeName)t.baseType="RelationshipBow",t.signType=i.getElementsByTagName("laban:type")[0].innerHTML,t.col=parseInt(i.getElementsByTagName("laban:column")[0].innerHTML),t.colRight=parseInt(i.getElementsByTagName("laban:column")[1].innerHTML),t.col<0?t.side="left":t.side="right",t.bar=parseInt(i.getElementsByTagName("laban:measure")[0].innerHTML),t.beat=parseInt(i.getElementsByTagName("laban:beat")[0].innerHTML),t.beatHeight=1,t.grasping="true"===i.getElementsByTagName("laban:grasping")[0].innerHTML,t.holding="true"===i.getElementsByTagName("laban:hold")[0].innerHTML,t.passing="true"===i.getElementsByTagName("laban:passing")[0].innerHTML,t.resizable=!0,"address"==t.signType&&("true"===i.getElementsByTagName("laban:active")[0].innerHTML?"true"===i.getElementsByTagName("laban:active")[1].innerHTML?t.addressing="both":t.addressing="right":t.addressing="left");else if(t.bar=parseInt(i.getElementsByTagName("laban:measure")[0].innerHTML),t.beat=parseInt(i.getElementsByTagName("laban:beat")[0].innerHTML),t.beatHeight=parseInt(i.getElementsByTagName("laban:duration")[0].innerHTML),t.col=parseInt(i.getElementsByTagName("laban:column")[0].innerHTML),t.col<0?t.side="left":t.side="right",t.holding="true"===i.getElementsByTagName("laban:hold")[0].innerHTML,i.getElementsByTagName("laban:space").length>0){t.baseType="SpaceMeasurementSign";let e=i.getElementsByTagName("laban:space")[0],n=e.getElementsByTagName("laban:type")[0].innerHTML;t.signType="none"==n?"NeitherOr":n.charAt(0).toUpperCase()+n.slice(1),t.degree=parseInt(e.getElementsByTagName("laban:degree")[0].innerHTML),t.resizable=!0}else if(i.getElementsByTagName("laban:turn").length>0){t.baseType="TurnSign",t.signType=i.getElementsByTagName("laban:direction")[0].innerHTML,t.definition=!1;let e={};if(i.getElementsByTagName("laban:quantitative").length>0){e.baseType="Pin";let n=i.getElementsByTagName("laban:vertical")[0].innerHTML;e.signType=n.charAt(0).toUpperCase()+n.slice(1),e.degree=parseInt(i.getElementsByTagName("laban:horizontal")[0].innerHTML),t.definition=e}else if(i.getElementsByTagName("laban:qualitative").length>0){e.baseType="SpaceMeasurementSign";let n=i.getElementsByTagName("laban:type")[0].innerHTML;e.signType="none"==n?"NeitherOr":n.charAt(0).toUpperCase()+n.slice(1),e.degree=parseInt(i.getElementsByTagName("laban:degree")[1].innerHTML),t.definition=e}t.resizable=!0}else if(i.getElementsByTagName("laban:vibration").length>0){t.baseType="VibrationSign",t.signType="VibrationSign";let e=i.getElementsByTagName("laban:vertical")[0].innerHTML;t.lowerPin={},t.lowerPin.signType=e.charAt(0).toUpperCase()+e.slice(1),t.lowerPin.degree=parseInt(i.getElementsByTagName("laban:horizontal")[0].innerHTML);let n=i.getElementsByTagName("laban:vertical")[1].innerHTML;t.upperPin={},t.upperPin.signType=n.charAt(0).toUpperCase()+n.slice(1),t.upperPin.degree=parseInt(i.getElementsByTagName("laban:horizontal")[1].innerHTML),t.resizable=!0}else if(i.getElementsByTagName("laban:cancellation").length>0)t.baseType="Cancel",t.signType=i.getElementsByTagName("laban:cancel")[0].innerHTML,t.resizable=!1;else if(i.getElementsByTagName("laban:direction").length>0){t.baseType="DirectionSign",t.signType=i.getElementsByTagName("laban:horizontal")[0].innerHTML;let e=i.getElementsByTagName("laban:vertical")[0].innerHTML;if(t.dimension=e.charAt(0).toUpperCase()+e.slice(1),i.getElementsByTagName("laban:modificationPin").length>0){let e=i.getElementsByTagName("laban:modificationPin")[0],n=e.getElementsByTagName("laban:vertical")[0].innerHTML;t.definition={},t.definition.signType=n.charAt(0).toUpperCase()+n.slice(1),t.definition.degree=parseInt(e.getElementsByTagName("laban:horizontal")[0].innerHTML)}else t.definition=!1;if(i.getElementsByTagName("laban:relationshipPin").length>0){let e=i.getElementsByTagName("laban:relationshipPin")[0];0==parseInt(e.getElementsByTagName("laban:horizontal")[0].innerHTML)?t.position="Infront":t.position="Behind"}else t.position=!1;t.resizable=!0}t.col<-e["columnsLeft"]&&"RoomDirectionSign"!=t.baseType?e["columnsLeft"]=Math.abs(t.col):t.col>=e["columnsRight"]-1&&"PathSign"!=t.baseType&&(e["columnsRight"]=t.col+1),t.beat>=e["beatsPerBar"]&&(e["beatsPerBar"]=t.beat+1),t.bar>e["bars"]&&(e["bars"]=t.bar),t.bar+Math.floor((t.beatHeight+t.beat-1)/e["beatsPerBar"])>e["bars"]&&(e["bars"]=t.bar+Math.floor((t.beatHeight+t.beat-1)/e["beatsPerBar"])),e["signs"].push(t)}e["bars"]!=parseInt(s.getElementsByTagName("laban:measures")[0].innerHTML)&&(e["signsXML"].getElementsByTagName("laban:measures")[0].innerHTML=e["bars"]);for(let i of e["signs"])"PathSign"==i.baseType&&i.col<e["columnsRight"]?e["signs"][e["signs"].indexOf(i)].col=e["columnsRight"]:"RoomDirectionSign"==i.baseType&&i.col>=e["columnsLeft"]&&(i.col,e["columnsLeft"])},saveScoreToLocalStorage(e){let t=(new XMLSerializer).serializeToString(e["signsXML"]);localStorage.setItem("score",t)},addToStack(e){e["redoStack"]=[];const t=(new XMLSerializer).serializeToString(e["signsXML"]),i=JSON.stringify({author:e["author"],bars:e["bars"],beatDuration:e["beatDuration"],beatsPerBar:e["beatsPerBar"],columnsLeft:e["columnsLeft"],columnsRight:e["columnsRight"],description:e["description"],signs:e["signs"],selectedSigns:[],contextActive:!1,signsXML:t,timeUnit:e["timeUnit"],title:e["title"]});e["undoStack"].push(i),e["undoStack"].length>50&&e["undoStack"].slice(1)},clearStack(e){e["redoStack"]=[],e["undoStack"]=[]},undo(e){if(e["undoStack"].length>1){const t=e["undoStack"].pop(),i=e["undoStack"][e["undoStack"].length-1];e["redoStack"].push(t);for(const[n,a]of Object.entries(JSON.parse(i)))if("signsXML"!=n)e[n]=a;else{const t=new DOMParser;let i=t.parseFromString(a,"text/xml");e[n]=i}}},redo(e){if(e["redoStack"].length>0){const t=e["redoStack"].pop();e["undoStack"].push(t);const i=e["undoStack"][e["undoStack"].length-1];for(const[n,a]of Object.entries(JSON.parse(i)))if("signsXML"!=n)e[n]=a;else{const t=new DOMParser;let i=t.parseFromString(a,"text/xml");e[n]=i}}}},actions:{addColumn(e,t){let i={side:t,number:1};e.commit("setColumns",i)},removeColumn(e,t){let i={side:t,number:-1};e.commit("setColumns",i)},addBar(e){let t=1;e.commit("setBars",t)},removeBar(e){let t=-1;e.commit("setBars",t)},setSelectedBar(e,t){e.commit("setSelectedBar",t)},setGhostOverCanvas(e,t){e.commit("setGhostOverCanvas",t)},setGhostPos(e,t){e.commit("setGhostPos",t)},setGhostActive(e,t){e.commit("setGhostActive",t)},setInteracting(e,t){e.commit("setInteracting",t)},setSelectedColumn(e,t){e.commit("setSelectedColumn",t)},changeCurSign(e,t){0!=t?e.commit("setCurSign",t):e.commit("removeCurSign")},editSigns(e,t){"add"==t.type?(e.commit("addSignToObj",t.data),"isShadow"in t.data&&t.data.isShadow||e.commit("addSignToXML",{obj:t.data,index:-1})):"changeSignData"==t.type?(e.commit("changeSignData",{index:t.index,data:t.data}),e.commit("deleteSignFromXML",t.index),"isShadow"in t.data&&t.data.isShadow||e.commit("addSignToXML",{obj:!1,index:t.index})):"delete"==t.type&&(e.commit("deleteSignFromXML",t.index),e.commit("deleteSignFromObj",t.index),e.commit("clearSelectedSigns")),e.commit("saveScoreToLocalStorage")},editScoreParameters(e,t){e.commit("editScoreParameters",t),e.commit("saveScoreToLocalStorage")},clearSelectedSigns(e){e.commit("clearSelectedSigns")},addToSelectedSigns(e,t){e.commit("addToSelectedSigns",t)},removeFromSelectedSigns(e,t){e.commit("removeFromSelectedSigns",t)},clearGridSelect(e){e.commit("clearGridSelect")},addToGridSelect(e,t){e.commit("addToGridSelect",t)},changeContextMenu(e,t){e.commit("setContextMenu",t)},toggleMultiSelect(e){e.commit("toggleMultiSelect")},toggleDuplicateSignActive(e){e.commit("toggleDuplicateSignActive")},newScore(e,t){t?e.commit("loadScoreFromTemplate",t):localStorage.getItem("score")?e.commit("loadScoreFromTemplate","local-storage"):e.commit("loadScoreFromTemplate","blank-score"),"intro-score"!=t&&e.commit("saveScoreToLocalStorage")},openScore(e,t){e.commit("loadScoreFromTemplate",{file:t}),e.commit("clearGridSelect"),e.commit("saveScoreToLocalStorage")},changeSettings(e,t){e.commit("setSettings",t)},saveStateInHistory(e){e.commit("addToStack")},clearHistory(e){e.commit("clearStack")},undoChanges(e){e.commit("undo"),e.commit("clearSelectedSigns"),e.commit("setSelectedBar",!1),e.commit("setSelectedColumn",!1),e.commit("clearGridSelect"),e.commit("saveScoreToLocalStorage")},redoChanges(e){e.commit("redo"),e.commit("clearSelectedSigns"),e.commit("setSelectedBar",!1),e.commit("setSelectedColumn",!1),e.commit("clearGridSelect"),e.commit("saveScoreToLocalStorage")},setIsPhone(e,t){e.commit("setIsPhone",t)},setIsTablet(e,t){e.commit("setIsTablet",t)},setCloudAlert(e,t){e.commit("setCloudAlert",t)}}});const d=(0,n.Ef)(a["default"]),u=i(9887);u.keys().forEach((e=>{const t=u(e),i=e.replace(/^.*[\\/]/,"").replace(/\.\w+$/,"");d.component(i,t.default||t)})),d.use(h).use(c).mount("#app")},7955:function(e,t,i){"use strict";e.exports=i.p+"img/turn-pin-and-space.ba34f599.svg"},8006:function(e){"use strict";e.exports=JSON.parse('{"catName":"Middle Pin Signs","names":[{"name":"Middle Pin","signType":"Middle"}]}')},8008:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(641),a=i(33);const s={class:"modal-content"},r={class:"box"},o={class:"title"},l={class:"mb-4"};function c(e,t,i,c,g,h){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["modal",i.modalActive?"is-active":""])},[t[6]||(t[6]=(0,n.Lk)("div",{class:"modal-background"},null,-1)),(0,n.Lk)("div",s,[(0,n.Lk)("div",r,[(0,n.Lk)("h1",o,[(0,n.RG)(e.$slots,"title",{},(()=>[t[2]||(t[2]=(0,n.eW)("Confirm Creation of new Score"))]),!0)]),(0,n.Lk)("p",l,[(0,n.RG)(e.$slots,"text",{},(()=>[t[3]||(t[3]=(0,n.eW)("Creating a new score will delete any unsaved contents of the current score. This action is currently not reversible."))]),!0)]),(0,n.Lk)("button",{class:"button nav-btn",onClick:t[0]||(t[0]=t=>e.$emit("confirm"))},[(0,n.RG)(e.$slots,"confirm",{},(()=>[t[4]||(t[4]=(0,n.eW)("Understood"))]),!0)]),i.cancel?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"button ml-3",type:"reset",onClick:t[1]||(t[1]=t=>e.$emit("disableModal"))},[(0,n.RG)(e.$slots,"deny",{},(()=>[t[5]||(t[5]=(0,n.eW)("Cancel"))]),!0)])):(0,n.Q3)("",!0)])])],2)}var g={name:"ConfirmationModal",emits:["disableModal","confirm"],props:{modalActive:Boolean,cancel:{default:!0,Boolean:Boolean}}},h=i(6262);const d=(0,h.A)(g,[["render",c],["__scopeId","data-v-606bf996"]]);var u=d},8047:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["x","y","width","height","stroke-width","signID"],r=["cx","cy","stroke-width","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:c.signWidth/6,y:c.signWidth/6,width:c.signWidth/1.5,height:c.signWidth/1.5,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),(0,n.Lk)("circle",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",cx:c.signWidth/2,cy:c.signWidth/2,r:"8","stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,r)])}var l={name:"ChestSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],data(){return{textWidth:0,textHeight:0}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},8108:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:24,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"ShoulderSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 12,15 L 28, 0 V 40";return this.signData.limb&&(e+="M 20,7.5 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 28,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 28,20 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},8296:function(e,t,i){"use strict";i.r(t),t["default"]='<laban:score xmlns:laban="http://www.example.org/labanotation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/labanotation labanotation.xsd">\r\n  <laban:version>0.5</laban:version>\r\n  <laban:author>Julian Schalon</laban:author>\r\n  <laban:title>Walking and turning</laban:title>\r\n  <laban:description>This score describes a short walk cycle, where the performer is walking forward on their toes, then turning arount and going back.\r\n\r\nThe score starts in a neutral position. In the first measure, two steps forward are being taken. The direction sign are in the "high" level, meaning that the performer is standing on their toes.\r\n\r\nIn the second measure, the performer turns 180° counter-clockwise.\r\n\r\nIn the third measure, the performer takes two steps back. This is done in regular steps, as indicated by the middle vertical level.</laban:description>\r\n  <laban:staff>\r\n    <laban:measures>3</laban:measures>\r\n    <laban:timing>\r\n      <laban:timeUnit>Second</laban:timeUnit>\r\n      <laban:measure>\r\n        <laban:index>0</laban:index>\r\n        <laban:beatDuration>1</laban:beatDuration>\r\n        <laban:beats>4</laban:beats>\r\n      </laban:measure>\r\n    </laban:timing>\r\n    <laban:columns/>\r\n    <laban:movements><laban:movement><laban:column>-1</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>0</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>-1</laban:column><laban:measure>3</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>forward</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>0</laban:column><laban:measure>3</laban:measure><laban:beat>2.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>forward</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>0</laban:column><laban:measure>2</laban:measure><laban:beat>0.0</laban:beat><laban:duration>4.0</laban:duration><laban:hold>false</laban:hold><laban:turn><laban:direction>counterClockwise</laban:direction><laban:degree><laban:quantitative><laban:vertical>low</laban:vertical><laban:horizontal>180</laban:horizontal></laban:quantitative></laban:degree></laban:turn></laban:movement><laban:movement><laban:column>-1</laban:column><laban:measure>1</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>high</laban:vertical><laban:horizontal>forward</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>0</laban:column><laban:measure>1</laban:measure><laban:beat>2.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>high</laban:vertical><laban:horizontal>forward</laban:horizontal></laban:direction></laban:movement></laban:movements>\r\n  </laban:staff>\r\n</laban:score>'},8350:function(e,t,i){"use strict";e.exports=i.p+"img/direction-outer-pin.444879c2.svg"},8473:function(e,t,i){"use strict";e.exports=i.p+"img/duplicate-active.c6339925.svg"},8510:function(e,t,i){"use strict";e.exports=i.p+"img/select-box.814bf1b7.svg"},8519:function(e){"use strict";e.exports=JSON.parse('{"catName":"Folding Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":2,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":3,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":4,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":5,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Folding","degree":6,"resizable":true,"beatHeight":1}]}')},8581:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":1},"introData":[{"title":"Path Signs","text":"Path signs are used to indicate a general movement in a direction. There is a straight path, a left and a right circular path, as well as an undefined path.<br><br>Path signs are placed on the right side of the score, beyond the right-most column.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"highlightID":"library-path-signs","highlightElem":"signLibrary"}]}')},8638:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"];function o(e,t,i,o,l,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:c.path,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,s),i.signData.surface&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:22.5,cy:20,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0)],64)}var l={name:"FootSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 15,10 L 25,10 M 15,30 L 25,30 M 15,16.66666666665 L 25,16.66666666665 M 15,23.3333333333 L 25,23.3333333333 M 25,0 V 40";return this.signData.limb&&(e="M 7.5,10 L 17.5,10 M 7.5,30 L 17.5,30 M 7.5,16.66666666665 L 17.5,16.66666666665 M 7.5,23.3333333333 L 17.5,23.3333333333 M 17.5,0 V 40 M 27.5,0 V 40"),this.signData.surface&&(this.signData.surface.includes("littleFinger")?e+="M 27.5,20 H 32":this.signData.surface.includes("thumb")&&(e+="M 27.5,20 H 35")),e}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},8715:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var n=i(641),a=i(33);const s={class:"center-vertically"},r={class:"context-item-text"},o={class:"context-item-interact-box full"},l={class:"center-vertically small"},c=["id"];function g(e,t,i,g,h,d){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["context-menu-item",{unusable:!i.active}]),ref:"container"},[(0,n.Lk)("div",s,[(0,n.Lk)("p",r,(0,a.v_)(i.optionText),1)]),(0,n.Lk)("div",o,[(0,n.Lk)("div",l,[(0,n.Lk)("div",{class:"slider",id:i.id,style:(0,a.Tr)("width: "+h.sliderWidth+"px;")},null,12,c)])]),i.active?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"blocker",style:(0,a.Tr)("height: "+h.itemHeight+"px")},null,4))],2)}var h=i(2617),d=i.n(h),u={name:"SliderOption",inject:["contextItemMargin","contextMenuWidth"],props:{optionText:String,stops:Number,initState:[Number,Boolean],id:String,active:Boolean},emits:["switchState"],data(){return{sliderWidth:0,itemHeight:0}},mounted(){this.sliderWidth=this.getSliderWidth(),this.itemHeight=this.$refs.container.getBoundingClientRect().height,d()("#"+this.id).draggable({origin:"self",inertia:!1,modifiers:[d().modifiers.snap({targets:[d().snappers.grid({x:this.sliderWidth/this.stops,y:30})]})],onmove:this.dragMove})},methods:{getSliderWidth(){return this.contextMenuWidth-2*this.contextItemMargin-16},dragMove(e){let t=e.pageX/this.sliderWidth;t>1&&(t=1),t<0&&(t=0),e.target.style.paddingLeft=100*t+"%",e.target.setAttribute("x",t),this.$emit("switchState",{index:this.id,data:Math.round(t*this.stops)})}},beforeUnmount(){d()("#"+this.id).unset()}},p=i(6262);const b=(0,p.A)(u,[["render",g],["__scopeId","data-v-c3d52e4c"]]);var m=b},8734:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"],r=["fill","signID"],o={key:1},l=["transform"],c=["cx","cy","signID"],g=["cy","signID"];function h(e,t,i,h,d,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:u.path,"stroke-width":i.isSelected?u.borderWidth+1:u.borderWidth,signID:i.id},null,10,s),i.signData.surface&&this.signData.limb&&(i.signData.surface.includes("outer")||i.signData.surface.includes("inner"))?((0,n.uX)(),(0,n.CE)("circle",{key:0,cx:26,cy:15,r:"3",stroke:"black","stroke-width":"2",fill:i.signData.surface.includes("outer")?"black":"white",signID:i.id},null,8,r)):(0,n.Q3)("",!0),i.signData.digit>=1&&i.signData.digit<=5?((0,n.uX)(),(0,n.CE)("g",o,[i.signData.joint>=1&&i.signData.joint<=4?((0,n.uX)(),(0,n.CE)("g",{key:0,transform:i.signData.limb?"translate(27,-25)":"translate(28,-26)"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.signData.joint,(e=>((0,n.uX)(),(0,n.CE)("circle",{fill:"black",cx:-4*e,cy:6.25*(i.signData.digit-1)+u.indexPoint(28-4*e),r:"2",key:e,signID:i.id},null,8,c)))),128))],8,l)):(0,n.Q3)("",!0),0==i.signData.joint?((0,n.uX)(),(0,n.CE)("circle",{key:1,fill:"black",cx:12,cy:6.25*(i.signData.digit-1)+u.indexPoint(8)-28.5,r:"2",signID:i.id},null,8,g)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)],64)}var d={name:"FingerSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["borderWidth"],computed:{path(){let e="M 12,15 L 28,0 V 25 M 12,40 L 28,25 M 12,21.25 L 28,6.5 M 12,27.5 L 28,13 M 12,33.75 L 28,19";return this.signData.limb&&(e="M 12,15 L 24,5 V 30 M 12,40 L 24,30 M 12,21.25 L 24,11.25 M 12,27.5 L 24,17.5 M 12,33.75 L 24,23.75 M 28,0 V 30"),this.signData.surface&&this.signData.limb&&(this.signData.surface.includes("littleFinger")?e+="M 28,15 H 32":this.signData.surface.includes("thumb")&&(e+="M 28,15 H 35")),e}},methods:{indexPoint(e){let t=-5/6*e+50;return this.signData.limb&&(t=-5/6*e+50),t}}},u=i(6262);const p=(0,u.A)(d,[["render",h]]);var b=p},8790:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=i(641),a=i(33);const s=["width","height","signID"],r=["x","y","width","height","stroke-width","signID"];function o(e,t,i,o,l,c){const g=(0,n.g2)("Pin");return(0,n.uX)(),(0,n.CE)("g",null,[(0,n.Lk)("rect",{class:"no-save draggable",x:"0",y:"1",opacity:"0",width:c.signWidth,height:i.height-2,signID:i.id},null,8,s),(0,n.Lk)("rect",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black",x:c.signWidth/4,y:i.height/2-c.signWidth/4,width:c.signWidth/2,height:c.signWidth/2,"stroke-width":i.isSelected?c.borderWidth+1:c.borderWidth,signID:i.id},null,10,r),(0,n.Lk)("g",null,[(0,n.bF)(g,{id:i.id,height:i.height,isSelected:i.isSelected,signData:c.pinData},null,8,["id","height","isSelected","signData"])])])}var l={name:"RoomDirectionSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth"],computed:{pinData(){return{signType:"Middle",degree:this.signData.degree,bgVisible:!1}}}},c=i(6262);const g=(0,c.A)(l,[["render",o]]);var h=g},8797:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(o)}var s={name:"App",components:{},data(){return{contextMenuWidth:250,contextItemHeight:45,contextItemMargin:7,contextItemImageSize:25,beatHeight:50}},computed:{barHeight(){let e=this.$store.state["beatsPerBar"]*this.beatHeight;return document.documentElement.style.setProperty("--barHeight",e+"px"),e}},provide(){return{signWidth:40,barHeight:()=>this.barHeight,startBarOffset:5,columnWidth:70,beatLineWidth:25,addRemoveHeight:40,addRemoveWidth:10,outerCanvasMargin:70,handleDiam:7,borderWidth:2,contextMenuWidth:this.contextMenuWidth,contextItemHeight:this.contextItemHeight,contextItemMargin:this.contextItemMargin,contextItemImageSize:this.contextItemImageSize,libraryImgHeight:60}},mounted(){let e=new Date;e.setTime(e.getTime()+5184e6);let t=this.getSettingsCookie(),i=null;if(t&&(i=JSON.parse(this.getSettingsCookie())),null==i){let t={seenIntro:!1,language:"eng",showHelpLines:!0,showScoreDescription:!1};document.cookie="settings="+JSON.stringify(t)+"; expires="+e.toUTCString()+"; path=/"}else this.$store.dispatch("changeSettings",i),document.cookie="settings="+JSON.stringify(i)+"; expires="+e.toUTCString()+"; path=/";this.$store.dispatch("setIsPhone",window.matchMedia("only screen and (max-width: 760px)").matches),this.$store.dispatch("setIsTablet",window.matchMedia("only screen and (max-width: 1024px)").matches),document.documentElement.style.setProperty("--contextMenuWidth",this.contextMenuWidth+"px"),document.documentElement.style.setProperty("--contextItemHeight",this.contextItemHeight+"px"),document.documentElement.style.setProperty("--contextItemMargin",this.contextItemMargin+"px"),document.documentElement.style.setProperty("--contextItemImageSize",this.contextItemImageSize+"px"),setTimeout(function(){this.$store.dispatch("saveStateInHistory")}.bind(this),100)},methods:{getSettingsCookie(){const e=document.cookie.match("(^|;)\\s*settings\\s*=\\s*([^;]+)")?.pop()||"";return e}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},8847:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(641);function a(e,t,i,a,s,r){const o=(0,n.g2)("SignCategoryContainer"),l=(0,n.g2)("DeleteOption");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{optionText:"Type",category:"path-signs",parentY:i.y,active:!0,onUpdateSignData:r.changeType},null,8,["parentY","onUpdateSignData"]),(0,n.bF)(l,{mIndex:1,onDelete:r.emitDelete},null,8,["onDelete"])])}var s={name:"PathSignContext",inject:[],props:{signData:Object,isActive:Boolean,signIndex:[Number,String],y:Number},emits:["updateSignData","delete"],data(){return{}},computed:{},mounted(){},methods:{changeType(e){this.newSignData({signType:e.signType})},newSignData(e){this.$emit("updateSignData",{index:parseInt(this.signIndex),data:e})},emitDelete(){this.$emit("delete",parseInt(this.signIndex))}}},r=i(6262);const o=(0,r.A)(s,[["render",a]]);var l=o},8899:function(e){"use strict";e.exports=JSON.parse('{"catName":"Spreading Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":2,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":3,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":4,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":5,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Spreading","degree":6,"resizable":true,"beatHeight":1}]}')},8916:function(e,t,i){"use strict";e.exports=i.p+"img/body-part-types.c7c95ab2.svg"},8939:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(641),a=i(1136);function s(e,t,i,s,r,o){return(0,n.uX)(),(0,n.CE)("div",{class:"menu-option-container",onClick:t[0]||(t[0]=e=>o.exportXML())},t[1]||(t[1]=[(0,n.Lk)("img",{src:a,class:"option-img"},null,-1),(0,n.Lk)("p",null,"To Dropbox",-1)]))}var r={name:"DropboxXMLExport",emits:["exportSuccess","exportFailure"],props:{btn:String},computed:{xmlDoc(){return this.$store.state["signsXML"]}},methods:{makeXMLFile(){const e=new XMLSerializer,t=e.serializeToString(this.xmlDoc);return t},exportXML(){const e=this.makeXMLFile();let t=this.$store.state["title"];t.includes(".xml")||(t+=".xml");let i={files:[{url:"data:text/html,"+encodeURIComponent(e),filename:t}],success:function(){this.$emit("exportSuccess")}.bind(this),cancel:function(){this.$emit("exportFailure")}.bind(this)};Dropbox.save(i)}}},o=i(6262);const l=(0,o.A)(r,[["render",s]]);var c=l},8975:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return I}});var n=i(641),a=i(3751),s=i(33),r=i(4354);const o=["width","height"],l=["width","height"],c=["transform"],g=["width","height"],h=["x","width","height"],d=["x","width","height"],u=["x","y","width","height"],p=["transform"],b={key:1,class:"add-remove-container invisible"},m={key:3,class:"add-remove-container red invisible"},f={key:5,class:"add-remove-container invisible"},S={key:1,class:"add-remove-container red invisible"},y={class:"desc-box"},v={key:0,class:"box"},x={class:"title is-5"};function D(e,t,i,D,T,k){const w=(0,n.g2)("Grid"),L=(0,n.g2)("SignContainer"),C=(0,n.g2)("ContextMenu");return(0,n.uX)(),(0,n.CE)("div",{id:"canvasContainer",onScroll:t[12]||(t[12]=(...e)=>k.getScroll&&k.getScroll(...e)),ref:"container",onMousedown:t[13]||(t[13]=(0,a.D$)((e=>k.selectSign(-1)),["self"]))},[(0,n.Lk)("div",{class:"margin-box",onMousedown:t[3]||(t[3]=(0,a.D$)((e=>k.selectSign(-1)),["self"]))},[((0,n.uX)(),(0,n.CE)("svg",{preserveAspectRatio:"xMinYMax meet",ref:"canvas",id:"canvas",width:k.canvasDimensions.x,height:k.canvasDimensions.y,fill:"white",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"},[t[15]||(t[15]=(0,n.Fv)('<defs><pattern id="direction-high-left" width="10" height="10" patternTransform="rotate(-45 0 0)" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="10" height="10" fill="white"></rect><line x1="0" y1="0" x2="0" y2="10" stroke="black" stroke-width="2"></line></pattern><pattern id="direction-high-right" width="10" height="10" patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="10" height="10" fill="white"></rect><line x1="0" y1="0" x2="0" y2="10" stroke="black" stroke-width="2"></line></pattern></defs>',1)),(0,n.Lk)("rect",{x:"0",y:"0",width:k.canvasDimensions.x,height:k.canvasDimensions.y,ref:"canvasBG",class:"lasso-able",onClick:t[0]||(t[0]=e=>k.selectSign(-1))},null,8,l),(0,n.Lk)("g",{transform:"translate("+k.outerCanvasMargin+", "+k.canvasMarginTop+")",ref:"bounding"},[(0,n.Lk)("rect",{x:"0",y:"0",width:k.columnWidth,height:k.innerCanvasDimFull.y,ref:"boundingOuterLeft"},null,8,g),(0,n.Lk)("rect",{x:k.columnWidth*(k.columnsLeft+1+k.columnsRight),y:"0",width:k.columnWidth,height:k.innerCanvasDimRight.y,ref:"boundingOuterRight"},null,8,h),(0,n.Lk)("rect",{x:k.columnWidth,y:"0",width:k.innerCanvasDim.x,height:k.innerCanvasDim.y,ref:"boundingInner"},null,8,d),(0,n.Lk)("rect",{x:k.columnWidth,y:k.innerCanvasDim.y-k.blocksizeY+5,width:k.innerCanvasDim.x,height:k.blocksizeY,ref:"boundinColumnDef"},null,8,u),(0,n.bF)(w,{onUnselect:t[1]||(t[1]=e=>k.selectSign(-1)),onSelectColumn:k.updateSelectedColumn,onSelectBar:k.updateSelectedBar,onPlaceSign:k.addSign,onGetGridHandles:k.placeGridHandles,onRemoveGridHandles:t[2]||(t[2]=e=>{T.columnHandlesActive=!1,T.barHandlesActive=!1}),onLassoSelect:k.lassoSelect,beats:k.beats,bars:k.bars,selectedColumn:k.selectedColumn,selectedBar:k.selectedBar,fullHeight:k.innerCanvasDimFull.y,contextActive:k.contextActive,signsSelected:k.signsSelected},null,8,["onSelectColumn","onSelectBar","onPlaceSign","onGetGridHandles","onLassoSelect","beats","bars","selectedColumn","selectedBar","fullHeight","contextActive","signsSelected"]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.signs,((e,t)=>((0,n.uX)(),(0,n.Wv)(L,{onRequestListeners:k.initSignListeners,signData:e,id:t,localData:T.localSignData[t],key:t},null,8,["onRequestListeners","signData","id","localData"])))),128))],8,c),(0,n.Lk)("g",{transform:"translate("+k.outerCanvasMargin+", "+k.canvasMarginTop+")"},t[14]||(t[14]=[(0,n.Lk)("use",{href:"#lasso-rect"},null,-1)]),8,p)],8,o))],32),k.contextActive?((0,n.uX)(),(0,n.Wv)(C,{signData:k.signs[T.contextSign],signIndex:T.contextSign,isActive:k.contextActive,x:T.contextPos.x,y:T.contextPos.y,onUpdateSignData:k.updateSignData,key:"context"+T.contextSign,onDelete:k.removeSign},null,8,["signData","signIndex","isActive","x","y","onUpdateSignData","onDelete"])):(0,n.Q3)("",!0),T.columnHandlesActive&&0==k.selectedSigns.length?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"column-handles",style:(0,s.Tr)(k.columnHandleTranslate)},[k.selectedColumn>=-k.columnsLeft?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"add-remove-container green",onClick:t[4]||(t[4]=e=>k.addColumn(k.selectedColumn))})):(0,n.Q3)("",!0),k.selectedColumn<-k.columnsLeft?((0,n.uX)(),(0,n.CE)("p",b)):(0,n.Q3)("",!0),k.selectedColumn>=-k.columnsLeft&&k.selectedColumn<k.columnsRight&&(k.selectedColumn<0&&k.columnsLeft>2||k.selectedColumn>=0&&k.columnsRight>2)?((0,n.uX)(),(0,n.CE)("p",{key:2,class:"add-remove-container red",onClick:t[5]||(t[5]=e=>k.removeColumn(k.selectedColumn))})):(0,n.Q3)("",!0),k.selectedColumn<-k.columnsLeft||k.selectedColumn>=k.columnsRight||k.selectedColumn<0&&k.columnsLeft<=2||k.selectedColumn>=0&&k.columnsRight<=2?((0,n.uX)(),(0,n.CE)("p",m)):(0,n.Q3)("",!0),k.selectedColumn<k.columnsRight?((0,n.uX)(),(0,n.CE)("p",{key:4,class:"add-remove-container green",onClick:t[6]||(t[6]=e=>k.addColumn(k.selectedColumn+1))})):(0,n.Q3)("",!0),k.selectedColumn>=k.columnsRight?((0,n.uX)(),(0,n.CE)("p",f)):(0,n.Q3)("",!0)],4)):(0,n.Q3)("",!0),T.barHandlesActive&&0==k.selectedSigns.length?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"bar-handles",style:(0,s.Tr)(k.barHandleTranslate)},[(0,n.Lk)("p",{class:"add-remove-container green",onClick:t[7]||(t[7]=e=>k.addBar(k.selectedBar+1))}),k.selectedBar>0&&k.bars>1?((0,n.uX)(),(0,n.CE)("p",{key:0,class:"add-remove-container red",onClick:t[8]||(t[8]=e=>k.removeBar(k.selectedBar))})):(0,n.Q3)("",!0),k.selectedBar>0&&1==k.bars?((0,n.uX)(),(0,n.CE)("p",S)):(0,n.Q3)("",!0),0==k.selectedBar?((0,n.uX)(),(0,n.CE)("div",{key:2,style:(0,s.Tr)("transform: translateY("+-(k.blocksizeY+15)+"px)")},t[16]||(t[16]=[(0,n.Lk)("p",{class:"add-remove-container red invisible"},null,-1)]),4)):(0,n.Q3)("",!0),k.selectedBar>0?((0,n.uX)(),(0,n.CE)("p",{key:3,class:"add-remove-container green",onClick:t[9]||(t[9]=e=>k.addBar(k.selectedBar))})):(0,n.Q3)("",!0),0==k.selectedBar?((0,n.uX)(),(0,n.CE)("p",{key:4,class:"add-remove-container invisible",style:(0,s.Tr)("transform: translateY("+-(k.blocksizeY+10)+"px)")},null,4)):(0,n.Q3)("",!0)],4)):(0,n.Q3)("",!0),(0,n.Lk)("div",y,[k.storeDescActive?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("h2",x,[(0,n.eW)((0,s.v_)(e.$store.state["title"])+" ",1),(0,n.Lk)("button",{class:"delete is-large custom-close","aria-label":"close",onClick:t[10]||(t[10]=e=>{this.$store.dispatch("changeSettings",{showScoreDescription:!k.storeDescActive})})},t[17]||(t[17]=[(0,n.Lk)("img",{src:r,class:"option-img"},null,-1)]))]),(0,n.Lk)("p",null,[t[18]||(t[18]=(0,n.Lk)("strong",null,"Author: ",-1)),(0,n.eW)(" "+(0,s.v_)(e.$store.state["author"]),1)]),(0,n.Lk)("p",null,[t[19]||(t[19]=(0,n.Lk)("strong",null,"Columns: ",-1)),(0,n.eW)(" "+(0,s.v_)(e.$store.state["columnsLeft"]+e.$store.state["columnsRight"]),1)]),(0,n.Lk)("p",null,[t[20]||(t[20]=(0,n.Lk)("strong",null,"Bars: ",-1)),(0,n.eW)(" "+(0,s.v_)(e.$store.state["bars"]),1)]),(0,n.Lk)("p",null,[t[21]||(t[21]=(0,n.Lk)("strong",null,"Beats: ",-1)),(0,n.eW)(" "+(0,s.v_)(e.$store.state["beatsPerBar"]),1)]),(0,n.Lk)("p",null,[t[22]||(t[22]=(0,n.Lk)("strong",null,"Beat duration: ",-1)),(0,n.eW)(" "+(0,s.v_)(e.$store.state["beatDuration"]+" "+e.$store.state["timeUnit"].slice(0,3)),1)]),t[23]||(t[23]=(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Description: ")],-1)),(0,n.Lk)("p",null,(0,s.v_)(e.$store.state["description"]),1)])):((0,n.uX)(),(0,n.CE)("button",{key:1,class:"button has-background-white is-size-5 desc-btn",onClick:t[11]||(t[11]=e=>{this.$store.dispatch("changeSettings",{showScoreDescription:!k.storeDescActive})})},"!"))])],544)}i(4114);var T=i(2617),k=i.n(T),w={name:"Score",inject:["signWidth","barHeight","columnWidth","handleDiam","outerCanvasMargin","startBarOffset","contextMenuWidth"],data(){return{canvasScroll:{x:0,y:0},contextPos:{x:0,y:0},contextSign:0,contextWasActive:!1,columnHandlesActive:!1,selectedColumnTranslate:{x:0,y:0},barHandlesActive:!1,selectedBarTranslate:{x:0,y:0},interactingSigns:[],localSignData:[],canMoveGhost:!1,interactBox:{x:0,y:0,x2:0,y2:0},interactBoxHasPath:!1,interactBoxHasRoomDir:!1,multiInteract:!1,interactOverflow:{x:0,y:0}}},computed:{signs(){return this.$store.state["signs"]},contextActive(){return this.$store.state["contextActive"]},selectedSigns(){return this.$store.state["selectedSigns"]},multiselectActive(){return this.$store.state["multiselectActive"]},duplicateSign(){return this.$store.state["duplicateSignActive"]},interacting(){return this.$store.state["interacting"]},storeDescActive(){return this.$store.state["showScoreDescription"]},columnsLeft(){return this.$store.state["columnsLeft"]},columnsRight(){return this.$store.state["columnsRight"]},bars(){return this.$store.state["bars"]},beats(){return this.$store.state["beatsPerBar"]},selectedColumn(){return this.$store.state["selectedColumn"]},selectedBar(){return this.$store.state["selectedBar"]},curLibrarySign(){return this.$store.state["curSign"]},xmlScore(){return this.$store.state["signsXML"]},ghostOverCanvas(){return this.$store.state["ghostOverCanvas"]},ghostPos(){return this.$store.state["ghostPos"]},ghostActive(){return this.$store.state["ghostActive"]},barH(){return this.barHeight()},columnHandleTranslate(){return"left: "+this.selectedColumnTranslate.x+"px; top: "+this.selectedColumnTranslate.y+"px;"},barHandleTranslate(){return"left: "+this.selectedBarTranslate.x+"px; top: "+this.selectedBarTranslate.y+"px;"},blocksizeX(){return this.columnWidth},blocksizeY(){return this.barH/this.beats},canvasDimensions(){return{x:this.columnWidth*(this.columnsLeft+this.columnsRight+2)+2*this.outerCanvasMargin,y:this.barH*this.bars+3*this.blocksizeY+this.outerCanvasMargin+this.startBarOffset}},innerCanvasDimFull(){return{x:this.columnWidth*(this.columnsLeft+this.columnsRight+2),y:this.barH*this.bars+3*this.blocksizeY+this.startBarOffset}},innerCanvasDimRight(){return{x:this.columnWidth*(this.columnsLeft+this.columnsRight+1),y:this.barH*this.bars+3*this.blocksizeY+this.startBarOffset}},innerCanvasDim(){return{x:this.columnWidth*(this.columnsLeft+this.columnsRight),y:this.barH*this.bars+3*this.blocksizeY+this.startBarOffset}},canvasMarginTop(){return this.outerCanvasMargin/2},signsSelected(){return 0!=this.selectedSigns.length}},watch:{signs:{deep:!0,handler(){this.interacting||this.makeLocalSignData()}},contextActive(e){if(e&&this.selectedSigns.length>=1){const e=this.$refs.bounding.querySelector(".sign-container[signID='"+this.selectedSigns[0]+"']");e.dispatchEvent(new Event("contextmenu"))}},ghostOverCanvas(e){if(e){let e=this.getGhostScorePos();this.addSign(e,!1),this.canMoveGhost=!0}else this.ghostActive?(this.removeSign(this.signs.length-1),this.canMoveGhost=!1):this.canMoveGhost=!1},ghostPos(){if(this.ghostOverCanvas&&this.canMoveGhost){let e=this.getGhostScorePos();e.colRight=e.col+1,this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.length-1,data:e})}}},mounted(){window.addEventListener("keydown",this.keyEvent),window.addEventListener("resize",this.initInteractListeners),this.makeLocalSignData(),this.initInteractListeners(),this.$store.dispatch("changeCurSign",{signData:{isSelected:!1,holding:!1,baseType:"TurnSign",beatHeight:2,signType:"counterClockwise",definition:!1,resizable:!0}}),setTimeout((()=>{this.addSign({bar:1,beat:0,col:2,side:"right"},!1)}),5),setTimeout((()=>{this.removeSign(this.signs.length-1),this.addBar(this.bars+1),this.removeBar(this.bars),this.makeLocalSignData(),this.$store.dispatch("clearHistory")}),8)},unmounted(){k()(".sign-container.bound-inner").unset(),k()(".room-direction").unset(),k()(".path").unset(),k()(".body-part").unset(),k()(".normal").unset(),k()(".bow").unset(),k()(".sign-container").unset()},methods:{getScroll(e){if(this.interacting){for(let a of this.interactingSigns)this.localSignData[a].x=this.localSignData[a].x+(this.canvasScroll.x-e.target.scrollLeft),this.localSignData[a].y=this.localSignData[a].y-(this.canvasScroll.y-e.target.scrollTop);const t=this.signs.length-1;let i=this.localSignData[t].x+(this.canvasScroll.x-e.target.scrollLeft),n=this.localSignData[t].y-(this.canvasScroll.y-e.target.scrollTop);this.localSignData[t].x=i,this.localSignData[t].y=n}else this.initInteractListeners();const t=this.$refs.container.getBoundingClientRect();this.canvasScroll.x!=e.target.scrollLeft&&this.columnHandlesActive&&(this.$refs.container.classList.contains("highlighted")?this.placeGridHandles({type:"col",x:this.selectedColumnTranslate.x+(this.canvasScroll.x-e.target.scrollLeft)+t.x,y:this.selectedColumnTranslate.y-document.getElementById("canvasContainer").scrollTop-(this.barH/2-15)+t.y}):this.placeGridHandles({type:"col",x:this.selectedColumnTranslate.x+(this.canvasScroll.x-e.target.scrollLeft),y:this.selectedColumnTranslate.y-document.getElementById("canvasContainer").scrollTop-(this.barH/2-15)})),this.canvasScroll.y!=e.target.scrollTop&&this.barHandlesActive&&(this.$refs.container.classList.contains("highlighted")?this.placeGridHandles({type:"bar",x:this.selectedBarTranslate.x-(this.columnWidth-this.signWidth-15)+t.x,y:this.selectedBarTranslate.y+(this.canvasScroll.y-e.target.scrollTop)+t.y}):this.placeGridHandles({type:"bar",x:this.selectedBarTranslate.x-(this.columnWidth-this.signWidth-15),y:this.selectedBarTranslate.y+(this.canvasScroll.y-e.target.scrollTop)})),this.canvasScroll={x:e.target.scrollLeft,y:e.target.scrollTop}},getGhostScorePos(){const e=this.$refs.canvas.getBoundingClientRect();let t={x:this.ghostPos.x-e.x,y:this.ghostPos.y-e.y},i=Math.round(t.x/this.blocksizeX)*this.blocksizeX-this.columnWidth;i<this.columnWidth?i=this.columnWidth:i>this.innerCanvasDim.x&&(i=this.innerCanvasDim.x);let n=Math.round(t.y/this.blocksizeY)*this.blocksizeY-this.blocksizeY;n<0&&(n=0);const a=i/this.columnWidth;let s=a-this.columnsLeft-1,r=this.bars-Math.floor(n/this.barH),o=Math.round(this.beats-Math.round((n-(this.bars-r)*this.barH)/this.blocksizeY)-this.curLibrarySign.signData.beatHeight),l=this.curLibrarySign.signData.beatHeight,c="left";return"BodyPartSign"==this.curLibrarySign.signData.baseType||"PropSign"==this.curLibrarySign.signData.baseType?(r=-1,o=0):this.checkStartingPos(n,this.curLibrarySign.signData.beatHeight*this.blocksizeY)&&this.curLibrarySign.signData.resizable&&(r=0,o=0,"RelationshipBow"!=this.curLibrarySign.signData.baseType&&(l=2)),"RelationshipBow"==this.curLibrarySign.signData.baseType&&s>=this.columnsRight-1&&(s=this.columnsRight-2),"RoomDirectionSign"==this.curLibrarySign.signData.baseType?s=-this.columnsLeft-1:"PathSign"==this.curLibrarySign.signData.baseType&&(s=this.columnsRight),s>=0&&(c="right"),{col:s,bar:r,beat:o,beatHeight:l,side:c}},makeLocalSignData(){this.localSignData=[];for(let e of this.signs)if(0==this.signs.indexOf(e))this.localSignData.push({height:0,x:0,y:0,purpose:"dummy sign"});else{let t={canResize:!0};t.height=e.beatHeight*this.blocksizeY,t.x=(this.columnsLeft+1+e.col)*this.columnWidth+(this.columnWidth-this.signWidth)/2,e.bar>0?t.y=(this.bars-e.bar)*this.barH+(this.beats-e.beat)*this.blocksizeY-t.height:0==e.bar?("RelationshipBow"!=e.baseType&&(t.canResize=!1),e.resizable&&"RelationshipBow"!=e.baseType?(t.y=this.bars*this.barH+this.startBarOffset,2!=e.beatHeight&&(this.$store.dispatch("setInteracting",!0),"isShadow"in e&&e.isShadow?this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(e),data:{beatHeight:2,isShadow:!0}}):this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(e),data:{beatHeight:2}}),this.$store.dispatch("setInteracting",!1))):t.y=this.bars*this.barH+this.startBarOffset+this.blocksizeY):-1==e.bar&&(t.y=this.bars*this.barH+2*this.blocksizeY+2*this.startBarOffset,t.canResize=!1),"RelationshipBow"==e.baseType?(t.width=(e.colRight+1-e.col)*this.columnWidth,t.x=t.x-(this.columnWidth-this.signWidth)/2):t.width=this.signWidth,this.localSignData.push(t)}},placeGridHandles(e){this.$store.dispatch("changeContextMenu",!1);const t=this.$refs.container.getBoundingClientRect();"col"==e.type?(this.columnHandlesActive=!0,this.$refs.container.classList.contains("highlighted")?this.selectedColumnTranslate={x:e.x-t.x,y:e.y+document.getElementById("canvasContainer").scrollTop+this.barH/2-15-t.y}:this.selectedColumnTranslate={x:e.x,y:e.y+document.getElementById("canvasContainer").scrollTop+this.barH/2-15}):(this.barHandlesActive=!0,this.$refs.container.classList.contains("highlighted")?this.selectedBarTranslate={x:e.x-t.x+this.columnWidth-this.signWidth-15,y:e.y-t.y}:this.selectedBarTranslate={x:e.x+this.columnWidth-this.signWidth-15,y:e.y})},updateSelectedColumn(e){this.$store.dispatch("setSelectedColumn",e)},updateSelectedBar(e){this.$store.dispatch("setSelectedBar",e)},lassoSelect(e){this.multiselectActive&&this.$store.dispatch("toggleMultiSelect"),this.selectSign(-1);for(let t=1;t<this.localSignData.length;t++){const i=this.localSignData[t];let n=!(i.y>e.y+e.h||i.y+i.height<e.y||i.x>e.x+e.w||i.x+i.width<e.x);n&&this.selectSign(t,!0)}},addColumn(e){this.$store.dispatch("changeContextMenu",!1),this.contextSign=0;let t="right";e<0&&(t="left"),"left"==t&&e>this.selectedColumn&&this.updateSelectedColumn(this.selectedColumn-1),"right"==t&&e<=this.selectedColumn&&this.updateSelectedColumn(this.selectedColumn+1);for(let i of this.signs)i.col>=e?(this.localSignData[this.signs.indexOf(i)].x=this.localSignData[this.signs.indexOf(i)].x+this.columnWidth,"right"==t&&this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(i),data:{col:i.col+1}})):i.col<e&&"left"==t&&this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(i),data:{col:i.col-1}});this.$store.dispatch("addColumn",t),this.$store.dispatch("saveStateInHistory"),setTimeout(function(){this.initInteractListeners()}.bind(this),1)},removeColumn(e){this.$store.dispatch("changeContextMenu",!1),this.contextSign=0;let t="left";if(e>=0&&(t="right"),"left"==t&&2==this.columnsLeft||"right"==t&&2==this.columnsRight)return!1;"left"==t?this.updateSelectedColumn(e+1):this.updateSelectedColumn(e-1);let i=[];for(let n of this.signs)n.col==e||"RelationshipBow"==n.baseType&&n.col<e&&n.colRight>=e?i.push(this.signs.indexOf(n)):"left"==t?n.col>e?this.localSignData[this.signs.indexOf(n)].x=this.localSignData[this.signs.indexOf(n)].x-this.columnWidth:n.col<e&&this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(n),data:{col:n.col+1}}):n.col>e&&(this.localSignData[this.signs.indexOf(n)].x=this.localSignData[this.signs.indexOf(n)].x-this.columnWidth,this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(n),data:{col:n.col-1}}));for(let n=i.length-1;n>=0;n--)this.$store.dispatch("editSigns",{type:"delete",index:i[n]}),this.localSignData.splice(i[n],1);this.$store.dispatch("removeColumn",t),this.$store.dispatch("saveStateInHistory"),setTimeout(function(){this.initInteractListeners()}.bind(this),1)},addBar(e){this.$store.dispatch("changeContextMenu",!1),this.contextSign=0,e>this.selectedBar?this.selectedBarTranslate.y=this.selectedBarTranslate.y+this.barH:this.updateSelectedBar(this.selectedBar+1);for(let t of this.signs)t.bar<e?this.localSignData[this.signs.indexOf(t)].y=this.localSignData[this.signs.indexOf(t)].y+this.barH:t.bar>=e&&this.$store.dispatch("editSigns",{type:"changeSignData",index:this.signs.indexOf(t),data:{bar:t.bar+1,beat:t.beat}});this.$store.dispatch("addBar"),this.$store.dispatch("saveStateInHistory"),setTimeout(function(){this.initInteractListeners()}.bind(this),1)},removeBar(e){if(this.bars<e||1==this.bars)return!1;this.$store.dispatch("changeContextMenu",!1),this.contextSign=0;let t=[];e==this.bars?this.updateSelectedBar(e-1):this.selectedBarTranslate.y=this.selectedBarTranslate.y-this.barH;for(let i of this.signs){const n=this.signs.indexOf(i);if(n>0){if(i.bar==e){t.push(this.signs.indexOf(i));continue}if(i.bar<e){const e=Math.abs(this.barH-this.localSignData[n].y);this.localSignData[n].y-this.barH>=0?this.localSignData[n].y=this.localSignData[n].y-this.barH:i.beatHeight>1&&(this.localSignData[n].y=this.localSignData[n].y+e-this.barH,this.localSignData[n].height=this.localSignData[n].height-e,this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{beatHeight:this.localSignData[n].height/this.blocksizeY}}))}else this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{bar:i.bar-1,beat:i.beat}})}}for(let i=t.length-1;i>=0;i--)this.$store.dispatch("editSigns",{type:"delete",index:t[i]}),this.localSignData.splice(t[i],1);this.$store.dispatch("removeBar"),this.$store.dispatch("saveStateInHistory"),setTimeout(function(){this.initInteractListeners()}.bind(this),1)},addSign(e,t=!0){let i={};for(const[n,a]of Object.entries(this.curLibrarySign.signData))i[n]=a;i.col=e.col,i.bar=e.bar,i.beat=e.beat,"beatHeight"in i||(i.beatHeight=this.curLibrarySign.height/this.blocksizeY),i.col<0?i.side="left":i.side="right","RelationshipBow"==this.curLibrarySign.signData.baseType&&(i.colRight="colRight"in e?e.colRight:i.col+1),i.bar==this.bars&&i.beat==this.beats-1&&i.beatHeight>1&&(i.beatHeight=1),this.$store.dispatch("editSigns",{type:"add",data:i}),t&&(this.$store.dispatch("changeCurSign",!1),this.$store.dispatch("saveStateInHistory")),this.makeLocalSignData()},removeSign(e=-1){this.selectSign(-1),this.$store.dispatch("changeContextMenu",!1),e>0&&(this.$store.dispatch("editSigns",{type:"delete",index:e}),this.localSignData.splice(e,1),this.contextSign=0)},calcBeatMove(e,t,i,n,a){let s=(n+a-(t+i))/-this.blocksizeY,r=this.signs[e];if(0!=s){let t=r.beat+s;if(t>=0)if(s%1!=0&&(s=Math.floor(s+2),t=r.beat+s),t<this.beats)this.$store.dispatch("editSigns",{type:"changeSignData",index:e,data:{bar:r.bar,beat:t}});else{let i=(t-t%this.beats)/this.beats;this.$store.dispatch("editSigns",{type:"changeSignData",index:e,data:{bar:r.bar+i,beat:t%this.beats}})}else if(s%1!=0&&(s=Math.floor(s-1),t=r.beat+s),t>-this.beats)this.$store.dispatch("editSigns",{type:"changeSignData",index:e,data:{bar:r.bar-1,beat:t+this.beats}});else{let i=(t-(t%this.beats+this.beats)%this.beats)/this.beats;this.$store.dispatch("editSigns",{type:"changeSignData",index:e,data:{bar:r.bar+i,beat:(t%this.beats+this.beats)%this.beats}})}}},calcColumnMove(e,t,i,n,a){let s=Math.round((n+a-(t+i))/this.blocksizeX),r=Math.round((n-t)/this.blocksizeX);const o=this.signs[e];this.$store.dispatch("editSigns",{type:"changeSignData",index:e,data:{col:o.col+r,colRight:o.colRight+s}})},updateSignData(e){this.$store.dispatch("editSigns",{type:"changeSignData",index:e.index,data:e.data}),this.$store.dispatch("saveStateInHistory")},selectSign(e,t=!1){t||this.multiselectActive||this.$store.dispatch("clearSelectedSigns"),e>0?0==this.signs[e].isSelected?(this.$store.dispatch("addToSelectedSigns",e),this.barHandlesActive=!1,this.columnHandlesActive=!1):this.$store.dispatch("removeFromSelectedSigns",e):-1==e&&(this.$store.dispatch("clearSelectedSigns"),this.contextSign=0),this.$store.dispatch("changeContextMenu",!1)},placeSignOnTop(e){let t=this.$refs.bounding.querySelector(".sign-container[signID='"+e+"']");this.$refs.bounding.appendChild(t)},getSignRect(e){let t=this.$refs.bounding.querySelector(".sign-container[signID='"+e+"']"),i=t.getBoundingClientRect();return i},keyEvent(e){if(this.interacting||this.ghostActive)e.preventDefault();else if("Delete"==e.key&&this.selectedSigns.length>0){const e=this.selectedSigns.sort((function(e,t){return e-t}));for(let t=e.length-1;t>=0;t--)this.removeSign(e[t]);this.$store.dispatch("saveStateInHistory")}else if(e.which>=37&&e.which<=40){let t=this.getArrowKeyAction(e.which),i=!1;for(let n of this.selectedSigns){let a=this.signs[n];if(e.which%2==1)a.col+t.column>=-this.columnsLeft&&a.col+t.column<this.columnsRight&&"RoomDirectionSign"!=a.baseType&&"PathSign"!=a.baseType&&("RelationshipBow"==a.baseType?a.colRight+t.column<this.columnsRight&&(this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{col:a.col+t.column,colRight:a.colRight+t.column}}),this.localSignData[n].x=this.localSignData[n].x+t.column*this.columnWidth,i=!0):(this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{col:a.col+t.column}}),this.localSignData[n].x=this.localSignData[n].x+t.column*this.columnWidth,i=!0),a.col<0?this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{side:"left"}}):this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{side:"right"}}));else if("BodyPartSign"!=a.baseType&&"PropSign"!=a.baseType){let e=this.localSignData[n].y,s=this.localSignData[n].height;if(t.beat>0)this.checkStartingPos(this.localSignData[n].y,this.localSignData[n].height)?this.localSignData[n].y=this.localSignData[n].y-2*this.blocksizeY-this.startBarOffset:this.localSignData[n].y-t.beat*this.blocksizeY>=0&&(this.localSignData[n].y=this.localSignData[n].y-this.blocksizeY);else{let e=this.localSignData[n].y+this.blocksizeY;this.checkStartingPos(e,this.localSignData[n].height)&&e+this.localSignData[n].height<this.innerCanvasDimFull.y?(this.localSignData[n].y=this.localSignData[n].y+this.localSignData[n].height+this.startBarOffset,a.resizable&&"RelationshipBow"!=a.baseType?(this.localSignData[n].height=2*this.blocksizeY,this.$store.dispatch("editSigns",{type:"changeSignData",index:n,data:{beatHeight:this.localSignData[n].height/this.blocksizeY}})):this.localSignData[n].y=this.localSignData[n].y+this.blocksizeY):this.checkStartingPos(e,this.localSignData[n].height)||(this.localSignData[n].y=e)}e==this.localSignData[n].y&&s==this.localSignData[n].height||(this.calcBeatMove(n,e,s,this.localSignData[n].y,this.localSignData[n].height),i=!0)}}i&&this.$store.dispatch("saveStateInHistory")}else if("a"!=e.key||!e.ctrlKey&&!e.metaKey){if("i"!=e.key||!e.ctrlKey&&!e.metaKey);else if(this.selectedSigns.length>0){let e=[];for(let i=1;i<this.signs.length;i++)e.push(i);const t=this.selectedSigns.sort();for(let i=t.length-1;i>=0;i--)e.splice(t[i]-1,1);this.selectSign(-1);for(let i of e)this.selectSign(i,!0)}}else if(this.selectedSigns.length>0)this.selectSign(-1);else for(let t=1;t<this.signs.length;t++)this.selectSign(t,!0)},getArrowKeyAction(e){let t=0,i=0;return 37==e?i=-1:38==e?t=1:39==e?i=1:t=-1,{beat:t,column:i}},initInteractListeners(){this.initSignInteraction(),this.initSignClick()},initSignListeners(e){e.addEventListener("contextmenu",this.openContextMenu,!1),["touchstart","touchmove","touchend"].forEach((t=>e.addEventListener(t,this.ignoreTouch))),e.classList.contains("normal")?k()(".normal").resizable({edges:{left:!1,right:!1,bottom:".handle-second",top:".handle-first"},listeners:{start:this.resizeStart,move:this.resizeMove,end:this.resizeEnd},modifiers:[k().modifiers.restrictSize({min:{width:0,height:this.blocksizeY+2*this.handleDiam}}),k().modifiers.restrictEdges({outer:"parent"})],inertia:!1}):k()(".bow").resizable({edges:{left:".handle-first",right:".handle-second",bottom:!1,top:!1},listeners:{start:this.bowResizeStart,move:this.bowResizeMove,end:this.bowResizeEnd},modifiers:[k().modifiers.restrictSize({min:{width:2*this.columnWidth+2*this.handleDiam,height:this.blocksizeY}}),k().modifiers.restrictEdges({outer:this.$refs.boundingInner.getBoundingClientRect()})],inertia:!1})},openContextMenu(e,t=0,i=0){e.preventDefault(),this.$store.dispatch("changeContextMenu",!1),this.contextSign=0;let n=e.target;const a=parseInt(n.getAttribute("signID"));this.contextSign=a;let s=this.getSignRect(a);this.placeSignOnTop(a),this.contextPos.x=s.right+t,this.contextPos.x+this.contextMenuWidth>=window.innerWidth&&(this.contextPos.x=s.x+t-this.contextMenuWidth-5),this.signs[a].isSelected?this.contextPos.y=s.top+i:this.contextPos.y=s.top,this.$refs.container.classList.contains("highlighted")&&(this.contextPos.x=this.contextPos.x-this.$refs.container.getBoundingClientRect().left,this.contextPos.y=this.contextPos.y-this.$refs.container.getBoundingClientRect().top),this.selectSign(a),this.$store.dispatch("changeContextMenu",!0),setTimeout(function(){this.moveContextIntoView()}.bind(this),0)},moveContextIntoView(){this.contextPos.y+document.getElementById("context-menu").offsetHeight+this.$refs.container.getBoundingClientRect().top>=window.innerHeight&&(this.contextPos.y=this.contextPos.y-(this.contextPos.y+document.getElementById("context-menu").offsetHeight+this.$refs.container.getBoundingClientRect().top-window.innerHeight))},initSignInteraction(){k()(".sign-container.bound-inner").unset(),k()(".room-direction").unset(),k()(".path").unset(),k()(".body-part").unset(),k()(".sign-container.bound-inner").draggable({inertia:!1,restrict:{restriction:this.$refs.boundingInner.getBoundingClientRect(),elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:this.dragStart,onmove:this.dragMove,onend:this.dragEnd}),k()(".room-direction").draggable({inertia:!1,restrict:{restriction:this.$refs.boundingOuterLeft.getBoundingClientRect(),elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:this.dragStart,onmove:this.dragMove,onend:this.dragEnd}),k()(".path").draggable({inertia:!1,restrict:{restriction:this.$refs.boundingOuterRight.getBoundingClientRect(),elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:this.dragStart,onmove:this.dragMove,onend:this.dragEnd}),k()(".body-part").draggable({inertia:!1,restrict:{restriction:this.$refs.boundinColumnDef.getBoundingClientRect(),elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:this.dragStart,onmove:this.dragMove,onend:this.dragEnd})},initSignClick(){k()(".sign-container").on("tap",this.clickSign).on("doubletap",this.doubleClickSign).on("hold",function(){this.duplicateSign||this.$store.dispatch("toggleDuplicateSignActive")}.bind(this))},clickSign(e){if(0==e.button){const t=parseInt(e.target.getAttribute("signID"));this.placeSignOnTop(t),this.selectSign(t,e.ctrlKey||e.metaKey)}},doubleClickSign(e){this.openContextMenu(e)},makeShadow(e){let t={};for(const[i,n]of Object.entries(e))t[i]=n;t.isShadow=!0,t.isSelected=!1,t.baseType="GenericSign",t.signType="GenericSign",this.$store.dispatch("editSigns",{type:"add",data:t}),this.makeLocalSignData()},makeInteractBox(){if(this.interactingSigns.length<=0)return!1;this.interactBox={x:this.canvasDimensions.x,y:this.canvasDimensions.y,x2:0,y2:0},this.interactBoxHasPath=!1,this.interactBoxHasRoomDir=!1,this.interactOverflow={x:0,y:0};for(let e of this.interactingSigns){"RoomDirectionSign"==this.signs[e].baseType?this.interactBoxHasRoomDir=!0:"PathSign"==this.signs[e].baseType&&(this.interactBoxHasPath=!0);let t=this.localSignData[e];t.x<=this.interactBox.x&&(this.interactBox.x=t.x),t.y<=this.interactBox.y&&(this.interactBox.y=t.y),t.x+(t.width||this.signWidth)>=this.interactBox.x2&&(this.interactBox.x2=t.x+(t.width||this.signWidth)),t.y+t.height>=this.interactBox.y2&&(this.interactBox.y2=t.y+t.height),this.interactBox.x=Math.round(this.interactBox.x/this.blocksizeX)*this.blocksizeX,this.interactBox.x2=Math.round(this.interactBox.x2/this.blocksizeX)*this.blocksizeX}return!0},checkStartingPos(e,t){return e+t>this.innerCanvasDimFull.y-this.blocksizeY-this.barH/this.beats*2-this.startBarOffset},resizeStart(e){let t=e.target;this.contextActive&&(this.contextWasActive=!0),this.$store.dispatch("changeContextMenu",!1);const i=t.getAttribute("signID");if(this.makeShadow(this.signs[i]),this.selectedSigns.length<=1){this.interactingSigns.push(i);let n=(this.localSignData[i].y||0)+e.dy;t.setAttribute("start-y",n),t.setAttribute("start-h",this.localSignData[i].height),t.classList.add("dragging"),this.placeSignOnTop(i)}else{let t=[];for(let e of this.selectedSigns)"RelationshipBow"!=this.signs[e].baseType&&this.localSignData[e].canResize&&this.signs[e].resizable?this.interactingSigns.push(e):t.push(e);for(let e of t)this.$store.dispatch("removeFromSelectedSigns",e);this.interactingSigns.length>1&&(this.makeInteractBox(),this.multiInteract=!0,this.localSignData[this.signs.length-1].x=this.interactBox.x,this.localSignData[this.signs.length-1].y=this.interactBox.y,this.localSignData[this.signs.length-1].width=this.interactBox.x2-this.interactBox.x,this.localSignData[this.signs.length-1].height=this.interactBox.y2-this.interactBox.y);let i=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let n=0;n<this.interactingSigns.length;n++){this.placeSignOnTop(this.interactingSigns[n]);let t=this.$refs.bounding.querySelectorAll(".sign-container")[i-1];t.classList.add("dragging");let a=(this.localSignData[parseInt(t.getAttribute("signID"))].y||0)+e.dy;t.setAttribute("start-y",a),t.setAttribute("start-h",this.localSignData[parseInt(t.getAttribute("signID"))].height)}}this.$store.dispatch("setInteracting",!0)},resizeMove(e){const t=this.signs.length-1;if(this.multiInteract){for(let t of this.interactingSigns)if(this.localSignData[t].height+e.deltaRect.height<this.blocksizeY)return;if(this.interactBox.y+e.deltaRect.top<0)return this.interactBox.y=0,void(this.interactOverflow.y=this.interactOverflow.y+e.deltaRect.top);if(this.checkStartingPos(this.interactBox.y,this.interactBox.y2-this.interactBox.y+(e.deltaRect.height+e.deltaRect.top)))return void(this.interactOverflow.y=this.interactOverflow.y-(e.deltaRect.height+e.deltaRect.top));if(this.interactOverflow.y<0)return void(this.interactOverflow.y=this.interactOverflow.y+Math.abs(e.deltaRect.top)+Math.abs(e.deltaRect.height));e.deltaRect.top?this.interactBox.y=this.interactBox.y+e.deltaRect.top:this.interactBox.y2=this.interactBox.y2+e.deltaRect.height;let i=Math.round(this.interactBox.y/this.blocksizeY)*this.blocksizeY,n=this.interactBox.y2-this.interactBox.y,a=Math.round(n/this.blocksizeY)*this.blocksizeY;this.localSignData[t].y=i,this.localSignData[t].height=a;for(let t of this.interactingSigns){this.localSignData[t].y=this.localSignData[t].y+e.deltaRect.top,this.localSignData[t].height=this.localSignData[t].height+e.deltaRect.height;let i=this.$refs.bounding.querySelector(".sign-container[signID='"+t+"']");i.setAttribute("data-y",this.localSignData[t].y+e.deltaRect.top)}}else{let i=e.target;const n=i.getAttribute("signID");let a=this.localSignData[n],s=parseFloat(i.getAttribute("data-y"))||0;s+=e.deltaRect.top;let r=Math.round(s/this.blocksizeY)*this.blocksizeY,o=a.height+s-r,l=Math.round(o/this.blocksizeY)*this.blocksizeY;this.localSignData[n].height=e.rect.height-2*this.handleDiam,0!=e.deltaRect.top&&(this.localSignData[t].y=r),this.checkStartingPos(r,l)||(this.localSignData[t].height=l),i.setAttribute("data-y",s),this.localSignData[n].y=this.localSignData[n].y+e.deltaRect.top}},resizeEnd(e){let t=e.target;const i=this.signs.length-1;this.removeSign(i);let n=parseFloat(t.getAttribute("data-y")),a=Math.round(n/this.blocksizeY)*this.blocksizeY;if(this.multiInteract){let e=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let t=0;t<this.interactingSigns.length;t++)this.$refs.bounding.querySelectorAll(".sign-container")[e-1-t].classList.remove("dragging")}else t.classList.remove("dragging");let s=!1;for(let r of this.interactingSigns){t=this.$refs.bounding.querySelector(".sign-container[signID='"+r+"']"),n=parseFloat(t.getAttribute("data-y")),this.checkStartingPos(n,this.localSignData[r].height)&&(this.localSignData[r].height=this.bars*this.beats*this.blocksizeY-n),a=Math.round(n/this.blocksizeY)*this.blocksizeY;let e=Math.round(this.localSignData[r].height/this.blocksizeY)*this.blocksizeY;t.setAttribute("data-y",a),this.localSignData[r].y=a,this.localSignData[r].height=e,this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(r),data:{beatHeight:this.localSignData[r].height/this.blocksizeY}}),0==a&&0!=this.localSignData[r].y&&(this.localSignData[r].y=0),parseFloat(t.getAttribute("start-y"))==this.localSignData[r].y&&parseFloat(t.getAttribute("start-h"))==this.localSignData[r].height||(this.calcBeatMove(r,parseFloat(t.getAttribute("start-y")),parseFloat(t.getAttribute("start-h")),this.localSignData[r].y,this.localSignData[r].height),s=!0),this.selectSign(r,!0)}this.$store.dispatch("setInteracting",!1),this.multiInteract=!1,this.interactingSigns=[],s&&this.$store.dispatch("saveStateInHistory"),this.contextWasActive&&(this.openContextMenu(e,0,screenY-this.handleDiam),this.contextWasActive=!1)},bowResizeStart(e){let t=e.target;this.contextActive&&(this.contextWasActive=!0),this.$store.dispatch("changeContextMenu",!1);const i=t.getAttribute("signID");if(this.makeShadow(this.signs[i]),this.selectedSigns.length<=1){this.interactingSigns.push(i);let n=(this.localSignData[i].x||0)+e.dx;t.setAttribute("start-x",n),t.setAttribute("start-w",this.localSignData[i].width),t.classList.add("dragging"),this.localSignData[this.signs.length-1].y=this.localSignData[i].y,this.placeSignOnTop(i)}else{let t=[];for(let e of this.selectedSigns)"RelationshipBow"==this.signs[e].baseType&&this.localSignData[e].canResize?this.interactingSigns.push(e):t.push(e);for(let e of t)this.$store.dispatch("removeFromSelectedSigns",e);this.makeInteractBox(),this.interactingSigns.length>1&&(this.multiInteract=!0,this.localSignData[this.signs.length-1].x=this.interactBox.x,this.localSignData[this.signs.length-1].y=this.interactBox.y,this.localSignData[this.signs.length-1].width=this.interactBox.x2-this.interactBox.x,this.localSignData[this.signs.length-1].height=this.interactBox.y2-this.interactBox.y);let i=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let n=0;n<this.interactingSigns.length;n++){this.placeSignOnTop(this.interactingSigns[n]);let t=this.$refs.bounding.querySelectorAll(".sign-container")[i-1];t.classList.add("dragging");let a=(this.localSignData[parseInt(t.getAttribute("signID"))].x||0)+e.dx;t.setAttribute("start-x",a),t.setAttribute("start-w",this.localSignData[parseInt(t.getAttribute("signID"))].width)}}this.$store.dispatch("setInteracting",!0)},bowResizeMove(e){let t=e.target;const i=t.getAttribute("signID"),n=this.signs.length-1;if(this.multiInteract){for(let n of this.interactingSigns)if(this.localSignData[n].width+e.deltaRect.width<2*this.columnWidth)return;if(this.interactBox.x+e.deltaRect.left<this.columnWidth)return this.interactBox.x=this.columnWidth,void(this.interactOverflow.x=this.interactOverflow.x+e.deltaRect.left);if(this.interactBox.x2+(e.deltaRect.width+e.deltaRect.left)>this.innerCanvasDimFull.x-this.columnWidth)return this.interactOverflow.x=this.interactOverflow.x-(e.deltaRect.width+e.deltaRect.left),void(this.interactBox.x2=this.innerCanvasDimFull.x-this.columnWidth);if(this.interactOverflow.x<0)return void(this.interactOverflow.x=this.interactOverflow.x+Math.abs(e.deltaRect.left)+Math.abs(e.deltaRect.width));e.deltaRect.left?this.interactBox.x=this.interactBox.x+e.deltaRect.left:this.interactBox.x2=this.interactBox.x2+e.deltaRect.width;let t=Math.round(this.interactBox.x/this.blocksizeX)*this.blocksizeX,i=this.interactBox.x2-this.interactBox.x,a=Math.round(i/this.blocksizeX)*this.blocksizeX;this.localSignData[n].x=t,this.localSignData[n].width=a;for(let n of this.interactingSigns){this.localSignData[n].x=this.localSignData[n].x+e.deltaRect.left,this.localSignData[n].width=this.localSignData[n].width+e.deltaRect.width;let t=this.$refs.bounding.querySelector(".sign-container[signID='"+n+"']");t.setAttribute("data-x",this.localSignData[n].x+e.deltaRect.left)}}else{let a=this.localSignData[i],s=parseFloat(t.getAttribute("data-x"))||0;s+=e.deltaRect.left;let r=Math.round(s/this.blocksizeX)*this.blocksizeX,o=a.width+s-r,l=Math.round(o/this.blocksizeX)*this.blocksizeX;this.localSignData[i].width=e.rect.width-2*this.handleDiam,this.localSignData[n].x=r,this.localSignData[n].width=l,t.setAttribute("data-x",s),this.localSignData[i].x=a.x+e.deltaRect.left}},bowResizeEnd(e){let t=e.target;const i=this.signs.length-1;this.removeSign(i);let n=parseFloat(t.getAttribute("data-x")),a=Math.round(n/this.blocksizeX)*this.blocksizeX;if(this.multiInteract){let e=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let t=0;t<this.interactingSigns.length;t++)this.$refs.bounding.querySelectorAll(".sign-container")[e-1-t].classList.remove("dragging")}else t.classList.remove("dragging");let s=!1;for(let r of this.interactingSigns){t=this.$refs.bounding.querySelector(".sign-container[signID='"+r+"']"),n=parseFloat(t.getAttribute("data-x")),a=Math.round(n/this.blocksizeX)*this.blocksizeX;let e=Math.round(this.localSignData[r].width/this.blocksizeX)*this.blocksizeX;t.setAttribute("data-x",a),this.localSignData[r].x=a,this.localSignData[r].width=e,a==this.columnWidth&&this.localSignData[r].x!=this.columnWidth&&(this.localSignData[r].x=this.columnWidth),parseFloat(t.getAttribute("start-x"))==this.localSignData[r].x&&parseFloat(t.getAttribute("start-w"))==this.localSignData[r].width||(this.calcColumnMove(parseFloat(r),parseFloat(t.getAttribute("start-x")),parseFloat(t.getAttribute("start-w")),this.localSignData[r].x,this.localSignData[r].width),s=!0),this.selectSign(r,!0)}this.$store.dispatch("setInteracting",!1),this.multiInteract=!1,this.interactingSigns=[],s&&this.$store.dispatch("saveStateInHistory"),this.contextWasActive&&(this.openContextMenu(e,screenX-this.handleDiam,screenY),this.contextWasActive=!1)},dragStart(e){let t=e.target,i=parseInt(t.getAttribute("signID"));if(e.shiftKey||this.duplicateSign){0!=this.selectedSigns.length&&this.selectedSigns.includes(parseInt(i))||(this.$store.dispatch("clearSelectedSigns"),this.selectSign(i));for(let e of this.selectedSigns){let t=Object.assign({},this.signs[e]);t.isSelected=!1,this.$store.dispatch("changeCurSign",{signData:t});let i={bar:t.bar,beat:t.beat,col:t.col,side:t.side};"RelationshipBow"==t.baseType&&(i.colRight=t.colRight),this.addSign(i)}}if(this.contextActive&&(this.contextWasActive=!0,this.$store.dispatch("changeContextMenu",!1)),this.selectedSigns.length<=1||!this.selectedSigns.includes(parseInt(i))){this.interactingSigns.push(i),this.$store.dispatch("clearSelectedSigns");let n=(this.localSignData[i].x||0)+e.dx,a=(this.localSignData[i].y||0)+e.dy;t.setAttribute("start-x",n),t.setAttribute("start-y",a),t.setAttribute("start-h",this.localSignData[i].height)}else{for(let e of this.selectedSigns)this.interactingSigns.push(e);this.$store.dispatch("clearSelectedSigns"),this.makeInteractBox(),this.multiInteract=!0}if(this.makeShadow(this.signs[i]),"RelationshipBow"==this.signs[i].baseType&&(this.localSignData[this.signs.length-1].width=this.localSignData[i].width),this.multiInteract){this.localSignData[this.signs.length-1].x=this.interactBox.x,this.localSignData[this.signs.length-1].y=this.interactBox.y,this.localSignData[this.signs.length-1].width=this.interactBox.x2-this.interactBox.x,this.localSignData[this.signs.length-1].height=this.interactBox.y2-this.interactBox.y;let t=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let i=0;i<this.interactingSigns.length;i++){this.placeSignOnTop(this.interactingSigns[i]);let n=this.$refs.bounding.querySelectorAll(".sign-container")[t-1];n.classList.add("dragging");let a=(this.localSignData[parseInt(n.getAttribute("signID"))].x||0)+e.dx,s=(this.localSignData[parseInt(n.getAttribute("signID"))].y||0)+e.dy;n.setAttribute("start-x",a),n.setAttribute("start-y",s),n.setAttribute("start-h",this.localSignData[parseInt(n.getAttribute("signID"))].height)}}else t.classList.add("dragging"),this.placeSignOnTop(i);this.$store.dispatch("setInteracting",!0)},dragMove:function(e){let t=e.target;const i=t.getAttribute("signID"),n=this.signs.length-1;let a=this.localSignData[i];const s=(this.columnWidth-this.signWidth)/2;let r=!1,o=!1;if(this.multiInteract){let t=this.columnWidth,i=this.columnWidth;this.interactBoxHasRoomDir&&(t=0),this.interactBoxHasPath&&(i=0),this.interactBox.x-t+e.dx<0?(this.interactBox.x=t,this.interactOverflow.x=this.interactOverflow.x+e.dx,r=!0):this.interactBox.x2+i+e.dx>this.innerCanvasDimFull.x?(this.interactBox.x2=this.innerCanvasDimFull.x-i,this.interactOverflow.x=this.interactOverflow.x-e.dx,r=!0):this.interactOverflow.x<0?(this.interactOverflow.x=this.interactOverflow.x+Math.abs(e.dx),r=!0):(this.interactBox.x=this.interactBox.x+e.dx,this.interactBox.x2=this.interactBox.x2+e.dx),this.interactBox.y+e.dy<0?(this.interactBox.y=0,this.interactOverflow.y=this.interactOverflow.y+e.dy,o=!0):this.interactBox.y2+e.dy>this.innerCanvasDimFull.y?(this.interactBox.y2=this.innerCanvasDimFull.y,this.interactOverflow.y=this.interactOverflow.y-e.dy,o=!0):this.interactOverflow.y<0?(this.interactOverflow.y=this.interactOverflow.y+Math.abs(e.dy),o=!0):(this.interactBox.y=this.interactBox.y+e.dy,this.interactBox.y2=this.interactBox.y2+e.dy)}else this.localSignData[n].height=a.height;const l="RelationshipBow"==this.signs[i].baseType,c="BodyPartSign"==this.signs[i].baseType||"PropSign"==this.signs[i].baseType,g="PathSign"==this.signs[i].baseType,h="RoomDirectionSign"==this.signs[i].baseType;let d=(this.localSignData[i].x||0)+e.dx,u=(this.localSignData[i].y||0)+e.dy,p=Math.round(d/this.blocksizeX)*this.blocksizeX+s,b=Math.round(u/this.blocksizeY)*this.blocksizeY;if(this.multiInteract&&(p=Math.round(((this.interactBox.x+s||0)+e.dx)/this.blocksizeX)*this.blocksizeX,b=Math.round(((this.interactBox.y||0)+e.dy)/this.blocksizeY)*this.blocksizeY),h&&p>=this.$refs.boundingOuterLeft.getBBox().x+this.$refs.boundingOuterLeft.getBBox().width||!h&&!g&&p>=this.$refs.boundingOuterRight.getBBox().x?p-=this.columnWidth:g?p>=this.$refs.boundingOuterRight.getBBox().x+this.$refs.boundingOuterRight.getBBox().width?p-=this.columnWidth:p<this.$refs.boundingOuterRight.getBBox().x&&(p+=this.columnWidth):l&&(p-=s),this.multiInteract){this.checkStartingPos(b,this.interactBox.y2-this.interactBox.y)?(this.interactBox.y2,this.innerCanvasDimFull.y,this.blocksizeY,this.localSignData[n].height=this.innerCanvasDimFull.y-b-this.blocksizeY,this.localSignData[n].height<2*this.blocksizeY&&(this.localSignData[n].height=2*this.blocksizeY)):(this.localSignData[n].height=this.interactBox.y2-this.interactBox.y,this.localSignData[n].y+this.localSignData[n].height>this.innerCanvasDimFull.y-this.blocksizeY&&(this.localSignData[n].height=this.localSignData[n].height-50));let t=!0,i=!0;for(let n of this.interactingSigns)if(r||"PathSign"==this.signs[n].baseType||"RoomDirectionSign"==this.signs[n].baseType||(this.localSignData[n].x=(this.localSignData[n].x||0)+e.dx),!o&&"BodyPartSign"!=this.signs[n].baseType&&"PropSign"!=this.signs[n].baseType){this.localSignData[n].y=(this.localSignData[n].y||0)+e.dy;let a=Math.round(((this.localSignData[n].y||0)+e.dy)/this.blocksizeY)*this.blocksizeY;t&&!this.checkStartingPos(a,this.localSignData[n].height)?t=!1:i&&this.checkStartingPos(a,this.localSignData[n].height)&&(i=!1)}!o&&t&&(this.localSignData[n].height=2*this.blocksizeY,b=this.innerCanvasDimFull.y-3*this.blocksizeY),!o&&i&&this.checkStartingPos(this.localSignData[n].y,this.localSignData[n].height)&&(this.localSignData[n].height=this.localSignData[n].height-2*this.blocksizeY,this.localSignData[n].height>=this.startBarOffset&&(this.localSignData[n].height=this.localSignData[n].height-this.startBarOffset))}else this.checkStartingPos(b,this.localSignData[i].height)&&(l?b=this.innerCanvasDimFull.y-this.barH/this.beats*2:c?b=this.innerCanvasDimFull.y-this.barH/this.beats*2+this.blocksizeY+this.startBarOffset:this.signs[i].resizable?(this.localSignData[n].height=this.barH/this.beats*2,b=this.innerCanvasDimFull.y-this.blocksizeY-this.barH/this.beats*2):b=this.innerCanvasDimFull.y-this.barH/this.beats*2),this.localSignData[i].x=d,this.localSignData[i].y=u;r||(this.localSignData[n].x=p),o||(this.localSignData[n].y=b)},dragEnd(e){let t=e.target;if(this.multiInteract){let e=this.$refs.bounding.querySelectorAll(".sign-container").length;for(let t=0;t<this.interactingSigns.length;t++)this.$refs.bounding.querySelectorAll(".sign-container")[e-1-t].classList.remove("dragging")}else t.classList.remove("dragging");const i=(this.columnWidth-this.signWidth)/2;let n=!1;for(let o of this.interactingSigns){t=this.$refs.bounding.querySelector(".sign-container[signID='"+o+"']");let e="RelationshipBow"==this.signs[o].baseType,a="BodyPartSign"==this.signs[o].baseType||"PropSign"==this.signs[o].baseType,s="PathSign"==this.signs[o].baseType,r="RoomDirectionSign"==this.signs[o].baseType,l=!1,c=this.localSignData[o].x,g=this.localSignData[o].y,h=Math.round(c/this.blocksizeX)*this.blocksizeX+i,d=Math.round(g/this.blocksizeY)*this.blocksizeY;r&&h>=this.$refs.boundingOuterLeft.getBBox().x+this.$refs.boundingOuterLeft.getBBox().width||!r&&!s&&h>=this.$refs.boundingOuterRight.getBBox().x?h-=this.columnWidth:s?h>=this.$refs.boundingOuterRight.getBBox().x+this.$refs.boundingOuterRight.getBBox().width?h-=this.columnWidth:h<this.$refs.boundingOuterRight.getBBox().x&&(h+=this.columnWidth):e&&(h-=i),this.checkStartingPos(d,this.localSignData[o].height)?a?(d=this.innerCanvasDimFull.y-this.blocksizeY-this.barH/this.beats*2+2*this.blocksizeY,l=!0):!this.signs[o].resizable||e?d=this.innerCanvasDimFull.y-this.barH/this.beats*2:(this.localSignData[o].height=this.barH/this.beats*2,this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{beatHeight:this.localSignData[o].height/this.blocksizeY}}),d=this.innerCanvasDimFull.y-this.barH/this.beats*2-this.blocksizeY,this.localSignData[o].canResize=!1):this.localSignData[o].canResize=!0,this.localSignData[o].x=h,this.localSignData[o].y=d,t.setAttribute("data-y",d);let u=(parseFloat(t.getAttribute("start-x"))-this.localSignData[o].x)/-this.blocksizeX;e?this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{col:this.signs[o].col+u,colRight:this.signs[o].colRight+u}}):this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{col:this.signs[o].col+u}}),0!=u&&(n=!0),this.signs[o].col>=0?this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{side:"right"}}):this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{side:"left"}}),parseFloat(t.getAttribute("start-y"))==this.localSignData[o].y&&parseFloat(t.getAttribute("start-h"))==this.localSignData[o].height||(this.calcBeatMove(o,parseFloat(t.getAttribute("start-y")),parseFloat(t.getAttribute("start-h")),this.localSignData[o].y,this.localSignData[o].height),n=!0),a&&l&&this.$store.dispatch("editSigns",{type:"changeSignData",index:parseFloat(o),data:{bar:-1,beat:0}})}const a=this.signs.length-1;this.removeSign(a),this.$store.dispatch("setInteracting",!1),this.multiInteract=!1;for(let o of this.interactingSigns)this.selectSign(o,!0);this.interactingSigns=[],this.duplicateSign&&this.$store.dispatch("toggleDuplicateSignActive");let s=this.localSignData[t.getAttribute("signID")].x,r=this.localSignData[t.getAttribute("signID")].y;this.contextWasActive&&(this.openContextMenu(e,screenX-s,screenY-r-this.handleDiam),this.contextWasActive=!1),n&&this.$store.dispatch("saveStateInHistory")},ignoreTouch(e){e.cancelable?e.preventDefault():(console.warn("The following event couldn't be canceled:"),console.dir(e))}}},L=i(6262);const C=(0,L.A)(w,[["render",D]]);var I=C},9027:function(e){"use strict";e.exports=JSON.parse('{"catName":"Wide Signs","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":1,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":2,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":3,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":4,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":5,"resizable":true,"beatHeight":1},{"baseType":"SpaceMeasurementSign","signType":"Narrow","degree":6,"resizable":true,"beatHeight":1}]}')},9042:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(641),a=i(33);const s=["d","stroke-width","signID"];function r(e,t,i,r,o,l){return(0,n.uX)(),(0,n.CE)("path",{class:(0,a.C4)(["actual-sign draggable",{active:i.isSelected}]),stroke:"black",d:o.path,"stroke-width":i.isSelected?l.borderWidth+1:l.borderWidth,signID:i.id},null,10,s)}var o={name:"FoldingSign",props:{isSelected:Boolean,id:Number,degree:Number},inject:["borderWidth"],data(){return{path:"M 5,40 L 20,0 L 35,40 M 0,30 L 40,30"}}},l=i(6262);const c=(0,l.A)(o,[["render",r]]);var g=c},9137:function(e,t,i){"use strict";e.exports=i.p+"img/bow-pass-grasp.e8616b83.svg"},9310:function(e,t,i){"use strict";e.exports=i.p+"img/pin-low-forward.da5eeaea.svg"},9313:function(e,t,i){var n={"./intro/editor-intro/different-resize-types.svg":2909,"./intro/editor-intro/select-box.svg":8510,"./laban/body-parts/body-part-types.svg":8916,"./laban/body-parts/digit-types.svg":2773,"./laban/body-parts/surface-types.svg":6863,"./laban/direction-signs/direction-inner-pin.svg":335,"./laban/direction-signs/direction-outer-pin.svg":8350,"./laban/direction-signs/direction-sign-variations.svg":4899,"./laban/laban-basic/body-part-types.svg":5736,"./laban/laban-basic/direction-sign-variations.svg":4940,"./laban/laban-basic/further-columns.svg":9350,"./laban/laban-basic/space-measure-degrees.svg":1920,"./laban/laban-basic/turn-pin-and-space.svg":7768,"./laban/relationship-bows/addressing.svg":5009,"./laban/relationship-bows/bow-pass-grasp.svg":9137,"./laban/relationship-pins/pin-circle.svg":7258,"./laban/space-measurements/space-measure-degrees.svg":1794,"./laban/turn-signs/turn-pin-and-space.svg":7955,"./laban/turn-signs/turn-pins.svg":9713};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=9313},9350:function(e,t,i){"use strict";e.exports=i.p+"img/further-columns.054f11b0.svg"},9421:function(e,t,i){"use strict";e.exports=i.p+"img/layer-up.632bbe8c.svg"},9508:function(e){"use strict";e.exports=JSON.parse('{"breakPoints":{"0":1},"introData":[{"title":"Relationship Pins","text":"Relationship pins can be used to modify other movements, such as direction signs or turns. Similarly to direction signs, they come in nine horizontal and three vertical directions.<br><br> A black pinhead indicates a downward direction, a flat pinhead a purely horizontal direction and a white pinhead an upward direction.","buttonText":"Finish","position":{"elem":"library","hSide":"right","vSide":"top"},"stateChange":false,"image":"pin-circle.svg","highlightID":"none","highlightElem":"signLibrary"}]}')},9595:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var n=i(641),a=i(3751),s=i.p+"img/check.5a60df50.svg",r=i(160);const o={class:"option-nested menu-option",tabIndex:"0",role:"button"},l={class:"option-box"},c={class:"menu-option-container"},g={src:s,class:"option-img smaller"},h={src:r,class:"option-img"},d={class:"menu-option-container"},u={src:s,class:"option-img smaller"},p={src:r,class:"option-img"};function b(e,t,i,s,r,b){return(0,n.uX)(),(0,n.CE)("ul",o,[t[5]||(t[5]=(0,n.Lk)("li",{class:"option-dropdown-top"},[(0,n.Lk)("p",null,"View")],-1)),(0,n.Lk)("div",l,[(0,n.Lk)("li",{class:"option-item",onClick:t[0]||(t[0]=e=>b.toggleHelpLines())},[(0,n.Lk)("div",c,[(0,n.bo)((0,n.Lk)("img",g,null,512),[[a.aG,b.helpLinesActive]]),(0,n.bo)((0,n.Lk)("img",h,null,512),[[a.aG,!b.helpLinesActive]]),t[2]||(t[2]=(0,n.Lk)("p",null,"Score help Lines",-1))])]),t[4]||(t[4]=(0,n.Lk)("li",{class:"option-item spacer"},null,-1)),(0,n.Lk)("li",{class:"option-item",onClick:t[1]||(t[1]=e=>b.toggleScoreDescription())},[(0,n.Lk)("div",d,[(0,n.bo)((0,n.Lk)("img",u,null,512),[[a.aG,b.showScoreDescription]]),(0,n.bo)((0,n.Lk)("img",p,null,512),[[a.aG,!b.showScoreDescription]]),t[3]||(t[3]=(0,n.Lk)("p",null,"Score Description",-1))])])])])}var m={name:"ViewMenu",props:{showShortCuts:Boolean},computed:{helpLinesActive(){return this.$store.state["showHelpLines"]},showScoreDescription(){return this.$store.state["showScoreDescription"]}},methods:{toggleHelpLines(){this.$store.dispatch("changeSettings",{showHelpLines:!this.helpLinesActive})},toggleScoreDescription(){this.$store.dispatch("changeSettings",{showScoreDescription:!this.showScoreDescription})}}},f=i(6262);const S=(0,f.A)(m,[["render",b]]);var y=S},9601:function(e){"use strict";e.exports=JSON.parse('{"catName":"Finger Joints","names":[{"name":"Fingers","signType":"Fingers"}]}')},9673:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var n=i(641),a=i(33);const s={ref:"turnContainer"},r=["points","transform","stroke-width","signID"],o=["points","transform","stroke-width","signID"],l=["transform"],c=["cx","stroke-width","signID"];function g(e,t,i,g,h,d){const u=(0,n.g2)("Pin"),p=(0,n.g2)("SpaceMeasurementSign");return(0,n.uX)(),(0,n.CE)("g",s,["any"==i.signData.signType?((0,n.uX)(),(0,n.CE)("polygon",{key:0,class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),points:d.points,transform:"translate("+d.signWidth+", 0) scale("+"-1, 1)",stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id},null,10,r)):(0,n.Q3)("",!0),(0,n.Lk)("polygon",{class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),points:d.points,transform:d.transform,stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id},null,10,o),i.signData.definition&&"Pin"==i.signData.definition.baseType?((0,n.uX)(),(0,n.Wv)(u,{key:1,isSelected:i.isSelected,id:i.id,signData:i.signData.definition,height:i.height},null,8,["isSelected","id","signData","height"])):i.signData.definition&&"SpaceMeasurementSign"==i.signData.definition.baseType?((0,n.uX)(),(0,n.CE)("g",{key:2,transform:"translate(0, "+(i.height/2-25)+")"},[(0,n.bF)(p,{isSelected:i.isSelected,id:i.id,signData:i.signData.definition,height:50},null,8,["isSelected","id","signData"])],8,l)):(0,n.Q3)("",!0),i.signData.holding?((0,n.uX)(),(0,n.CE)("circle",{key:3,cx:d.signWidth/2,cy:5,r:"5",class:(0,a.C4)(["draggable actual-sign",{active:i.isSelected}]),stroke:"black","stroke-width":i.isSelected?d.borderWidth+1:d.borderWidth,signID:i.id},null,10,c)):(0,n.Q3)("",!0)],512)}var h={name:"TurnSign",props:{isSelected:Boolean,id:Number,signData:Object,height:Number},inject:["signWidth","borderWidth","barHeight"],computed:{points(){let e="0,0 "+this.signWidth+","+this.beatHeight/3+" "+this.signWidth+","+this.height+" 0,"+(this.height-this.beatHeight/3);return this.signData.holding&&(e="0,10 "+this.signWidth+","+(this.beatHeight/3+10)+" "+this.signWidth+","+this.height+" 0,"+(this.height-this.beatHeight/3)),e},beatHeight(){return this.barHeight()/this.$store.state["beatsPerBar"]},transform(){let e="",t=[1,1],i=[0,0];return"clockwise"==this.signData.signType&&(t[0]=-1,i[0]=this.signWidth),e="translate("+i[0]+", "+i[1]+") scale("+t[0]+", "+t[1]+")",e}}},d=i(6262);const u=(0,d.A)(h,[["render",g]]);var p=u},9713:function(e,t,i){"use strict";e.exports=i.p+"img/turn-pins.710ec908.svg"},9805:function(e){"use strict";e.exports=JSON.parse('{"catName":"Low Pin Signs","names":[{"name":"Low Pin","signType":"Low"}]}')},9810:function(e,t,i){"use strict";i.r(t),t["default"]='<laban:score xmlns:laban="http://www.example.org/labanotation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/labanotation labanotation.xsd">\r\n  <laban:version>0.5</laban:version>\r\n  <laban:author>Julian Schalon</laban:author>\r\n  <laban:title>intro-score</laban:title>\r\n  <laban:description>The score used in the editor and labanotation introductions.</laban:description>\r\n  <laban:staff>\r\n    <laban:measures>2</laban:measures>\r\n    <laban:timing>\r\n      <laban:timeUnit>Second</laban:timeUnit>\r\n      <laban:measure>\r\n        <laban:index>0</laban:index>\r\n        <laban:beatDuration>1</laban:beatDuration>\r\n        <laban:beats>4</laban:beats>\r\n      </laban:measure>\r\n    </laban:timing>\r\n    <laban:columns><laban:columnDefinition><laban:index>3</laban:index><laban:preSign><laban:bodyPart><laban:limb><laban:default><laban:limb>lower_arm</laban:limb></laban:default></laban:limb><laban:side>right</laban:side></laban:bodyPart></laban:preSign></laban:columnDefinition></laban:columns>\r\n    <laban:movements><laban:movement><laban:column>-1</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>true</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>0</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>true</laban:hold><laban:direction><laban:vertical>middle</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement><laban:movement><laban:column>3</laban:column><laban:measure>1</laban:measure><laban:beat>0.0</laban:beat><laban:duration>4.0</laban:duration><laban:hold>false</laban:hold><laban:vibration><laban:displacement><laban:vertical>high</laban:vertical><laban:horizontal>90</laban:horizontal></laban:displacement><laban:displacement><laban:vertical>high</laban:vertical><laban:horizontal>270</laban:horizontal></laban:displacement></laban:vibration></laban:movement><laban:movement><laban:column>3</laban:column><laban:measure>0</laban:measure><laban:beat>0.0</laban:beat><laban:duration>2.0</laban:duration><laban:hold>false</laban:hold><laban:direction><laban:vertical>high</laban:vertical><laban:horizontal>place</laban:horizontal></laban:direction></laban:movement></laban:movements>\r\n  </laban:staff>\r\n</laban:score>'},9887:function(e,t,i){var n={"./App.vue":8797,"./components/Base Signs/Body Parts/Ankle.vue":1600,"./components/Base Signs/Body Parts/Chest.vue":8047,"./components/Base Signs/Body Parts/Elbow.vue":3971,"./components/Base Signs/Body Parts/Fingers.vue":8734,"./components/Base Signs/Body Parts/Foot.vue":8638,"./components/Base Signs/Body Parts/Hand.vue":4826,"./components/Base Signs/Body Parts/Head.vue":5624,"./components/Base Signs/Body Parts/Hip.vue":7589,"./components/Base Signs/Body Parts/Knee.vue":7926,"./components/Base Signs/Body Parts/Pelvis.vue":1575,"./components/Base Signs/Body Parts/Shoulder.vue":8108,"./components/Base Signs/Body Parts/Toes.vue":4626,"./components/Base Signs/Body Parts/Torso.vue":2944,"./components/Base Signs/Body Parts/Waist.vue":7931,"./components/Base Signs/Body Parts/Wrist.vue":7834,"./components/Base Signs/BodyPartSign.vue":5596,"./components/Base Signs/Cancel.vue":4264,"./components/Base Signs/DirectionSign.vue":411,"./components/Base Signs/GenericSign.vue":3358,"./components/Base Signs/PathSign.vue":2150,"./components/Base Signs/Pin.vue":862,"./components/Base Signs/PropSign.vue":3554,"./components/Base Signs/Props/SmartPhone.vue":869,"./components/Base Signs/RelationshipBow.vue":5301,"./components/Base Signs/RoomDirectionSign.vue":8790,"./components/Base Signs/Space Measurement Signs/Folding.vue":3821,"./components/Base Signs/Space Measurement Signs/Joining.vue":1748,"./components/Base Signs/Space Measurement Signs/Narrow.vue":545,"./components/Base Signs/Space Measurement Signs/NeitherOr.vue":4670,"./components/Base Signs/Space Measurement Signs/Spreading.vue":2223,"./components/Base Signs/Space Measurement Signs/Unfolding.vue":9042,"./components/Base Signs/Space Measurement Signs/Wide.vue":3447,"./components/Base Signs/SpaceMeasurementSign.vue":6703,"./components/Base Signs/TurnSign.vue":9673,"./components/Base Signs/VibrationSign.vue":3095,"./components/Cloud Buttons/CloudExportButton.vue":387,"./components/Cloud Buttons/CloudImportButton.vue":4012,"./components/Cloud Buttons/DropBoxImport.vue":4031,"./components/Cloud Buttons/DropBoxSVGExport.vue":1149,"./components/Cloud Buttons/DropboxXMLExport.vue":8939,"./components/Context Menu Items/DeleteOption.vue":3360,"./components/Context Menu Items/OnOffOption.vue":1191,"./components/Context Menu Items/RadioOption.vue":1914,"./components/Context Menu Items/SignCategoryContainer.vue":7606,"./components/Context Menu Items/SliderOption.vue":8715,"./components/Context Menus/BodyPartSignContext.vue":4528,"./components/Context Menus/CancelContext.vue":6102,"./components/Context Menus/DirectionSignContext.vue":7033,"./components/Context Menus/GenericSignContext.vue":7345,"./components/Context Menus/PathSignContext.vue":8847,"./components/Context Menus/RelationshipBowContext.vue":4923,"./components/Context Menus/RoomDirectionSignContext.vue":4130,"./components/Context Menus/SpaceMeasurementSignContext.vue":4978,"./components/Context Menus/TurnSignContext.vue":400,"./components/Context Menus/VibrationSignContext.vue":5906,"./components/ContextMenu.vue":4814,"./components/Grid.vue":5138,"./components/InteractionMenu.vue":3060,"./components/LibraryItem.vue":1307,"./components/LibraryItemContainer.vue":7681,"./components/Modals/ConfirmationModal.vue":8008,"./components/Modals/EditorExplainModal.vue":6558,"./components/Modals/IntroductionModal.vue":6129,"./components/Modals/ScoreEditModal.vue":6238,"./components/Options Menu Items/EditMenu.vue":4060,"./components/Options Menu Items/FileMenu.vue":836,"./components/Options Menu Items/HelpMenu.vue":3452,"./components/Options Menu Items/ViewMenu.vue":9595,"./components/OptionsMenu.vue":1582,"./components/ResizeHandle.vue":1214,"./components/Score.vue":8975,"./components/SignContainer.vue":582,"./components/SignLibrary.vue":6514,"./views/Main.vue":1989};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=9887},9931:function(e){"use strict";e.exports=JSON.parse('{"catName":"Finger Digits","catHeight":50,"baseHeight":50,"general":[{"isSelected":false,"canResize":false,"height":50,"x":0,"y":0}],"signData":[{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":1,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":2,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":3,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":4,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8},{"baseType":"BodyPartSign","signType":"Fingers","surface":false,"limb":false,"digit":5,"joint":0,"resizable":false,"canBeLimb":true,"beatHeight":0.8}]}')},9959:function(e){"use strict";e.exports=JSON.parse('{"catName":"Joining Signs","names":[{"name":"Joining","signType":"Joining"}]}')}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,s){if(!n){var r=1/0;for(g=0;g<e.length;g++){n=e[g][0],a=e[g][1],s=e[g][2];for(var o=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(o=!1,s<r&&(r=s));if(o){e.splice(g--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var g=e.length;g>0&&e[g-1][2]>s;g--)e[g]=e[g-1];e[g]=[n,a,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.p="/bachelor-thesis/"}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,r=n[0],o=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var g=l(i)}for(t&&t(n);c<r.length;c++)s=r[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(g)},n=self["webpackChunkitm_interaction_editor"]=self["webpackChunkitm_interaction_editor"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(7939)}));n=i.O(n)})();
//# sourceMappingURL=app.2181909e.js.map